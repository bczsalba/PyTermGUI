<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="pdoc 13.1.1"/>
    <title>pytermgui.widgets.base API documentation</title>

    <style>/*! * Bootstrap Reboot v5.0.0 (https://getbootstrap.com/) * Copyright 2011-2021 The Bootstrap Authors * Copyright 2011-2021 Twitter, Inc. * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE) * Forked from Normalize.css, licensed MIT (https://github.com/necolas/normalize.css/blob/master/LICENSE.md) */*,::after,::before{box-sizing:border-box}@media (prefers-reduced-motion:no-preference){:root{scroll-behavior:smooth}}body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}hr{margin:1rem 0;color:inherit;background-color:currentColor;border:0;opacity:.25}hr:not([size]){height:1px}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem;font-weight:500;line-height:1.2}h1{font-size:calc(1.375rem + 1.5vw)}@media (min-width:1200px){h1{font-size:2.5rem}}h2{font-size:calc(1.325rem + .9vw)}@media (min-width:1200px){h2{font-size:2rem}}h3{font-size:calc(1.3rem + .6vw)}@media (min-width:1200px){h3{font-size:1.75rem}}h4{font-size:calc(1.275rem + .3vw)}@media (min-width:1200px){h4{font-size:1.5rem}}h5{font-size:1.25rem}h6{font-size:1rem}p{margin-top:0;margin-bottom:1rem}abbr[data-bs-original-title],abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{margin-bottom:1rem;font-style:normal;line-height:inherit}ol,ul{padding-left:2rem}dl,ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}small{font-size:.875em}mark{padding:.2em;background-color:#fcf8e3}sub,sup{position:relative;font-size:.75em;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:#0d6efd;text-decoration:underline}a:hover{color:#0a58ca}a:not([href]):not([class]),a:not([href]):not([class]):hover{color:inherit;text-decoration:none}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em;direction:ltr;unicode-bidi:bidi-override}pre{display:block;margin-top:0;margin-bottom:1rem;overflow:auto;font-size:.875em}pre code{font-size:inherit;color:inherit;word-break:normal}code{font-size:.875em;color:#d63384;word-wrap:break-word}a>code{color:inherit}kbd{padding:.2rem .4rem;font-size:.875em;color:#fff;background-color:#212529;border-radius:.2rem}kbd kbd{padding:0;font-size:1em;font-weight:700}figure{margin:0 0 1rem}img,svg{vertical-align:middle}table{caption-side:bottom;border-collapse:collapse}caption{padding-top:.5rem;padding-bottom:.5rem;color:#6c757d;text-align:left}th{text-align:inherit;text-align:-webkit-match-parent}tbody,td,tfoot,th,thead,tr{border-color:inherit;border-style:solid;border-width:0}label{display:inline-block}button{border-radius:0}button:focus:not(:focus-visible){outline:0}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}select:disabled{opacity:1}[list]::-webkit-calendar-picker-indicator{display:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}::-moz-focus-inner{padding:0;border-style:none}textarea{resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{float:left;width:100%;padding:0;margin-bottom:.5rem;font-size:calc(1.275rem + .3vw);line-height:inherit}@media (min-width:1200px){legend{font-size:1.5rem}}legend+*{clear:left}::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-fields-wrapper,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-text,::-webkit-datetime-edit-year-field{padding:0}::-webkit-inner-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:textfield}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-color-swatch-wrapper{padding:0}::file-selector-button{font:inherit}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}iframe{border:0}summary{display:list-item;cursor:pointer}progress{vertical-align:baseline}[hidden]{display:none!important}</style>
    <style>/*! syntax-highlighting.css */pre{line-height:125%;}span.linenos{color:inherit; background-color:transparent; padding-left:5px; padding-right:20px;}.pdoc-code .hll{background-color:#ffffcc}.pdoc-code{background:#f8f8f8;}.pdoc-code .c{color:#3D7B7B; font-style:italic}.pdoc-code .err{border:1px solid #FF0000}.pdoc-code .k{color:#008000; font-weight:bold}.pdoc-code .o{color:#666666}.pdoc-code .ch{color:#3D7B7B; font-style:italic}.pdoc-code .cm{color:#3D7B7B; font-style:italic}.pdoc-code .cp{color:#9C6500}.pdoc-code .cpf{color:#3D7B7B; font-style:italic}.pdoc-code .c1{color:#3D7B7B; font-style:italic}.pdoc-code .cs{color:#3D7B7B; font-style:italic}.pdoc-code .gd{color:#A00000}.pdoc-code .ge{font-style:italic}.pdoc-code .gr{color:#E40000}.pdoc-code .gh{color:#000080; font-weight:bold}.pdoc-code .gi{color:#008400}.pdoc-code .go{color:#717171}.pdoc-code .gp{color:#000080; font-weight:bold}.pdoc-code .gs{font-weight:bold}.pdoc-code .gu{color:#800080; font-weight:bold}.pdoc-code .gt{color:#0044DD}.pdoc-code .kc{color:#008000; font-weight:bold}.pdoc-code .kd{color:#008000; font-weight:bold}.pdoc-code .kn{color:#008000; font-weight:bold}.pdoc-code .kp{color:#008000}.pdoc-code .kr{color:#008000; font-weight:bold}.pdoc-code .kt{color:#B00040}.pdoc-code .m{color:#666666}.pdoc-code .s{color:#BA2121}.pdoc-code .na{color:#687822}.pdoc-code .nb{color:#008000}.pdoc-code .nc{color:#0000FF; font-weight:bold}.pdoc-code .no{color:#880000}.pdoc-code .nd{color:#AA22FF}.pdoc-code .ni{color:#717171; font-weight:bold}.pdoc-code .ne{color:#CB3F38; font-weight:bold}.pdoc-code .nf{color:#0000FF}.pdoc-code .nl{color:#767600}.pdoc-code .nn{color:#0000FF; font-weight:bold}.pdoc-code .nt{color:#008000; font-weight:bold}.pdoc-code .nv{color:#19177C}.pdoc-code .ow{color:#AA22FF; font-weight:bold}.pdoc-code .w{color:#bbbbbb}.pdoc-code .mb{color:#666666}.pdoc-code .mf{color:#666666}.pdoc-code .mh{color:#666666}.pdoc-code .mi{color:#666666}.pdoc-code .mo{color:#666666}.pdoc-code .sa{color:#BA2121}.pdoc-code .sb{color:#BA2121}.pdoc-code .sc{color:#BA2121}.pdoc-code .dl{color:#BA2121}.pdoc-code .sd{color:#BA2121; font-style:italic}.pdoc-code .s2{color:#BA2121}.pdoc-code .se{color:#AA5D1F; font-weight:bold}.pdoc-code .sh{color:#BA2121}.pdoc-code .si{color:#A45A77; font-weight:bold}.pdoc-code .sx{color:#008000}.pdoc-code .sr{color:#A45A77}.pdoc-code .s1{color:#BA2121}.pdoc-code .ss{color:#19177C}.pdoc-code .bp{color:#008000}.pdoc-code .fm{color:#0000FF}.pdoc-code .vc{color:#19177C}.pdoc-code .vg{color:#19177C}.pdoc-code .vi{color:#19177C}.pdoc-code .vm{color:#19177C}.pdoc-code .il{color:#666666}</style>
    <style>/*! theme.css */:root{--pdoc-background:#fff;}.pdoc{--text:#212529;--muted:#6c757d;--link:#3660a5;--link-hover:#1659c5;--code:#f8f8f8;--active:#fff598;--accent:#eee;--accent2:#c1c1c1;--nav-hover:rgba(255, 255, 255, 0.5);--name:#0066BB;--def:#008800;--annotation:#007020;}</style>
    <style>/*! layout.css */html, body{width:100%;height:100%;}html, main{scroll-behavior:smooth;}body{background-color:var(--pdoc-background);}@media (max-width:769px){#navtoggle{cursor:pointer;position:absolute;width:50px;height:40px;top:1rem;right:1rem;border-color:var(--text);color:var(--text);display:flex;opacity:0.8;z-index:999;}#navtoggle:hover{opacity:1;}#togglestate + div{display:none;}#togglestate:checked + div{display:inherit;}main, header{padding:2rem 3vw;}header + main{margin-top:-3rem;}.git-button{display:none !important;}nav input[type="search"]{max-width:77%;}nav input[type="search"]:first-child{margin-top:-6px;}nav input[type="search"]:valid ~ *{display:none !important;}}@media (min-width:770px){:root{--sidebar-width:clamp(12.5rem, 28vw, 22rem);}nav{position:fixed;overflow:auto;height:100vh;width:var(--sidebar-width);}main, header{padding:3rem 2rem 3rem calc(var(--sidebar-width) + 3rem);width:calc(54rem + var(--sidebar-width));max-width:100%;}header + main{margin-top:-4rem;}#navtoggle{display:none;}}#togglestate{position:absolute;height:0;opacity:0;}nav.pdoc{--pad:clamp(0.5rem, 2vw, 1.75rem);--indent:1.5rem;background-color:var(--accent);border-right:1px solid var(--accent2);box-shadow:0 0 20px rgba(50, 50, 50, .2) inset;padding:0 0 0 var(--pad);overflow-wrap:anywhere;scrollbar-width:thin; scrollbar-color:var(--accent2) transparent }nav.pdoc::-webkit-scrollbar{width:.4rem; }nav.pdoc::-webkit-scrollbar-thumb{background-color:var(--accent2); }nav.pdoc > div{padding:var(--pad) 0;}nav.pdoc .module-list-button{display:inline-flex;align-items:center;color:var(--text);border-color:var(--muted);margin-bottom:1rem;}nav.pdoc .module-list-button:hover{border-color:var(--text);}nav.pdoc input[type=search]{display:block;outline-offset:0;width:calc(100% - var(--pad));}nav.pdoc .logo{max-width:calc(100% - var(--pad));max-height:35vh;display:block;margin:0 auto 1rem;transform:translate(calc(-.5 * var(--pad)), 0);}nav.pdoc ul{list-style:none;padding-left:0;}nav.pdoc > div > ul{margin-left:calc(0px - var(--pad));}nav.pdoc li a{padding:.2rem 0 .2rem calc(var(--pad) + var(--indent));}nav.pdoc > div > ul > li > a{padding-left:var(--pad);}nav.pdoc li{transition:all 100ms;}nav.pdoc li:hover{background-color:var(--nav-hover);}nav.pdoc a, nav.pdoc a:hover{color:var(--text);}nav.pdoc a{display:block;}nav.pdoc > h2:first-of-type{margin-top:1.5rem;}nav.pdoc .class:before{content:"class ";color:var(--muted);}nav.pdoc .function:after{content:"()";color:var(--muted);}nav.pdoc footer:before{content:"";display:block;width:calc(100% - var(--pad));border-top:solid var(--accent2) 1px;margin-top:1.5rem;padding-top:.5rem;}nav.pdoc footer{font-size:small;}</style>
    <style>/*! content.css */.pdoc{color:var(--text);box-sizing:border-box;line-height:1.5;background:none;}.pdoc .pdoc-button{cursor:pointer;display:inline-block;border:solid black 1px;border-radius:2px;font-size:.75rem;padding:calc(0.5em - 1px) 1em;transition:100ms all;}.pdoc .pdoc-alert{padding:1rem 1rem 1rem calc(1.5rem + 24px);border:1px solid transparent;border-radius:.25rem;background-repeat:no-repeat;background-position:1rem center;margin-bottom:1rem;}.pdoc .pdoc-alert > *:last-child{margin-bottom:0;}.pdoc .pdoc-alert-note {color:#084298;background-color:#cfe2ff;border-color:#b6d4fe;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23084298%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8%2016A8%208%200%201%200%208%200a8%208%200%200%200%200%2016zm.93-9.412-1%204.705c-.07.34.029.533.304.533.194%200%20.487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703%200-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381%202.29-.287zM8%205.5a1%201%200%201%201%200-2%201%201%200%200%201%200%202z%22/%3E%3C/svg%3E");}.pdoc .pdoc-alert-warning{color:#664d03;background-color:#fff3cd;border-color:#ffecb5;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23664d03%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8.982%201.566a1.13%201.13%200%200%200-1.96%200L.165%2013.233c-.457.778.091%201.767.98%201.767h13.713c.889%200%201.438-.99.98-1.767L8.982%201.566zM8%205c.535%200%20.954.462.9.995l-.35%203.507a.552.552%200%200%201-1.1%200L7.1%205.995A.905.905%200%200%201%208%205zm.002%206a1%201%200%201%201%200%202%201%201%200%200%201%200-2z%22/%3E%3C/svg%3E");}.pdoc .pdoc-alert-danger{color:#842029;background-color:#f8d7da;border-color:#f5c2c7;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23842029%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M5.52.359A.5.5%200%200%201%206%200h4a.5.5%200%200%201%20.474.658L8.694%206H12.5a.5.5%200%200%201%20.395.807l-7%209a.5.5%200%200%201-.873-.454L6.823%209.5H3.5a.5.5%200%200%201-.48-.641l2.5-8.5z%22/%3E%3C/svg%3E");}.pdoc .visually-hidden{position:absolute !important;width:1px !important;height:1px !important;padding:0 !important;margin:-1px !important;overflow:hidden !important;clip:rect(0, 0, 0, 0) !important;white-space:nowrap !important;border:0 !important;}.pdoc h1, .pdoc h2, .pdoc h3{font-weight:300;margin:.3em 0;padding:.2em 0;}.pdoc > section:not(.module-info) h1{font-size:1.5rem;font-weight:500;}.pdoc > section:not(.module-info) h2{font-size:1.4rem;font-weight:500;}.pdoc > section:not(.module-info) h3{font-size:1.3rem;font-weight:500;}.pdoc > section:not(.module-info) h4{font-size:1.2rem;}.pdoc > section:not(.module-info) h5{font-size:1.1rem;}.pdoc a{text-decoration:none;color:var(--link);}.pdoc a:hover{color:var(--link-hover);}.pdoc blockquote{margin-left:2rem;}.pdoc pre{border-top:1px solid var(--accent2);border-bottom:1px solid var(--accent2);margin-top:0;margin-bottom:1em;padding:.5rem 0 .5rem .5rem;overflow-x:auto;background-color:var(--code);}.pdoc code{color:var(--text);padding:.2em .4em;margin:0;font-size:85%;background-color:var(--code);border-radius:6px;}.pdoc a > code{color:inherit;}.pdoc pre > code{display:inline-block;font-size:inherit;background:none;border:none;padding:0;}.pdoc > section:not(.module-info){margin-bottom:1.5rem;}.pdoc .modulename{margin-top:0;font-weight:bold;}.pdoc .modulename a{color:var(--link);transition:100ms all;}.pdoc .git-button{float:right;border:solid var(--link) 1px;}.pdoc .git-button:hover{background-color:var(--link);color:var(--pdoc-background);}.view-source-toggle-state,.view-source-toggle-state ~ .pdoc-code{display:none;}.view-source-toggle-state:checked ~ .pdoc-code{display:block;}.view-source-button{display:inline-block;float:right;font-size:.75rem;line-height:1.5rem;color:var(--muted);padding:0 .4rem 0 1.3rem;cursor:pointer;text-indent:-2px;}.view-source-button > span{visibility:hidden;}.module-info .view-source-button{float:none;display:flex;justify-content:flex-end;margin:-1.2rem .4rem -.2rem 0;}.view-source-button::before{position:absolute;content:"View Source";display:list-item;list-style-type:disclosure-closed;}.view-source-toggle-state:checked ~ .attr .view-source-button::before,.view-source-toggle-state:checked ~ .view-source-button::before{list-style-type:disclosure-open;}.pdoc .docstring{margin-bottom:1.5rem;}.pdoc section:not(.module-info) .docstring{margin-left:clamp(0rem, 5vw - 2rem, 1rem);}.pdoc .docstring .pdoc-code{margin-left:1em;margin-right:1em;}.pdoc h1:target,.pdoc h2:target,.pdoc h3:target,.pdoc h4:target,.pdoc h5:target,.pdoc h6:target,.pdoc .pdoc-code > pre > span:target{background-color:var(--active);box-shadow:-1rem 0 0 0 var(--active);}.pdoc .pdoc-code > pre > span:target{display:block;}.pdoc div:target > .attr,.pdoc section:target > .attr,.pdoc dd:target > a{background-color:var(--active);}.pdoc *{scroll-margin:2rem;}.pdoc .pdoc-code .linenos{user-select:none;}.pdoc .attr:hover{filter:contrast(0.95);}.pdoc section, .pdoc .classattr{position:relative;}.pdoc .headerlink{--width:clamp(1rem, 3vw, 2rem);position:absolute;top:0;left:calc(0rem - var(--width));transition:all 100ms ease-in-out;opacity:0;}.pdoc .headerlink::before{content:"#";display:block;text-align:center;width:var(--width);height:2.3rem;line-height:2.3rem;font-size:1.5rem;}.pdoc .attr:hover ~ .headerlink,.pdoc *:target > .headerlink,.pdoc .headerlink:hover{opacity:1;}.pdoc .attr{display:block;margin:.5rem 0 .5rem;padding:.4rem .4rem .4rem 1rem;background-color:var(--accent);overflow-x:auto;}.pdoc .classattr{margin-left:2rem;}.pdoc .name{color:var(--name);font-weight:bold;}.pdoc .def{color:var(--def);font-weight:bold;}.pdoc .signature{background-color:transparent;}.pdoc .param, .pdoc .return-annotation{white-space:pre;}.pdoc .signature.multiline .param{display:block;}.pdoc .signature.condensed .param{display:inline-block;}.pdoc .annotation{color:var(--annotation);}.pdoc .view-value-toggle-state,.pdoc .view-value-toggle-state ~ .default_value{display:none;}.pdoc .view-value-toggle-state:checked ~ .default_value{display:inherit;}.pdoc .view-value-button{font-size:.5rem;vertical-align:middle;border-style:dashed;margin-top:-0.1rem;}.pdoc .view-value-button:hover{background:white;}.pdoc .view-value-button::before{content:"show";text-align:center;width:2.2em;display:inline-block;}.pdoc .view-value-toggle-state:checked ~ .view-value-button::before{content:"hide";}.pdoc .inherited{margin-left:2rem;}.pdoc .inherited dt{font-weight:700;}.pdoc .inherited dt, .pdoc .inherited dd{display:inline;margin-left:0;margin-bottom:.5rem;}.pdoc .inherited dd:not(:last-child):after{content:", ";}.pdoc .inherited .class:before{content:"class ";}.pdoc .inherited .function a:after{content:"()";}.pdoc .search-result .docstring{overflow:auto;max-height:25vh;}.pdoc .search-result.focused > .attr{background-color:var(--active);}.pdoc .attribution{margin-top:2rem;display:block;opacity:0.5;transition:all 200ms;filter:grayscale(100%);}.pdoc .attribution:hover{opacity:1;filter:grayscale(0%);}.pdoc .attribution img{margin-left:5px;height:35px;vertical-align:middle;width:70px;transition:all 200ms;}.pdoc table{display:block;width:max-content;max-width:100%;overflow:auto;margin-bottom:1rem;}.pdoc table th{font-weight:600;}.pdoc table th, .pdoc table td{padding:6px 13px;border:1px solid var(--accent2);}</style>
    <style>/*! custom.css */</style></head>
<body>
    <nav class="pdoc">
        <label id="navtoggle" for="togglestate" class="pdoc-button"><svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'><path stroke-linecap='round' stroke="currentColor" stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/></svg></label>
        <input id="togglestate" type="checkbox" aria-hidden="true" tabindex="-1">
        <div>            <a class="pdoc-button module-list-button" href="../widgets.html">
<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-arrow-in-left" viewBox="0 0 16 16">
  <path fill-rule="evenodd" d="M10 3.5a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 1 1 0v2A1.5 1.5 0 0 1 9.5 14h-8A1.5 1.5 0 0 1 0 12.5v-9A1.5 1.5 0 0 1 1.5 2h8A1.5 1.5 0 0 1 11 3.5v2a.5.5 0 0 1-1 0v-2z"/>
  <path fill-rule="evenodd" d="M4.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H14.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3z"/>
</svg>                &nbsp;pytermgui.widgets</a>

            <img src="https://github.com/bczsalba/pytermgui/blob/master/assets/title.png?raw=true" class="logo" alt="project logo"/>

            <input type="search" placeholder="Search..." role="searchbox" aria-label="search"
                   pattern=".+" required>



            <h2>API Documentation</h2>
                <ul class="memberlist">
            <li>
                    <a class="class" href="#Widget">Widget</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#Widget.__init__">Widget</a>
                        </li>
                        <li>
                                <a class="function" href="#Widget.set_style">set_style</a>
                        </li>
                        <li>
                                <a class="function" href="#Widget.set_char">set_char</a>
                        </li>
                        <li>
                                <a class="variable" href="#Widget.styles">styles</a>
                        </li>
                        <li>
                                <a class="variable" href="#Widget.chars">chars</a>
                        </li>
                        <li>
                                <a class="variable" href="#Widget.keys">keys</a>
                        </li>
                        <li>
                                <a class="variable" href="#Widget.serialized">serialized</a>
                        </li>
                        <li>
                                <a class="variable" href="#Widget.size_policy">size_policy</a>
                        </li>
                        <li>
                                <a class="variable" href="#Widget.parent_align">parent_align</a>
                        </li>
                        <li>
                                <a class="function" href="#Widget.from_data">from_data</a>
                        </li>
                        <li>
                                <a class="variable" href="#Widget.bindings">bindings</a>
                        </li>
                        <li>
                                <a class="variable" href="#Widget.id">id</a>
                        </li>
                        <li>
                                <a class="variable" href="#Widget.selectables_length">selectables_length</a>
                        </li>
                        <li>
                                <a class="variable" href="#Widget.selectables">selectables</a>
                        </li>
                        <li>
                                <a class="variable" href="#Widget.is_selectable">is_selectable</a>
                        </li>
                        <li>
                                <a class="variable" href="#Widget.static_width">static_width</a>
                        </li>
                        <li>
                                <a class="variable" href="#Widget.relative_width">relative_width</a>
                        </li>
                        <li>
                                <a class="variable" href="#Widget.terminal">terminal</a>
                        </li>
                        <li>
                                <a class="function" href="#Widget.get_change">get_change</a>
                        </li>
                        <li>
                                <a class="function" href="#Widget.contains">contains</a>
                        </li>
                        <li>
                                <a class="function" href="#Widget.handle_mouse">handle_mouse</a>
                        </li>
                        <li>
                                <a class="function" href="#Widget.handle_key">handle_key</a>
                        </li>
                        <li>
                                <a class="function" href="#Widget.serialize">serialize</a>
                        </li>
                        <li>
                                <a class="function" href="#Widget.copy">copy</a>
                        </li>
                        <li>
                                <a class="function" href="#Widget.get_lines">get_lines</a>
                        </li>
                        <li>
                                <a class="function" href="#Widget.move">move</a>
                        </li>
                        <li>
                                <a class="function" href="#Widget.bind">bind</a>
                        </li>
                        <li>
                                <a class="function" href="#Widget.unbind">unbind</a>
                        </li>
                        <li>
                                <a class="function" href="#Widget.execute_binding">execute_binding</a>
                        </li>
                        <li>
                                <a class="function" href="#Widget.select">select</a>
                        </li>
                        <li>
                                <a class="function" href="#Widget.print">print</a>
                        </li>
                        <li>
                                <a class="function" href="#Widget.debug">debug</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#Label">Label</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#Label.__init__">Label</a>
                        </li>
                        <li>
                                <a class="variable" href="#Label.serialized">serialized</a>
                        </li>
                        <li>
                                <a class="variable" href="#Label.styles">styles</a>
                        </li>
                        <li>
                                <a class="function" href="#Label.get_lines">get_lines</a>
                        </li>
                </ul>

            </li>
    </ul>



        <a class="attribution" title="pdoc: Python API documentation generator" href="https://pdoc.dev" target="_blank">
            built with <span class="visually-hidden">pdoc</span><img
                alt="pdoc logo"
                src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20role%3D%22img%22%20aria-label%3D%22pdoc%20logo%22%20width%3D%22300%22%20height%3D%22150%22%20viewBox%3D%22-1%200%2060%2030%22%3E%3Ctitle%3Epdoc%3C/title%3E%3Cpath%20d%3D%22M29.621%2021.293c-.011-.273-.214-.475-.511-.481a.5.5%200%200%200-.489.503l-.044%201.393c-.097.551-.695%201.215-1.566%201.704-.577.428-1.306.486-2.193.182-1.426-.617-2.467-1.654-3.304-2.487l-.173-.172a3.43%203.43%200%200%200-.365-.306.49.49%200%200%200-.286-.196c-1.718-1.06-4.931-1.47-7.353.191l-.219.15c-1.707%201.187-3.413%202.131-4.328%201.03-.02-.027-.49-.685-.141-1.763.233-.721.546-2.408.772-4.076.042-.09.067-.187.046-.288.166-1.347.277-2.625.241-3.351%201.378-1.008%202.271-2.586%202.271-4.362%200-.976-.272-1.935-.788-2.774-.057-.094-.122-.18-.184-.268.033-.167.052-.339.052-.516%200-1.477-1.202-2.679-2.679-2.679-.791%200-1.496.352-1.987.9a6.3%206.3%200%200%200-1.001.029c-.492-.564-1.207-.929-2.012-.929-1.477%200-2.679%201.202-2.679%202.679A2.65%202.65%200%200%200%20.97%206.554c-.383.747-.595%201.572-.595%202.41%200%202.311%201.507%204.29%203.635%205.107-.037.699-.147%202.27-.423%203.294l-.137.461c-.622%202.042-2.515%208.257%201.727%2010.643%201.614.908%203.06%201.248%204.317%201.248%202.665%200%204.492-1.524%205.322-2.401%201.476-1.559%202.886-1.854%206.491.82%201.877%201.393%203.514%201.753%204.861%201.068%202.223-1.713%202.811-3.867%203.399-6.374.077-.846.056-1.469.054-1.537zm-4.835%204.313c-.054.305-.156.586-.242.629-.034-.007-.131-.022-.307-.157-.145-.111-.314-.478-.456-.908.221.121.432.25.675.355.115.039.219.051.33.081zm-2.251-1.238c-.05.33-.158.648-.252.694-.022.001-.125-.018-.307-.157-.217-.166-.488-.906-.639-1.573.358.344.754.693%201.198%201.036zm-3.887-2.337c-.006-.116-.018-.231-.041-.342.635.145%201.189.368%201.599.625.097.231.166.481.174.642-.03.049-.055.101-.067.158-.046.013-.128.026-.298.004-.278-.037-.901-.57-1.367-1.087zm-1.127-.497c.116.306.176.625.12.71-.019.014-.117.045-.345.016-.206-.027-.604-.332-.986-.695.41-.051.816-.056%201.211-.031zm-4.535%201.535c.209.22.379.47.358.598-.006.041-.088.138-.351.234-.144.055-.539-.063-.979-.259a11.66%2011.66%200%200%200%20.972-.573zm.983-.664c.359-.237.738-.418%201.126-.554.25.237.479.548.457.694-.006.042-.087.138-.351.235-.174.064-.694-.105-1.232-.375zm-3.381%201.794c-.022.145-.061.29-.149.401-.133.166-.358.248-.69.251h-.002c-.133%200-.306-.26-.45-.621.417.091.854.07%201.291-.031zm-2.066-8.077a4.78%204.78%200%200%201-.775-.584c.172-.115.505-.254.88-.378l-.105.962zm-.331%202.302a10.32%2010.32%200%200%201-.828-.502c.202-.143.576-.328.984-.49l-.156.992zm-.45%202.157l-.701-.403c.214-.115.536-.249.891-.376a11.57%2011.57%200%200%201-.19.779zm-.181%201.716c.064.398.194.702.298.893-.194-.051-.435-.162-.736-.398.061-.119.224-.3.438-.495zM8.87%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zm-.735-.389a1.15%201.15%200%200%200-.314.783%201.16%201.16%200%200%200%201.162%201.162c.457%200%20.842-.27%201.032-.653.026.117.042.238.042.362a1.68%201.68%200%200%201-1.679%201.679%201.68%201.68%200%200%201-1.679-1.679c0-.843.626-1.535%201.436-1.654zM5.059%205.406A1.68%201.68%200%200%201%203.38%207.085a1.68%201.68%200%200%201-1.679-1.679c0-.037.009-.072.011-.109.21.3.541.508.935.508a1.16%201.16%200%200%200%201.162-1.162%201.14%201.14%200%200%200-.474-.912c.015%200%20.03-.005.045-.005.926.001%201.679.754%201.679%201.68zM3.198%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zM1.375%208.964c0-.52.103-1.035.288-1.52.466.394%201.06.64%201.717.64%201.144%200%202.116-.725%202.499-1.738.383%201.012%201.355%201.738%202.499%201.738.867%200%201.631-.421%202.121-1.062.307.605.478%201.267.478%201.942%200%202.486-2.153%204.51-4.801%204.51s-4.801-2.023-4.801-4.51zm24.342%2019.349c-.985.498-2.267.168-3.813-.979-3.073-2.281-5.453-3.199-7.813-.705-1.315%201.391-4.163%203.365-8.423.97-3.174-1.786-2.239-6.266-1.261-9.479l.146-.492c.276-1.02.395-2.457.444-3.268a6.11%206.11%200%200%200%201.18.115%206.01%206.01%200%200%200%202.536-.562l-.006.175c-.802.215-1.848.612-2.021%201.25-.079.295.021.601.274.837.219.203.415.364.598.501-.667.304-1.243.698-1.311%201.179-.02.144-.022.507.393.787.213.144.395.26.564.365-1.285.521-1.361.96-1.381%201.126-.018.142-.011.496.427.746l.854.489c-.473.389-.971.914-.999%201.429-.018.278.095.532.316.713.675.556%201.231.721%201.653.721.059%200%20.104-.014.158-.02.207.707.641%201.64%201.513%201.64h.013c.8-.008%201.236-.345%201.462-.626.173-.216.268-.457.325-.692.424.195.93.374%201.372.374.151%200%20.294-.021.423-.068.732-.27.944-.704.993-1.021.009-.061.003-.119.002-.179.266.086.538.147.789.147.15%200%20.294-.021.423-.069.542-.2.797-.489.914-.754.237.147.478.258.704.288.106.014.205.021.296.021.356%200%20.595-.101.767-.229.438.435%201.094.992%201.656%201.067.106.014.205.021.296.021a1.56%201.56%200%200%200%20.323-.035c.17.575.453%201.289.866%201.605.358.273.665.362.914.362a.99.99%200%200%200%20.421-.093%201.03%201.03%200%200%200%20.245-.164c.168.428.39.846.68%201.068.358.273.665.362.913.362a.99.99%200%200%200%20.421-.093c.317-.148.512-.448.639-.762.251.157.495.257.726.257.127%200%20.25-.024.37-.071.427-.17.706-.617.841-1.314.022-.015.047-.022.068-.038.067-.051.133-.104.196-.159-.443%201.486-1.107%202.761-2.086%203.257zM8.66%209.925a.5.5%200%201%200-1%200c0%20.653-.818%201.205-1.787%201.205s-1.787-.552-1.787-1.205a.5.5%200%201%200-1%200c0%201.216%201.25%202.205%202.787%202.205s2.787-.989%202.787-2.205zm4.4%2015.965l-.208.097c-2.661%201.258-4.708%201.436-6.086.527-1.542-1.017-1.88-3.19-1.844-4.198a.4.4%200%200%200-.385-.414c-.242-.029-.406.164-.414.385-.046%201.249.367%203.686%202.202%204.896.708.467%201.547.7%202.51.7%201.248%200%202.706-.392%204.362-1.174l.185-.086a.4.4%200%200%200%20.205-.527c-.089-.204-.326-.291-.527-.206zM9.547%202.292c.093.077.205.114.317.114a.5.5%200%200%200%20.318-.886L8.817.397a.5.5%200%200%200-.703.068.5.5%200%200%200%20.069.703l1.364%201.124zm-7.661-.065c.086%200%20.173-.022.253-.068l1.523-.893a.5.5%200%200%200-.506-.863l-1.523.892a.5.5%200%200%200-.179.685c.094.158.261.247.432.247z%22%20transform%3D%22matrix%28-1%200%200%201%2058%200%29%22%20fill%3D%22%233bb300%22/%3E%3Cpath%20d%3D%22M.3%2021.86V10.18q0-.46.02-.68.04-.22.18-.5.28-.54%201.34-.54%201.06%200%201.42.28.38.26.44.78.76-1.04%202.38-1.04%201.64%200%203.1%201.54%201.46%201.54%201.46%203.58%200%202.04-1.46%203.58-1.44%201.54-3.08%201.54-1.64%200-2.38-.92v4.04q0%20.46-.04.68-.02.22-.18.5-.14.3-.5.42-.36.12-.98.12-.62%200-1-.12-.36-.12-.52-.4-.14-.28-.18-.5-.02-.22-.02-.68zm3.96-9.42q-.46.54-.46%201.18%200%20.64.46%201.18.48.52%201.2.52.74%200%201.24-.52.52-.52.52-1.18%200-.66-.48-1.18-.48-.54-1.26-.54-.76%200-1.22.54zm14.741-8.36q.16-.3.54-.42.38-.12%201-.12.64%200%201.02.12.38.12.52.42.16.3.18.54.04.22.04.68v11.94q0%20.46-.04.7-.02.22-.18.5-.3.54-1.7.54-1.38%200-1.54-.98-.84.96-2.34.96-1.8%200-3.28-1.56-1.48-1.58-1.48-3.66%200-2.1%201.48-3.68%201.5-1.58%203.28-1.58%201.48%200%202.3%201v-4.2q0-.46.02-.68.04-.24.18-.52zm-3.24%2010.86q.52.54%201.26.54.74%200%201.22-.54.5-.54.5-1.18%200-.66-.48-1.22-.46-.56-1.26-.56-.8%200-1.28.56-.48.54-.48%201.2%200%20.66.52%201.2zm7.833-1.2q0-2.4%201.68-3.96%201.68-1.56%203.84-1.56%202.16%200%203.82%201.56%201.66%201.54%201.66%203.94%200%201.66-.86%202.96-.86%201.28-2.1%201.9-1.22.6-2.54.6-1.32%200-2.56-.64-1.24-.66-2.1-1.92-.84-1.28-.84-2.88zm4.18%201.44q.64.48%201.3.48.66%200%201.32-.5.66-.5.66-1.48%200-.98-.62-1.46-.62-.48-1.34-.48-.72%200-1.34.5-.62.5-.62%201.48%200%20.96.64%201.46zm11.412-1.44q0%20.84.56%201.32.56.46%201.18.46.64%200%201.18-.36.56-.38.9-.38.6%200%201.46%201.06.46.58.46%201.04%200%20.76-1.1%201.42-1.14.8-2.8.8-1.86%200-3.58-1.34-.82-.64-1.34-1.7-.52-1.08-.52-2.36%200-1.3.52-2.34.52-1.06%201.34-1.7%201.66-1.32%203.54-1.32.76%200%201.48.22.72.2%201.06.4l.32.2q.36.24.56.38.52.4.52.92%200%20.5-.42%201.14-.72%201.1-1.38%201.1-.38%200-1.08-.44-.36-.34-1.04-.34-.66%200-1.24.48-.58.48-.58%201.34z%22%20fill%3D%22green%22/%3E%3C/svg%3E"/>
        </a>
</div>
    </nav>
    <main class="pdoc">
            <section class="module-info">
                    <h1 class="modulename">
<a href="./../../pytermgui.html">pytermgui</a><wbr>.<a href="./../widgets.html">widgets</a><wbr>.base    </h1>

                        <div class="docstring"><p>The basic building blocks making up the Widget system.</p>
</div>

                        <input id="mod-base-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">

                        <label class="view-source-button" for="mod-base-view-source"><span>View Source</span></label>

                        <div class="pdoc-code codehilite"><pre><span></span><span id="L-1"><a href="#L-1"><span class="linenos">  1</span></a><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-2"><a href="#L-2"><span class="linenos">  2</span></a><span class="sd">The basic building blocks making up the Widget system.</span>
</span><span id="L-3"><a href="#L-3"><span class="linenos">  3</span></a><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-4"><a href="#L-4"><span class="linenos">  4</span></a>
</span><span id="L-5"><a href="#L-5"><span class="linenos">  5</span></a><span class="c1"># The classes defined here need more than 7 instance attributes,</span>
</span><span id="L-6"><a href="#L-6"><span class="linenos">  6</span></a><span class="c1"># and there is no cyclic import during runtime.</span>
</span><span id="L-7"><a href="#L-7"><span class="linenos">  7</span></a><span class="c1"># pylint: disable=too-many-instance-attributes, cyclic-import</span>
</span><span id="L-8"><a href="#L-8"><span class="linenos">  8</span></a>
</span><span id="L-9"><a href="#L-9"><span class="linenos">  9</span></a><span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">annotations</span>
</span><span id="L-10"><a href="#L-10"><span class="linenos"> 10</span></a>
</span><span id="L-11"><a href="#L-11"><span class="linenos"> 11</span></a><span class="kn">from</span> <span class="nn">copy</span> <span class="kn">import</span> <span class="n">deepcopy</span>
</span><span id="L-12"><a href="#L-12"><span class="linenos"> 12</span></a><span class="kn">from</span> <span class="nn">inspect</span> <span class="kn">import</span> <span class="n">signature</span>
</span><span id="L-13"><a href="#L-13"><span class="linenos"> 13</span></a><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Any</span><span class="p">,</span> <span class="n">Callable</span><span class="p">,</span> <span class="n">Generator</span><span class="p">,</span> <span class="n">Iterator</span><span class="p">,</span> <span class="n">Optional</span><span class="p">,</span> <span class="n">Type</span><span class="p">,</span> <span class="n">Union</span>
</span><span id="L-14"><a href="#L-14"><span class="linenos"> 14</span></a><span class="kn">from</span> <span class="nn">unicodedata</span> <span class="kn">import</span> <span class="n">lookup</span> <span class="k">as</span> <span class="n">u_lookup</span>
</span><span id="L-15"><a href="#L-15"><span class="linenos"> 15</span></a>
</span><span id="L-16"><a href="#L-16"><span class="linenos"> 16</span></a><span class="kn">from</span> <span class="nn">..ansi_interface</span> <span class="kn">import</span> <span class="n">MouseAction</span><span class="p">,</span> <span class="n">MouseEvent</span><span class="p">,</span> <span class="n">reset</span>
</span><span id="L-17"><a href="#L-17"><span class="linenos"> 17</span></a><span class="kn">from</span> <span class="nn">..enums</span> <span class="kn">import</span> <span class="n">HorizontalAlignment</span><span class="p">,</span> <span class="n">SizePolicy</span><span class="p">,</span> <span class="n">WidgetChange</span>
</span><span id="L-18"><a href="#L-18"><span class="linenos"> 18</span></a><span class="kn">from</span> <span class="nn">..fancy_repr</span> <span class="kn">import</span> <span class="n">FancyYield</span>
</span><span id="L-19"><a href="#L-19"><span class="linenos"> 19</span></a><span class="kn">from</span> <span class="nn">..helpers</span> <span class="kn">import</span> <span class="n">break_line</span>
</span><span id="L-20"><a href="#L-20"><span class="linenos"> 20</span></a><span class="kn">from</span> <span class="nn">..input</span> <span class="kn">import</span> <span class="n">keys</span>
</span><span id="L-21"><a href="#L-21"><span class="linenos"> 21</span></a><span class="kn">from</span> <span class="nn">..markup</span> <span class="kn">import</span> <span class="n">get_markup</span>
</span><span id="L-22"><a href="#L-22"><span class="linenos"> 22</span></a><span class="kn">from</span> <span class="nn">..regex</span> <span class="kn">import</span> <span class="n">real_length</span>
</span><span id="L-23"><a href="#L-23"><span class="linenos"> 23</span></a><span class="kn">from</span> <span class="nn">..term</span> <span class="kn">import</span> <span class="n">Terminal</span><span class="p">,</span> <span class="n">get_terminal</span>
</span><span id="L-24"><a href="#L-24"><span class="linenos"> 24</span></a><span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">styles</span> <span class="k">as</span> <span class="n">w_styles</span>
</span><span id="L-25"><a href="#L-25"><span class="linenos"> 25</span></a>
</span><span id="L-26"><a href="#L-26"><span class="linenos"> 26</span></a><span class="n">__all__</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Widget&quot;</span><span class="p">,</span> <span class="s2">&quot;Label&quot;</span><span class="p">]</span>
</span><span id="L-27"><a href="#L-27"><span class="linenos"> 27</span></a>
</span><span id="L-28"><a href="#L-28"><span class="linenos"> 28</span></a><span class="n">BoundCallback</span> <span class="o">=</span> <span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span>
</span><span id="L-29"><a href="#L-29"><span class="linenos"> 29</span></a><span class="n">WidgetType</span> <span class="o">=</span> <span class="n">Union</span><span class="p">[</span><span class="s2">&quot;Widget&quot;</span><span class="p">,</span> <span class="n">Type</span><span class="p">[</span><span class="s2">&quot;Widget&quot;</span><span class="p">]]</span>
</span><span id="L-30"><a href="#L-30"><span class="linenos"> 30</span></a>
</span><span id="L-31"><a href="#L-31"><span class="linenos"> 31</span></a>
</span><span id="L-32"><a href="#L-32"><span class="linenos"> 32</span></a><span class="k">def</span> <span class="nf">_set_obj_or_cls_style</span><span class="p">(</span>
</span><span id="L-33"><a href="#L-33"><span class="linenos"> 33</span></a>    <span class="n">obj_or_cls</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Widget</span><span class="p">]</span> <span class="o">|</span> <span class="n">Widget</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">w_styles</span><span class="o">.</span><span class="n">StyleType</span>
</span><span id="L-34"><a href="#L-34"><span class="linenos"> 34</span></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Type</span><span class="p">[</span><span class="n">Widget</span><span class="p">]</span> <span class="o">|</span> <span class="n">Widget</span><span class="p">:</span>
</span><span id="L-35"><a href="#L-35"><span class="linenos"> 35</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Sets a style for an object or class</span>
</span><span id="L-36"><a href="#L-36"><span class="linenos"> 36</span></a>
</span><span id="L-37"><a href="#L-37"><span class="linenos"> 37</span></a><span class="sd">    Args:</span>
</span><span id="L-38"><a href="#L-38"><span class="linenos"> 38</span></a><span class="sd">        obj_or_cls: The Widget instance or type to update.</span>
</span><span id="L-39"><a href="#L-39"><span class="linenos"> 39</span></a><span class="sd">        key: The style key.</span>
</span><span id="L-40"><a href="#L-40"><span class="linenos"> 40</span></a><span class="sd">        value: The new style.</span>
</span><span id="L-41"><a href="#L-41"><span class="linenos"> 41</span></a>
</span><span id="L-42"><a href="#L-42"><span class="linenos"> 42</span></a><span class="sd">    Returns:</span>
</span><span id="L-43"><a href="#L-43"><span class="linenos"> 43</span></a><span class="sd">        Type[Widget] | Widget: The updated class.</span>
</span><span id="L-44"><a href="#L-44"><span class="linenos"> 44</span></a>
</span><span id="L-45"><a href="#L-45"><span class="linenos"> 45</span></a><span class="sd">    Raises:</span>
</span><span id="L-46"><a href="#L-46"><span class="linenos"> 46</span></a><span class="sd">        See `pytermgui.widgets.styles.StyleManager`.</span>
</span><span id="L-47"><a href="#L-47"><span class="linenos"> 47</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-48"><a href="#L-48"><span class="linenos"> 48</span></a>
</span><span id="L-49"><a href="#L-49"><span class="linenos"> 49</span></a>    <span class="n">obj_or_cls</span><span class="o">.</span><span class="n">styles</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
</span><span id="L-50"><a href="#L-50"><span class="linenos"> 50</span></a>
</span><span id="L-51"><a href="#L-51"><span class="linenos"> 51</span></a>    <span class="k">return</span> <span class="n">obj_or_cls</span>
</span><span id="L-52"><a href="#L-52"><span class="linenos"> 52</span></a>
</span><span id="L-53"><a href="#L-53"><span class="linenos"> 53</span></a>
</span><span id="L-54"><a href="#L-54"><span class="linenos"> 54</span></a><span class="k">def</span> <span class="nf">_set_obj_or_cls_char</span><span class="p">(</span>
</span><span id="L-55"><a href="#L-55"><span class="linenos"> 55</span></a>    <span class="n">obj_or_cls</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Widget</span><span class="p">]</span> <span class="o">|</span> <span class="n">Widget</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">w_styles</span><span class="o">.</span><span class="n">CharType</span>
</span><span id="L-56"><a href="#L-56"><span class="linenos"> 56</span></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Type</span><span class="p">[</span><span class="n">Widget</span><span class="p">]</span> <span class="o">|</span> <span class="n">Widget</span><span class="p">:</span>
</span><span id="L-57"><a href="#L-57"><span class="linenos"> 57</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Sets a char for an object or class</span>
</span><span id="L-58"><a href="#L-58"><span class="linenos"> 58</span></a>
</span><span id="L-59"><a href="#L-59"><span class="linenos"> 59</span></a><span class="sd">    Args:</span>
</span><span id="L-60"><a href="#L-60"><span class="linenos"> 60</span></a><span class="sd">        obj_or_cls: The Widget instance or type to update.</span>
</span><span id="L-61"><a href="#L-61"><span class="linenos"> 61</span></a><span class="sd">        key: The char key.</span>
</span><span id="L-62"><a href="#L-62"><span class="linenos"> 62</span></a><span class="sd">        value: The new char.</span>
</span><span id="L-63"><a href="#L-63"><span class="linenos"> 63</span></a>
</span><span id="L-64"><a href="#L-64"><span class="linenos"> 64</span></a><span class="sd">    Returns:</span>
</span><span id="L-65"><a href="#L-65"><span class="linenos"> 65</span></a><span class="sd">        Type[Widget] | Widget: The updated class.</span>
</span><span id="L-66"><a href="#L-66"><span class="linenos"> 66</span></a>
</span><span id="L-67"><a href="#L-67"><span class="linenos"> 67</span></a><span class="sd">    Raises:</span>
</span><span id="L-68"><a href="#L-68"><span class="linenos"> 68</span></a><span class="sd">        KeyError: The char key provided is invalid.</span>
</span><span id="L-69"><a href="#L-69"><span class="linenos"> 69</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-70"><a href="#L-70"><span class="linenos"> 70</span></a>
</span><span id="L-71"><a href="#L-71"><span class="linenos"> 71</span></a>    <span class="k">if</span> <span class="ow">not</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">obj_or_cls</span><span class="o">.</span><span class="n">chars</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
</span><span id="L-72"><a href="#L-72"><span class="linenos"> 72</span></a>        <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Char </span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2"> is not valid for </span><span class="si">{</span><span class="n">obj_or_cls</span><span class="si">}</span><span class="s2">!&quot;</span><span class="p">)</span>
</span><span id="L-73"><a href="#L-73"><span class="linenos"> 73</span></a>
</span><span id="L-74"><a href="#L-74"><span class="linenos"> 74</span></a>    <span class="n">obj_or_cls</span><span class="o">.</span><span class="n">chars</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
</span><span id="L-75"><a href="#L-75"><span class="linenos"> 75</span></a>
</span><span id="L-76"><a href="#L-76"><span class="linenos"> 76</span></a>    <span class="k">return</span> <span class="n">obj_or_cls</span>
</span><span id="L-77"><a href="#L-77"><span class="linenos"> 77</span></a>
</span><span id="L-78"><a href="#L-78"><span class="linenos"> 78</span></a>
</span><span id="L-79"><a href="#L-79"><span class="linenos"> 79</span></a><span class="k">class</span> <span class="nc">Widget</span><span class="p">:</span>  <span class="c1"># pylint: disable=too-many-public-methods</span>
</span><span id="L-80"><a href="#L-80"><span class="linenos"> 80</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;The base of the Widget system&quot;&quot;&quot;</span>
</span><span id="L-81"><a href="#L-81"><span class="linenos"> 81</span></a>
</span><span id="L-82"><a href="#L-82"><span class="linenos"> 82</span></a>    <span class="n">set_style</span> <span class="o">=</span> <span class="nb">classmethod</span><span class="p">(</span><span class="n">_set_obj_or_cls_style</span><span class="p">)</span>
</span><span id="L-83"><a href="#L-83"><span class="linenos"> 83</span></a>    <span class="n">set_char</span> <span class="o">=</span> <span class="nb">classmethod</span><span class="p">(</span><span class="n">_set_obj_or_cls_char</span><span class="p">)</span>
</span><span id="L-84"><a href="#L-84"><span class="linenos"> 84</span></a>
</span><span id="L-85"><a href="#L-85"><span class="linenos"> 85</span></a>    <span class="n">styles</span> <span class="o">=</span> <span class="n">w_styles</span><span class="o">.</span><span class="n">StyleManager</span><span class="p">()</span>
</span><span id="L-86"><a href="#L-86"><span class="linenos"> 86</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Default styles for this class&quot;&quot;&quot;</span>
</span><span id="L-87"><a href="#L-87"><span class="linenos"> 87</span></a>
</span><span id="L-88"><a href="#L-88"><span class="linenos"> 88</span></a>    <span class="n">chars</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">w_styles</span><span class="o">.</span><span class="n">CharType</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="L-89"><a href="#L-89"><span class="linenos"> 89</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Default characters for this class&quot;&quot;&quot;</span>
</span><span id="L-90"><a href="#L-90"><span class="linenos"> 90</span></a>
</span><span id="L-91"><a href="#L-91"><span class="linenos"> 91</span></a>    <span class="n">keys</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">set</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="L-92"><a href="#L-92"><span class="linenos"> 92</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Groups of keys that are used in `handle_key`&quot;&quot;&quot;</span>
</span><span id="L-93"><a href="#L-93"><span class="linenos"> 93</span></a>
</span><span id="L-94"><a href="#L-94"><span class="linenos"> 94</span></a>    <span class="n">serialized</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="L-95"><a href="#L-95"><span class="linenos"> 95</span></a>        <span class="s2">&quot;id&quot;</span><span class="p">,</span>
</span><span id="L-96"><a href="#L-96"><span class="linenos"> 96</span></a>        <span class="s2">&quot;pos&quot;</span><span class="p">,</span>
</span><span id="L-97"><a href="#L-97"><span class="linenos"> 97</span></a>        <span class="s2">&quot;depth&quot;</span><span class="p">,</span>
</span><span id="L-98"><a href="#L-98"><span class="linenos"> 98</span></a>        <span class="s2">&quot;width&quot;</span><span class="p">,</span>
</span><span id="L-99"><a href="#L-99"><span class="linenos"> 99</span></a>        <span class="s2">&quot;height&quot;</span><span class="p">,</span>
</span><span id="L-100"><a href="#L-100"><span class="linenos">100</span></a>        <span class="s2">&quot;selected_index&quot;</span><span class="p">,</span>
</span><span id="L-101"><a href="#L-101"><span class="linenos">101</span></a>        <span class="s2">&quot;selectables_length&quot;</span><span class="p">,</span>
</span><span id="L-102"><a href="#L-102"><span class="linenos">102</span></a>    <span class="p">]</span>
</span><span id="L-103"><a href="#L-103"><span class="linenos">103</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Fields of widget that shall be serialized by `pytermgui.serializer.Serializer`&quot;&quot;&quot;</span>
</span><span id="L-104"><a href="#L-104"><span class="linenos">104</span></a>
</span><span id="L-105"><a href="#L-105"><span class="linenos">105</span></a>    <span class="c1"># This class is loaded after this module,</span>
</span><span id="L-106"><a href="#L-106"><span class="linenos">106</span></a>    <span class="c1"># and thus mypy doesn&#39;t see its existence.</span>
</span><span id="L-107"><a href="#L-107"><span class="linenos">107</span></a>    <span class="n">_id_manager</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;_IDManager&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># type: ignore</span>
</span><span id="L-108"><a href="#L-108"><span class="linenos">108</span></a>
</span><span id="L-109"><a href="#L-109"><span class="linenos">109</span></a>    <span class="n">size_policy</span> <span class="o">=</span> <span class="n">SizePolicy</span><span class="o">.</span><span class="n">get_default</span><span class="p">()</span>
</span><span id="L-110"><a href="#L-110"><span class="linenos">110</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;`pytermgui.enums.SizePolicy` to set widget&#39;s width according to&quot;&quot;&quot;</span>
</span><span id="L-111"><a href="#L-111"><span class="linenos">111</span></a>
</span><span id="L-112"><a href="#L-112"><span class="linenos">112</span></a>    <span class="n">parent_align</span> <span class="o">=</span> <span class="n">HorizontalAlignment</span><span class="o">.</span><span class="n">get_default</span><span class="p">()</span>
</span><span id="L-113"><a href="#L-113"><span class="linenos">113</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;`pytermgui.enums.HorizontalAlignment` to align widget by&quot;&quot;&quot;</span>
</span><span id="L-114"><a href="#L-114"><span class="linenos">114</span></a>
</span><span id="L-115"><a href="#L-115"><span class="linenos">115</span></a>    <span class="n">from_data</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Widget</span> <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="n">Widget</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span><span class="p">]</span>
</span><span id="L-116"><a href="#L-116"><span class="linenos">116</span></a>
</span><span id="L-117"><a href="#L-117"><span class="linenos">117</span></a>    <span class="c1"># We cannot import boxes here due to cyclic imports.</span>
</span><span id="L-118"><a href="#L-118"><span class="linenos">118</span></a>    <span class="n">box</span><span class="p">:</span> <span class="n">Any</span>
</span><span id="L-119"><a href="#L-119"><span class="linenos">119</span></a>
</span><span id="L-120"><a href="#L-120"><span class="linenos">120</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">attrs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-121"><a href="#L-121"><span class="linenos">121</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize object&quot;&quot;&quot;</span>
</span><span id="L-122"><a href="#L-122"><span class="linenos">122</span></a>
</span><span id="L-123"><a href="#L-123"><span class="linenos">123</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_style</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">_set_obj_or_cls_style</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</span><span id="L-124"><a href="#L-124"><span class="linenos">124</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_char</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">_set_obj_or_cls_char</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</span><span id="L-125"><a href="#L-125"><span class="linenos">125</span></a>
</span><span id="L-126"><a href="#L-126"><span class="linenos">126</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="mi">1</span>
</span><span id="L-127"><a href="#L-127"><span class="linenos">127</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">=</span> <span class="mi">1</span>
</span><span id="L-128"><a href="#L-128"><span class="linenos">128</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">pos</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">terminal</span><span class="o">.</span><span class="n">origin</span>
</span><span id="L-129"><a href="#L-129"><span class="linenos">129</span></a>
</span><span id="L-130"><a href="#L-130"><span class="linenos">130</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">depth</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="L-131"><a href="#L-131"><span class="linenos">131</span></a>
</span><span id="L-132"><a href="#L-132"><span class="linenos">132</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">styles</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">styles</span><span class="o">.</span><span class="n">branch</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="L-133"><a href="#L-133"><span class="linenos">133</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">chars</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">chars</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
</span><span id="L-134"><a href="#L-134"><span class="linenos">134</span></a>
</span><span id="L-135"><a href="#L-135"><span class="linenos">135</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="p">:</span> <span class="n">Widget</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-136"><a href="#L-136"><span class="linenos">136</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">selected_index</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-137"><a href="#L-137"><span class="linenos">137</span></a>
</span><span id="L-138"><a href="#L-138"><span class="linenos">138</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_selectables_length</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="L-139"><a href="#L-139"><span class="linenos">139</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-140"><a href="#L-140"><span class="linenos">140</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_serialized_fields</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">serialized</span>
</span><span id="L-141"><a href="#L-141"><span class="linenos">141</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_bindings</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="n">Type</span><span class="p">[</span><span class="n">MouseEvent</span><span class="p">],</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">BoundCallback</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="L-142"><a href="#L-142"><span class="linenos">142</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_relative_width</span><span class="p">:</span> <span class="nb">float</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-143"><a href="#L-143"><span class="linenos">143</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_previous_state</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">],</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-144"><a href="#L-144"><span class="linenos">144</span></a>
</span><span id="L-145"><a href="#L-145"><span class="linenos">145</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">positioned_line_buffer</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">],</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-146"><a href="#L-146"><span class="linenos">146</span></a>
</span><span id="L-147"><a href="#L-147"><span class="linenos">147</span></a>        <span class="k">for</span> <span class="n">attr</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">attrs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="L-148"><a href="#L-148"><span class="linenos">148</span></a>            <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">attr</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</span><span id="L-149"><a href="#L-149"><span class="linenos">149</span></a>
</span><span id="L-150"><a href="#L-150"><span class="linenos">150</span></a>    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="L-151"><a href="#L-151"><span class="linenos">151</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Return repr string of this widget.</span>
</span><span id="L-152"><a href="#L-152"><span class="linenos">152</span></a>
</span><span id="L-153"><a href="#L-153"><span class="linenos">153</span></a><span class="sd">        Returns:</span>
</span><span id="L-154"><a href="#L-154"><span class="linenos">154</span></a><span class="sd">            Whatever this widget&#39;s `debug` method gives.</span>
</span><span id="L-155"><a href="#L-155"><span class="linenos">155</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-156"><a href="#L-156"><span class="linenos">156</span></a>
</span><span id="L-157"><a href="#L-157"><span class="linenos">157</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">()</span>
</span><span id="L-158"><a href="#L-158"><span class="linenos">158</span></a>
</span><span id="L-159"><a href="#L-159"><span class="linenos">159</span></a>    <span class="k">def</span> <span class="nf">__fancy_repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Generator</span><span class="p">[</span><span class="n">FancyYield</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
</span><span id="L-160"><a href="#L-160"><span class="linenos">160</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Yields the repr of this object, then a preview of it.&quot;&quot;&quot;</span>
</span><span id="L-161"><a href="#L-161"><span class="linenos">161</span></a>
</span><span id="L-162"><a href="#L-162"><span class="linenos">162</span></a>        <span class="k">yield</span> <span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">()</span>
</span><span id="L-163"><a href="#L-163"><span class="linenos">163</span></a>        <span class="k">yield</span> <span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">&quot;</span>
</span><span id="L-164"><a href="#L-164"><span class="linenos">164</span></a>        <span class="k">yield</span> <span class="p">{</span>
</span><span id="L-165"><a href="#L-165"><span class="linenos">165</span></a>            <span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">line</span> <span class="o">+</span> <span class="n">reset</span><span class="p">()</span> <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_lines</span><span class="p">())),</span>
</span><span id="L-166"><a href="#L-166"><span class="linenos">166</span></a>            <span class="s2">&quot;highlight&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="L-167"><a href="#L-167"><span class="linenos">167</span></a>        <span class="p">}</span>
</span><span id="L-168"><a href="#L-168"><span class="linenos">168</span></a>
</span><span id="L-169"><a href="#L-169"><span class="linenos">169</span></a>    <span class="k">def</span> <span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterator</span><span class="p">[</span><span class="n">Widget</span><span class="p">]:</span>
</span><span id="L-170"><a href="#L-170"><span class="linenos">170</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Return self for iteration&quot;&quot;&quot;</span>
</span><span id="L-171"><a href="#L-171"><span class="linenos">171</span></a>
</span><span id="L-172"><a href="#L-172"><span class="linenos">172</span></a>        <span class="k">yield</span> <span class="bp">self</span>
</span><span id="L-173"><a href="#L-173"><span class="linenos">173</span></a>
</span><span id="L-174"><a href="#L-174"><span class="linenos">174</span></a>    <span class="nd">@property</span>
</span><span id="L-175"><a href="#L-175"><span class="linenos">175</span></a>    <span class="k">def</span> <span class="nf">bindings</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="n">Type</span><span class="p">[</span><span class="n">MouseEvent</span><span class="p">],</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">BoundCallback</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]:</span>
</span><span id="L-176"><a href="#L-176"><span class="linenos">176</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets a copy of the bindings internal dictionary.</span>
</span><span id="L-177"><a href="#L-177"><span class="linenos">177</span></a>
</span><span id="L-178"><a href="#L-178"><span class="linenos">178</span></a><span class="sd">        Returns:</span>
</span><span id="L-179"><a href="#L-179"><span class="linenos">179</span></a><span class="sd">            A copy of the internal bindings dictionary, such as:</span>
</span><span id="L-180"><a href="#L-180"><span class="linenos">180</span></a>
</span><span id="L-181"><a href="#L-181"><span class="linenos">181</span></a><span class="sd">            ```</span>
</span><span id="L-182"><a href="#L-182"><span class="linenos">182</span></a><span class="sd">            {</span>
</span><span id="L-183"><a href="#L-183"><span class="linenos">183</span></a><span class="sd">                &quot;*&quot;: (star_callback, &quot;This is a callback activated when &#39;*&#39; is pressed.&quot;)</span>
</span><span id="L-184"><a href="#L-184"><span class="linenos">184</span></a><span class="sd">            }</span>
</span><span id="L-185"><a href="#L-185"><span class="linenos">185</span></a><span class="sd">            ```</span>
</span><span id="L-186"><a href="#L-186"><span class="linenos">186</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-187"><a href="#L-187"><span class="linenos">187</span></a>
</span><span id="L-188"><a href="#L-188"><span class="linenos">188</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_bindings</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
</span><span id="L-189"><a href="#L-189"><span class="linenos">189</span></a>
</span><span id="L-190"><a href="#L-190"><span class="linenos">190</span></a>    <span class="nd">@property</span>
</span><span id="L-191"><a href="#L-191"><span class="linenos">191</span></a>    <span class="k">def</span> <span class="nf">id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>  <span class="c1"># pylint: disable=invalid-name</span>
</span><span id="L-192"><a href="#L-192"><span class="linenos">192</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets this widget&#39;s id property</span>
</span><span id="L-193"><a href="#L-193"><span class="linenos">193</span></a>
</span><span id="L-194"><a href="#L-194"><span class="linenos">194</span></a><span class="sd">        Returns:</span>
</span><span id="L-195"><a href="#L-195"><span class="linenos">195</span></a><span class="sd">            The id string if one is present, None otherwise.</span>
</span><span id="L-196"><a href="#L-196"><span class="linenos">196</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-197"><a href="#L-197"><span class="linenos">197</span></a>
</span><span id="L-198"><a href="#L-198"><span class="linenos">198</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_id</span>
</span><span id="L-199"><a href="#L-199"><span class="linenos">199</span></a>
</span><span id="L-200"><a href="#L-200"><span class="linenos">200</span></a>    <span class="nd">@id</span><span class="o">.</span><span class="n">setter</span>
</span><span id="L-201"><a href="#L-201"><span class="linenos">201</span></a>    <span class="k">def</span> <span class="nf">id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>  <span class="c1"># pylint: disable=invalid-name</span>
</span><span id="L-202"><a href="#L-202"><span class="linenos">202</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Registers a widget to the Widget._id_manager.</span>
</span><span id="L-203"><a href="#L-203"><span class="linenos">203</span></a>
</span><span id="L-204"><a href="#L-204"><span class="linenos">204</span></a><span class="sd">        If this widget already had an id, the old value is deregistered</span>
</span><span id="L-205"><a href="#L-205"><span class="linenos">205</span></a><span class="sd">        before the new one is assigned.</span>
</span><span id="L-206"><a href="#L-206"><span class="linenos">206</span></a>
</span><span id="L-207"><a href="#L-207"><span class="linenos">207</span></a><span class="sd">        Args:</span>
</span><span id="L-208"><a href="#L-208"><span class="linenos">208</span></a><span class="sd">            value: The new id this widget will be registered as.</span>
</span><span id="L-209"><a href="#L-209"><span class="linenos">209</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-210"><a href="#L-210"><span class="linenos">210</span></a>
</span><span id="L-211"><a href="#L-211"><span class="linenos">211</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_id</span> <span class="o">==</span> <span class="n">value</span><span class="p">:</span>
</span><span id="L-212"><a href="#L-212"><span class="linenos">212</span></a>            <span class="k">return</span>
</span><span id="L-213"><a href="#L-213"><span class="linenos">213</span></a>
</span><span id="L-214"><a href="#L-214"><span class="linenos">214</span></a>        <span class="n">manager</span> <span class="o">=</span> <span class="n">Widget</span><span class="o">.</span><span class="n">_id_manager</span>
</span><span id="L-215"><a href="#L-215"><span class="linenos">215</span></a>        <span class="k">assert</span> <span class="n">manager</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
</span><span id="L-216"><a href="#L-216"><span class="linenos">216</span></a>
</span><span id="L-217"><a href="#L-217"><span class="linenos">217</span></a>        <span class="n">old</span> <span class="o">=</span> <span class="n">manager</span><span class="o">.</span><span class="n">get_id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="L-218"><a href="#L-218"><span class="linenos">218</span></a>        <span class="k">if</span> <span class="n">old</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-219"><a href="#L-219"><span class="linenos">219</span></a>            <span class="n">manager</span><span class="o">.</span><span class="n">deregister</span><span class="p">(</span><span class="n">old</span><span class="p">)</span>
</span><span id="L-220"><a href="#L-220"><span class="linenos">220</span></a>
</span><span id="L-221"><a href="#L-221"><span class="linenos">221</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_id</span> <span class="o">=</span> <span class="n">value</span>
</span><span id="L-222"><a href="#L-222"><span class="linenos">222</span></a>        <span class="n">manager</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="L-223"><a href="#L-223"><span class="linenos">223</span></a>
</span><span id="L-224"><a href="#L-224"><span class="linenos">224</span></a>    <span class="nd">@property</span>
</span><span id="L-225"><a href="#L-225"><span class="linenos">225</span></a>    <span class="k">def</span> <span class="nf">selectables_length</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="L-226"><a href="#L-226"><span class="linenos">226</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets how many selectables this widget contains.</span>
</span><span id="L-227"><a href="#L-227"><span class="linenos">227</span></a>
</span><span id="L-228"><a href="#L-228"><span class="linenos">228</span></a><span class="sd">        Returns:</span>
</span><span id="L-229"><a href="#L-229"><span class="linenos">229</span></a><span class="sd">            An integer describing the amount of selectables in this widget.</span>
</span><span id="L-230"><a href="#L-230"><span class="linenos">230</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-231"><a href="#L-231"><span class="linenos">231</span></a>
</span><span id="L-232"><a href="#L-232"><span class="linenos">232</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_selectables_length</span>
</span><span id="L-233"><a href="#L-233"><span class="linenos">233</span></a>
</span><span id="L-234"><a href="#L-234"><span class="linenos">234</span></a>    <span class="nd">@property</span>
</span><span id="L-235"><a href="#L-235"><span class="linenos">235</span></a>    <span class="k">def</span> <span class="nf">selectables</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="n">Widget</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]:</span>
</span><span id="L-236"><a href="#L-236"><span class="linenos">236</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets a list of all selectables within this widget</span>
</span><span id="L-237"><a href="#L-237"><span class="linenos">237</span></a>
</span><span id="L-238"><a href="#L-238"><span class="linenos">238</span></a><span class="sd">        Returns:</span>
</span><span id="L-239"><a href="#L-239"><span class="linenos">239</span></a><span class="sd">            A list of tuples. In the default implementation this will be</span>
</span><span id="L-240"><a href="#L-240"><span class="linenos">240</span></a><span class="sd">            a list of one tuple, containing a reference to `self`, as well</span>
</span><span id="L-241"><a href="#L-241"><span class="linenos">241</span></a><span class="sd">            as the lowest index, 0.</span>
</span><span id="L-242"><a href="#L-242"><span class="linenos">242</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-243"><a href="#L-243"><span class="linenos">243</span></a>
</span><span id="L-244"><a href="#L-244"><span class="linenos">244</span></a>        <span class="k">return</span> <span class="p">[(</span><span class="bp">self</span><span class="p">,</span> <span class="mi">0</span><span class="p">)]</span>
</span><span id="L-245"><a href="#L-245"><span class="linenos">245</span></a>
</span><span id="L-246"><a href="#L-246"><span class="linenos">246</span></a>    <span class="nd">@property</span>
</span><span id="L-247"><a href="#L-247"><span class="linenos">247</span></a>    <span class="k">def</span> <span class="nf">is_selectable</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="L-248"><a href="#L-248"><span class="linenos">248</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Determines whether this widget has any selectables.</span>
</span><span id="L-249"><a href="#L-249"><span class="linenos">249</span></a>
</span><span id="L-250"><a href="#L-250"><span class="linenos">250</span></a><span class="sd">        Returns:</span>
</span><span id="L-251"><a href="#L-251"><span class="linenos">251</span></a><span class="sd">            A boolean, representing `self.selectables_length != 0`.</span>
</span><span id="L-252"><a href="#L-252"><span class="linenos">252</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-253"><a href="#L-253"><span class="linenos">253</span></a>
</span><span id="L-254"><a href="#L-254"><span class="linenos">254</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">selectables_length</span> <span class="o">!=</span> <span class="mi">0</span>
</span><span id="L-255"><a href="#L-255"><span class="linenos">255</span></a>
</span><span id="L-256"><a href="#L-256"><span class="linenos">256</span></a>    <span class="nd">@property</span>
</span><span id="L-257"><a href="#L-257"><span class="linenos">257</span></a>    <span class="k">def</span> <span class="nf">static_width</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="L-258"><a href="#L-258"><span class="linenos">258</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Allows for a shorter way of setting a width, and SizePolicy.STATIC.</span>
</span><span id="L-259"><a href="#L-259"><span class="linenos">259</span></a>
</span><span id="L-260"><a href="#L-260"><span class="linenos">260</span></a><span class="sd">        Args:</span>
</span><span id="L-261"><a href="#L-261"><span class="linenos">261</span></a><span class="sd">            value: The new width integer.</span>
</span><span id="L-262"><a href="#L-262"><span class="linenos">262</span></a>
</span><span id="L-263"><a href="#L-263"><span class="linenos">263</span></a><span class="sd">        Returns:</span>
</span><span id="L-264"><a href="#L-264"><span class="linenos">264</span></a><span class="sd">            None, as this is setter only.</span>
</span><span id="L-265"><a href="#L-265"><span class="linenos">265</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-266"><a href="#L-266"><span class="linenos">266</span></a>
</span><span id="L-267"><a href="#L-267"><span class="linenos">267</span></a>        <span class="k">return</span> <span class="kc">None</span>  <span class="c1"># type: ignore</span>
</span><span id="L-268"><a href="#L-268"><span class="linenos">268</span></a>
</span><span id="L-269"><a href="#L-269"><span class="linenos">269</span></a>    <span class="nd">@static_width</span><span class="o">.</span><span class="n">setter</span>
</span><span id="L-270"><a href="#L-270"><span class="linenos">270</span></a>    <span class="k">def</span> <span class="nf">static_width</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-271"><a href="#L-271"><span class="linenos">271</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;See the static_width getter.&quot;&quot;&quot;</span>
</span><span id="L-272"><a href="#L-272"><span class="linenos">272</span></a>
</span><span id="L-273"><a href="#L-273"><span class="linenos">273</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="n">value</span>
</span><span id="L-274"><a href="#L-274"><span class="linenos">274</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">size_policy</span> <span class="o">=</span> <span class="n">SizePolicy</span><span class="o">.</span><span class="n">STATIC</span>
</span><span id="L-275"><a href="#L-275"><span class="linenos">275</span></a>
</span><span id="L-276"><a href="#L-276"><span class="linenos">276</span></a>    <span class="nd">@property</span>
</span><span id="L-277"><a href="#L-277"><span class="linenos">277</span></a>    <span class="k">def</span> <span class="nf">relative_width</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-278"><a href="#L-278"><span class="linenos">278</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Sets this widget&#39;s relative width, and changes size_policy to RELATIVE.</span>
</span><span id="L-279"><a href="#L-279"><span class="linenos">279</span></a>
</span><span id="L-280"><a href="#L-280"><span class="linenos">280</span></a><span class="sd">        The value is clamped to 1.0.</span>
</span><span id="L-281"><a href="#L-281"><span class="linenos">281</span></a>
</span><span id="L-282"><a href="#L-282"><span class="linenos">282</span></a><span class="sd">        If a Container holds a width of 30, and it has a subwidget with a relative</span>
</span><span id="L-283"><a href="#L-283"><span class="linenos">283</span></a><span class="sd">        width of 0.5, it will be resized to 15.</span>
</span><span id="L-284"><a href="#L-284"><span class="linenos">284</span></a>
</span><span id="L-285"><a href="#L-285"><span class="linenos">285</span></a><span class="sd">        Args:</span>
</span><span id="L-286"><a href="#L-286"><span class="linenos">286</span></a><span class="sd">            value: The multiplier to apply to the parent&#39;s width.</span>
</span><span id="L-287"><a href="#L-287"><span class="linenos">287</span></a>
</span><span id="L-288"><a href="#L-288"><span class="linenos">288</span></a><span class="sd">        Returns:</span>
</span><span id="L-289"><a href="#L-289"><span class="linenos">289</span></a><span class="sd">            The current relative_width.</span>
</span><span id="L-290"><a href="#L-290"><span class="linenos">290</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-291"><a href="#L-291"><span class="linenos">291</span></a>
</span><span id="L-292"><a href="#L-292"><span class="linenos">292</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_relative_width</span>
</span><span id="L-293"><a href="#L-293"><span class="linenos">293</span></a>
</span><span id="L-294"><a href="#L-294"><span class="linenos">294</span></a>    <span class="nd">@relative_width</span><span class="o">.</span><span class="n">setter</span>
</span><span id="L-295"><a href="#L-295"><span class="linenos">295</span></a>    <span class="k">def</span> <span class="nf">relative_width</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-296"><a href="#L-296"><span class="linenos">296</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;See the relative_width getter.&quot;&quot;&quot;</span>
</span><span id="L-297"><a href="#L-297"><span class="linenos">297</span></a>
</span><span id="L-298"><a href="#L-298"><span class="linenos">298</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">size_policy</span> <span class="o">=</span> <span class="n">SizePolicy</span><span class="o">.</span><span class="n">RELATIVE</span>
</span><span id="L-299"><a href="#L-299"><span class="linenos">299</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_relative_width</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</span><span id="L-300"><a href="#L-300"><span class="linenos">300</span></a>
</span><span id="L-301"><a href="#L-301"><span class="linenos">301</span></a>    <span class="nd">@property</span>
</span><span id="L-302"><a href="#L-302"><span class="linenos">302</span></a>    <span class="k">def</span> <span class="nf">terminal</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Terminal</span><span class="p">:</span>
</span><span id="L-303"><a href="#L-303"><span class="linenos">303</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns the current global terminal instance.&quot;&quot;&quot;</span>
</span><span id="L-304"><a href="#L-304"><span class="linenos">304</span></a>
</span><span id="L-305"><a href="#L-305"><span class="linenos">305</span></a>        <span class="k">return</span> <span class="n">get_terminal</span><span class="p">()</span>
</span><span id="L-306"><a href="#L-306"><span class="linenos">306</span></a>
</span><span id="L-307"><a href="#L-307"><span class="linenos">307</span></a>    <span class="k">def</span> <span class="nf">_align</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">lines</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
</span><span id="L-308"><a href="#L-308"><span class="linenos">308</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Aligns the given lines based on this widget&#39;s `parent_align` attribute.&quot;&quot;&quot;</span>
</span><span id="L-309"><a href="#L-309"><span class="linenos">309</span></a>
</span><span id="L-310"><a href="#L-310"><span class="linenos">310</span></a>        <span class="n">width</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span>
</span><span id="L-311"><a href="#L-311"><span class="linenos">311</span></a>
</span><span id="L-312"><a href="#L-312"><span class="linenos">312</span></a>        <span class="k">def</span> <span class="nf">_align_left</span><span class="p">(</span><span class="n">line</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="L-313"><a href="#L-313"><span class="linenos">313</span></a>            <span class="k">return</span> <span class="n">line</span> <span class="o">+</span> <span class="p">(</span><span class="n">width</span> <span class="o">-</span> <span class="n">real_length</span><span class="p">(</span><span class="n">line</span><span class="p">))</span> <span class="o">*</span> <span class="s2">&quot; &quot;</span>
</span><span id="L-314"><a href="#L-314"><span class="linenos">314</span></a>
</span><span id="L-315"><a href="#L-315"><span class="linenos">315</span></a>        <span class="k">def</span> <span class="nf">_align_center</span><span class="p">(</span><span class="n">line</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="L-316"><a href="#L-316"><span class="linenos">316</span></a>            <span class="n">right</span><span class="p">,</span> <span class="n">extra</span> <span class="o">=</span> <span class="nb">divmod</span><span class="p">(</span><span class="n">width</span> <span class="o">-</span> <span class="n">real_length</span><span class="p">(</span><span class="n">line</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
</span><span id="L-317"><a href="#L-317"><span class="linenos">317</span></a>            <span class="n">left</span> <span class="o">=</span> <span class="n">right</span> <span class="o">+</span> <span class="n">extra</span>
</span><span id="L-318"><a href="#L-318"><span class="linenos">318</span></a>
</span><span id="L-319"><a href="#L-319"><span class="linenos">319</span></a>            <span class="k">return</span> <span class="n">left</span> <span class="o">*</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="n">line</span> <span class="o">+</span> <span class="n">right</span> <span class="o">*</span> <span class="s2">&quot; &quot;</span>
</span><span id="L-320"><a href="#L-320"><span class="linenos">320</span></a>
</span><span id="L-321"><a href="#L-321"><span class="linenos">321</span></a>        <span class="k">def</span> <span class="nf">_align_right</span><span class="p">(</span><span class="n">line</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="L-322"><a href="#L-322"><span class="linenos">322</span></a>            <span class="k">return</span> <span class="p">(</span><span class="n">width</span> <span class="o">-</span> <span class="n">real_length</span><span class="p">(</span><span class="n">line</span><span class="p">))</span> <span class="o">*</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="n">line</span>
</span><span id="L-323"><a href="#L-323"><span class="linenos">323</span></a>
</span><span id="L-324"><a href="#L-324"><span class="linenos">324</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent_align</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-325"><a href="#L-325"><span class="linenos">325</span></a>            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;Horizontal alignment cannot be None.&quot;</span><span class="p">)</span>
</span><span id="L-326"><a href="#L-326"><span class="linenos">326</span></a>
</span><span id="L-327"><a href="#L-327"><span class="linenos">327</span></a>        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">parent_align</span><span class="p">,</span> <span class="n">HorizontalAlignment</span><span class="p">)</span>
</span><span id="L-328"><a href="#L-328"><span class="linenos">328</span></a>
</span><span id="L-329"><a href="#L-329"><span class="linenos">329</span></a>        <span class="n">aligner</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="L-330"><a href="#L-330"><span class="linenos">330</span></a>            <span class="n">HorizontalAlignment</span><span class="o">.</span><span class="n">LEFT</span><span class="p">:</span> <span class="n">_align_left</span><span class="p">,</span>
</span><span id="L-331"><a href="#L-331"><span class="linenos">331</span></a>            <span class="n">HorizontalAlignment</span><span class="o">.</span><span class="n">CENTER</span><span class="p">:</span> <span class="n">_align_center</span><span class="p">,</span>
</span><span id="L-332"><a href="#L-332"><span class="linenos">332</span></a>            <span class="n">HorizontalAlignment</span><span class="o">.</span><span class="n">RIGHT</span><span class="p">:</span> <span class="n">_align_right</span><span class="p">,</span>
</span><span id="L-333"><a href="#L-333"><span class="linenos">333</span></a>        <span class="p">}[</span><span class="bp">self</span><span class="o">.</span><span class="n">parent_align</span><span class="p">]</span>
</span><span id="L-334"><a href="#L-334"><span class="linenos">334</span></a>
</span><span id="L-335"><a href="#L-335"><span class="linenos">335</span></a>        <span class="n">aligned</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-336"><a href="#L-336"><span class="linenos">336</span></a>
</span><span id="L-337"><a href="#L-337"><span class="linenos">337</span></a>        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">:</span>
</span><span id="L-338"><a href="#L-338"><span class="linenos">338</span></a>            <span class="n">aligned</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">aligner</span><span class="p">(</span><span class="n">line</span><span class="p">))</span>
</span><span id="L-339"><a href="#L-339"><span class="linenos">339</span></a>
</span><span id="L-340"><a href="#L-340"><span class="linenos">340</span></a>        <span class="k">return</span> <span class="n">aligned</span>
</span><span id="L-341"><a href="#L-341"><span class="linenos">341</span></a>
</span><span id="L-342"><a href="#L-342"><span class="linenos">342</span></a>    <span class="k">def</span> <span class="nf">get_change</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WidgetChange</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-343"><a href="#L-343"><span class="linenos">343</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Determines whether widget lines changed since the last call to this function.&quot;&quot;&quot;</span>
</span><span id="L-344"><a href="#L-344"><span class="linenos">344</span></a>
</span><span id="L-345"><a href="#L-345"><span class="linenos">345</span></a>        <span class="n">lines</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_lines</span><span class="p">()</span>
</span><span id="L-346"><a href="#L-346"><span class="linenos">346</span></a>
</span><span id="L-347"><a href="#L-347"><span class="linenos">347</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_previous_state</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-348"><a href="#L-348"><span class="linenos">348</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_previous_state</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">),</span> <span class="n">lines</span>
</span><span id="L-349"><a href="#L-349"><span class="linenos">349</span></a>            <span class="k">return</span> <span class="n">WidgetChange</span><span class="o">.</span><span class="n">LINES</span>
</span><span id="L-350"><a href="#L-350"><span class="linenos">350</span></a>
</span><span id="L-351"><a href="#L-351"><span class="linenos">351</span></a>        <span class="n">lines</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_lines</span><span class="p">()</span>
</span><span id="L-352"><a href="#L-352"><span class="linenos">352</span></a>        <span class="p">(</span><span class="n">old_width</span><span class="p">,</span> <span class="n">old_height</span><span class="p">),</span> <span class="n">old_lines</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_previous_state</span>
</span><span id="L-353"><a href="#L-353"><span class="linenos">353</span></a>
</span><span id="L-354"><a href="#L-354"><span class="linenos">354</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_previous_state</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">),</span> <span class="n">lines</span>
</span><span id="L-355"><a href="#L-355"><span class="linenos">355</span></a>
</span><span id="L-356"><a href="#L-356"><span class="linenos">356</span></a>        <span class="k">if</span> <span class="n">old_width</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="ow">and</span> <span class="n">old_height</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">:</span>
</span><span id="L-357"><a href="#L-357"><span class="linenos">357</span></a>            <span class="k">return</span> <span class="n">WidgetChange</span><span class="o">.</span><span class="n">SIZE</span>
</span><span id="L-358"><a href="#L-358"><span class="linenos">358</span></a>
</span><span id="L-359"><a href="#L-359"><span class="linenos">359</span></a>        <span class="k">if</span> <span class="n">old_width</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">:</span>
</span><span id="L-360"><a href="#L-360"><span class="linenos">360</span></a>            <span class="k">return</span> <span class="n">WidgetChange</span><span class="o">.</span><span class="n">WIDTH</span>
</span><span id="L-361"><a href="#L-361"><span class="linenos">361</span></a>
</span><span id="L-362"><a href="#L-362"><span class="linenos">362</span></a>        <span class="k">if</span> <span class="n">old_height</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">:</span>
</span><span id="L-363"><a href="#L-363"><span class="linenos">363</span></a>            <span class="k">return</span> <span class="n">WidgetChange</span><span class="o">.</span><span class="n">HEIGHT</span>
</span><span id="L-364"><a href="#L-364"><span class="linenos">364</span></a>
</span><span id="L-365"><a href="#L-365"><span class="linenos">365</span></a>        <span class="k">if</span> <span class="n">old_lines</span> <span class="o">!=</span> <span class="n">lines</span><span class="p">:</span>
</span><span id="L-366"><a href="#L-366"><span class="linenos">366</span></a>            <span class="k">return</span> <span class="n">WidgetChange</span><span class="o">.</span><span class="n">LINES</span>
</span><span id="L-367"><a href="#L-367"><span class="linenos">367</span></a>
</span><span id="L-368"><a href="#L-368"><span class="linenos">368</span></a>        <span class="k">return</span> <span class="kc">None</span>
</span><span id="L-369"><a href="#L-369"><span class="linenos">369</span></a>
</span><span id="L-370"><a href="#L-370"><span class="linenos">370</span></a>    <span class="k">def</span> <span class="nf">contains</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pos</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="L-371"><a href="#L-371"><span class="linenos">371</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Determines whether widget contains `pos`.</span>
</span><span id="L-372"><a href="#L-372"><span class="linenos">372</span></a>
</span><span id="L-373"><a href="#L-373"><span class="linenos">373</span></a><span class="sd">        Args:</span>
</span><span id="L-374"><a href="#L-374"><span class="linenos">374</span></a><span class="sd">            pos: Position to compare.</span>
</span><span id="L-375"><a href="#L-375"><span class="linenos">375</span></a>
</span><span id="L-376"><a href="#L-376"><span class="linenos">376</span></a><span class="sd">        Returns:</span>
</span><span id="L-377"><a href="#L-377"><span class="linenos">377</span></a><span class="sd">            Boolean describing whether the position is inside</span>
</span><span id="L-378"><a href="#L-378"><span class="linenos">378</span></a><span class="sd">                this widget.</span>
</span><span id="L-379"><a href="#L-379"><span class="linenos">379</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-380"><a href="#L-380"><span class="linenos">380</span></a>
</span><span id="L-381"><a href="#L-381"><span class="linenos">381</span></a>        <span class="n">rect</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pos</span><span class="p">,</span> <span class="p">(</span>
</span><span id="L-382"><a href="#L-382"><span class="linenos">382</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">,</span>
</span><span id="L-383"><a href="#L-383"><span class="linenos">383</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">,</span>
</span><span id="L-384"><a href="#L-384"><span class="linenos">384</span></a>        <span class="p">)</span>
</span><span id="L-385"><a href="#L-385"><span class="linenos">385</span></a>
</span><span id="L-386"><a href="#L-386"><span class="linenos">386</span></a>        <span class="p">(</span><span class="n">left</span><span class="p">,</span> <span class="n">top</span><span class="p">),</span> <span class="p">(</span><span class="n">right</span><span class="p">,</span> <span class="n">bottom</span><span class="p">)</span> <span class="o">=</span> <span class="n">rect</span>
</span><span id="L-387"><a href="#L-387"><span class="linenos">387</span></a>
</span><span id="L-388"><a href="#L-388"><span class="linenos">388</span></a>        <span class="k">return</span> <span class="n">left</span> <span class="o">&lt;=</span> <span class="n">pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">right</span> <span class="ow">and</span> <span class="n">top</span> <span class="o">&lt;=</span> <span class="n">pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">bottom</span>
</span><span id="L-389"><a href="#L-389"><span class="linenos">389</span></a>
</span><span id="L-390"><a href="#L-390"><span class="linenos">390</span></a>    <span class="k">def</span> <span class="nf">handle_mouse</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="n">MouseEvent</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="L-391"><a href="#L-391"><span class="linenos">391</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Tries to call the most specific mouse handler function available.</span>
</span><span id="L-392"><a href="#L-392"><span class="linenos">392</span></a>
</span><span id="L-393"><a href="#L-393"><span class="linenos">393</span></a><span class="sd">        This function looks for a set of mouse action handlers. Each handler follows</span>
</span><span id="L-394"><a href="#L-394"><span class="linenos">394</span></a><span class="sd">        the format</span>
</span><span id="L-395"><a href="#L-395"><span class="linenos">395</span></a>
</span><span id="L-396"><a href="#L-396"><span class="linenos">396</span></a><span class="sd">            on_{event_name}</span>
</span><span id="L-397"><a href="#L-397"><span class="linenos">397</span></a>
</span><span id="L-398"><a href="#L-398"><span class="linenos">398</span></a><span class="sd">        For example, the handler triggered on MouseAction.LEFT_CLICK would be</span>
</span><span id="L-399"><a href="#L-399"><span class="linenos">399</span></a><span class="sd">        `on_left_click`. If no handler is found nothing is done.</span>
</span><span id="L-400"><a href="#L-400"><span class="linenos">400</span></a>
</span><span id="L-401"><a href="#L-401"><span class="linenos">401</span></a><span class="sd">        You can also define more general handlers, for example to group left &amp; right</span>
</span><span id="L-402"><a href="#L-402"><span class="linenos">402</span></a><span class="sd">        clicks you can use `on_click`, and to catch both up and down scroll you can use</span>
</span><span id="L-403"><a href="#L-403"><span class="linenos">403</span></a><span class="sd">        `on_scroll`. General handlers are only used if they are the most specific ones,</span>
</span><span id="L-404"><a href="#L-404"><span class="linenos">404</span></a><span class="sd">        i.e. there is no &quot;specific&quot; handler.</span>
</span><span id="L-405"><a href="#L-405"><span class="linenos">405</span></a>
</span><span id="L-406"><a href="#L-406"><span class="linenos">406</span></a><span class="sd">        Args:</span>
</span><span id="L-407"><a href="#L-407"><span class="linenos">407</span></a><span class="sd">            event: The event to handle.</span>
</span><span id="L-408"><a href="#L-408"><span class="linenos">408</span></a>
</span><span id="L-409"><a href="#L-409"><span class="linenos">409</span></a><span class="sd">        Returns:</span>
</span><span id="L-410"><a href="#L-410"><span class="linenos">410</span></a><span class="sd">            Whether the parent of this widget should treat it as one to &quot;stick&quot; events</span>
</span><span id="L-411"><a href="#L-411"><span class="linenos">411</span></a><span class="sd">            to, e.g. to keep sending mouse events to it. One can &quot;unstick&quot; a widget by</span>
</span><span id="L-412"><a href="#L-412"><span class="linenos">412</span></a><span class="sd">            returning False in the handler.</span>
</span><span id="L-413"><a href="#L-413"><span class="linenos">413</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-414"><a href="#L-414"><span class="linenos">414</span></a>
</span><span id="L-415"><a href="#L-415"><span class="linenos">415</span></a>        <span class="k">def</span> <span class="nf">_get_names</span><span class="p">(</span><span class="n">action</span><span class="p">:</span> <span class="n">MouseAction</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="o">...</span><span class="p">]:</span>
</span><span id="L-416"><a href="#L-416"><span class="linenos">416</span></a>            <span class="k">if</span> <span class="n">action</span><span class="o">.</span><span class="n">value</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;hover&quot;</span><span class="p">,</span> <span class="s2">&quot;release&quot;</span><span class="p">]:</span>
</span><span id="L-417"><a href="#L-417"><span class="linenos">417</span></a>                <span class="k">return</span> <span class="p">(</span><span class="n">action</span><span class="o">.</span><span class="n">value</span><span class="p">,)</span>
</span><span id="L-418"><a href="#L-418"><span class="linenos">418</span></a>
</span><span id="L-419"><a href="#L-419"><span class="linenos">419</span></a>            <span class="n">parts</span> <span class="o">=</span> <span class="n">action</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;_&quot;</span><span class="p">)</span>
</span><span id="L-420"><a href="#L-420"><span class="linenos">420</span></a>
</span><span id="L-421"><a href="#L-421"><span class="linenos">421</span></a>            <span class="c1"># left click &amp; right click</span>
</span><span id="L-422"><a href="#L-422"><span class="linenos">422</span></a>            <span class="k">if</span> <span class="n">parts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;left&quot;</span><span class="p">,</span> <span class="s2">&quot;right&quot;</span><span class="p">]:</span>
</span><span id="L-423"><a href="#L-423"><span class="linenos">423</span></a>                <span class="k">return</span> <span class="p">(</span><span class="n">action</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">parts</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</span><span id="L-424"><a href="#L-424"><span class="linenos">424</span></a>
</span><span id="L-425"><a href="#L-425"><span class="linenos">425</span></a>            <span class="k">if</span> <span class="n">parts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;shift&quot;</span><span class="p">:</span>
</span><span id="L-426"><a href="#L-426"><span class="linenos">426</span></a>                <span class="k">return</span> <span class="p">(</span><span class="n">action</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;shift_</span><span class="si">{</span><span class="n">parts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">parts</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</span><span id="L-427"><a href="#L-427"><span class="linenos">427</span></a>
</span><span id="L-428"><a href="#L-428"><span class="linenos">428</span></a>            <span class="c1"># scroll up &amp; down</span>
</span><span id="L-429"><a href="#L-429"><span class="linenos">429</span></a>            <span class="k">return</span> <span class="p">(</span><span class="n">action</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">parts</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</span><span id="L-430"><a href="#L-430"><span class="linenos">430</span></a>
</span><span id="L-431"><a href="#L-431"><span class="linenos">431</span></a>        <span class="n">possible_names</span> <span class="o">=</span> <span class="n">_get_names</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">action</span><span class="p">)</span>
</span><span id="L-432"><a href="#L-432"><span class="linenos">432</span></a>        <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">possible_names</span><span class="p">:</span>
</span><span id="L-433"><a href="#L-433"><span class="linenos">433</span></a>            <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;on_</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">):</span>
</span><span id="L-434"><a href="#L-434"><span class="linenos">434</span></a>                <span class="n">handle</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;on_</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-435"><a href="#L-435"><span class="linenos">435</span></a>
</span><span id="L-436"><a href="#L-436"><span class="linenos">436</span></a>                <span class="k">return</span> <span class="n">handle</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
</span><span id="L-437"><a href="#L-437"><span class="linenos">437</span></a>
</span><span id="L-438"><a href="#L-438"><span class="linenos">438</span></a>        <span class="k">return</span> <span class="kc">False</span>
</span><span id="L-439"><a href="#L-439"><span class="linenos">439</span></a>
</span><span id="L-440"><a href="#L-440"><span class="linenos">440</span></a>    <span class="k">def</span> <span class="nf">handle_key</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="L-441"><a href="#L-441"><span class="linenos">441</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Handles a mouse event, returning its success.</span>
</span><span id="L-442"><a href="#L-442"><span class="linenos">442</span></a>
</span><span id="L-443"><a href="#L-443"><span class="linenos">443</span></a><span class="sd">        Args:</span>
</span><span id="L-444"><a href="#L-444"><span class="linenos">444</span></a><span class="sd">            key: String representation of input string.</span>
</span><span id="L-445"><a href="#L-445"><span class="linenos">445</span></a><span class="sd">                The `pytermgui.input.keys` object can be</span>
</span><span id="L-446"><a href="#L-446"><span class="linenos">446</span></a><span class="sd">                used to retrieve special keys.</span>
</span><span id="L-447"><a href="#L-447"><span class="linenos">447</span></a>
</span><span id="L-448"><a href="#L-448"><span class="linenos">448</span></a><span class="sd">        Returns:</span>
</span><span id="L-449"><a href="#L-449"><span class="linenos">449</span></a><span class="sd">            A boolean describing whether the key was handled.</span>
</span><span id="L-450"><a href="#L-450"><span class="linenos">450</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-451"><a href="#L-451"><span class="linenos">451</span></a>
</span><span id="L-452"><a href="#L-452"><span class="linenos">452</span></a>        <span class="k">return</span> <span class="kc">False</span> <span class="ow">and</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span>
</span><span id="L-453"><a href="#L-453"><span class="linenos">453</span></a>
</span><span id="L-454"><a href="#L-454"><span class="linenos">454</span></a>    <span class="k">def</span> <span class="nf">serialize</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
</span><span id="L-455"><a href="#L-455"><span class="linenos">455</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Serializes a widget.</span>
</span><span id="L-456"><a href="#L-456"><span class="linenos">456</span></a>
</span><span id="L-457"><a href="#L-457"><span class="linenos">457</span></a><span class="sd">        The fields looked at are defined `Widget.serialized`. Note that</span>
</span><span id="L-458"><a href="#L-458"><span class="linenos">458</span></a><span class="sd">        this method is not very commonly used at the moment, so it might</span>
</span><span id="L-459"><a href="#L-459"><span class="linenos">459</span></a><span class="sd">        not have full functionality in non-nuclear widgets.</span>
</span><span id="L-460"><a href="#L-460"><span class="linenos">460</span></a>
</span><span id="L-461"><a href="#L-461"><span class="linenos">461</span></a><span class="sd">        Returns:</span>
</span><span id="L-462"><a href="#L-462"><span class="linenos">462</span></a><span class="sd">            Dictionary of widget attributes. The dictionary will always</span>
</span><span id="L-463"><a href="#L-463"><span class="linenos">463</span></a><span class="sd">            have a `type` field. Any styles are converted into markup</span>
</span><span id="L-464"><a href="#L-464"><span class="linenos">464</span></a><span class="sd">            strings during serialization, so they can be loaded again in</span>
</span><span id="L-465"><a href="#L-465"><span class="linenos">465</span></a><span class="sd">            their original form.</span>
</span><span id="L-466"><a href="#L-466"><span class="linenos">466</span></a>
</span><span id="L-467"><a href="#L-467"><span class="linenos">467</span></a><span class="sd">            Example return:</span>
</span><span id="L-468"><a href="#L-468"><span class="linenos">468</span></a><span class="sd">            ```</span>
</span><span id="L-469"><a href="#L-469"><span class="linenos">469</span></a><span class="sd">                {</span>
</span><span id="L-470"><a href="#L-470"><span class="linenos">470</span></a><span class="sd">                    &quot;type&quot;: &quot;Label&quot;,</span>
</span><span id="L-471"><a href="#L-471"><span class="linenos">471</span></a><span class="sd">                    &quot;value&quot;: &quot;[210 bold]I am a title&quot;,</span>
</span><span id="L-472"><a href="#L-472"><span class="linenos">472</span></a><span class="sd">                    &quot;parent_align&quot;: 0,</span>
</span><span id="L-473"><a href="#L-473"><span class="linenos">473</span></a><span class="sd">                    ...</span>
</span><span id="L-474"><a href="#L-474"><span class="linenos">474</span></a><span class="sd">                }</span>
</span><span id="L-475"><a href="#L-475"><span class="linenos">475</span></a><span class="sd">            ```</span>
</span><span id="L-476"><a href="#L-476"><span class="linenos">476</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-477"><a href="#L-477"><span class="linenos">477</span></a>
</span><span id="L-478"><a href="#L-478"><span class="linenos">478</span></a>        <span class="n">fields</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_serialized_fields</span>
</span><span id="L-479"><a href="#L-479"><span class="linenos">479</span></a>
</span><span id="L-480"><a href="#L-480"><span class="linenos">480</span></a>        <span class="n">out</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="p">}</span>
</span><span id="L-481"><a href="#L-481"><span class="linenos">481</span></a>        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">fields</span><span class="p">:</span>
</span><span id="L-482"><a href="#L-482"><span class="linenos">482</span></a>            <span class="c1"># Detect styled values</span>
</span><span id="L-483"><a href="#L-483"><span class="linenos">483</span></a>            <span class="k">if</span> <span class="n">key</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;*&quot;</span><span class="p">):</span>
</span><span id="L-484"><a href="#L-484"><span class="linenos">484</span></a>                <span class="n">style</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="L-485"><a href="#L-485"><span class="linenos">485</span></a>                <span class="n">key</span> <span class="o">=</span> <span class="n">key</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
</span><span id="L-486"><a href="#L-486"><span class="linenos">486</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="L-487"><a href="#L-487"><span class="linenos">487</span></a>                <span class="n">style</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="L-488"><a href="#L-488"><span class="linenos">488</span></a>
</span><span id="L-489"><a href="#L-489"><span class="linenos">489</span></a>            <span class="n">value</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span>
</span><span id="L-490"><a href="#L-490"><span class="linenos">490</span></a>
</span><span id="L-491"><a href="#L-491"><span class="linenos">491</span></a>            <span class="c1"># Convert styled value into markup</span>
</span><span id="L-492"><a href="#L-492"><span class="linenos">492</span></a>            <span class="k">if</span> <span class="n">style</span><span class="p">:</span>
</span><span id="L-493"><a href="#L-493"><span class="linenos">493</span></a>                <span class="n">style_call</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_style</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
</span><span id="L-494"><a href="#L-494"><span class="linenos">494</span></a>                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
</span><span id="L-495"><a href="#L-495"><span class="linenos">495</span></a>                    <span class="n">out</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">get_markup</span><span class="p">(</span><span class="n">style_call</span><span class="p">(</span><span class="n">char</span><span class="p">))</span> <span class="k">for</span> <span class="n">char</span> <span class="ow">in</span> <span class="n">value</span><span class="p">]</span>
</span><span id="L-496"><a href="#L-496"><span class="linenos">496</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="L-497"><a href="#L-497"><span class="linenos">497</span></a>                    <span class="n">out</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">get_markup</span><span class="p">(</span><span class="n">style_call</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>
</span><span id="L-498"><a href="#L-498"><span class="linenos">498</span></a>
</span><span id="L-499"><a href="#L-499"><span class="linenos">499</span></a>                <span class="k">continue</span>
</span><span id="L-500"><a href="#L-500"><span class="linenos">500</span></a>
</span><span id="L-501"><a href="#L-501"><span class="linenos">501</span></a>            <span class="n">out</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
</span><span id="L-502"><a href="#L-502"><span class="linenos">502</span></a>
</span><span id="L-503"><a href="#L-503"><span class="linenos">503</span></a>        <span class="c1"># The chars need to be handled separately</span>
</span><span id="L-504"><a href="#L-504"><span class="linenos">504</span></a>        <span class="n">out</span><span class="p">[</span><span class="s2">&quot;chars&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="L-505"><a href="#L-505"><span class="linenos">505</span></a>        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">chars</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="L-506"><a href="#L-506"><span class="linenos">506</span></a>            <span class="n">style_call</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_style</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
</span><span id="L-507"><a href="#L-507"><span class="linenos">507</span></a>
</span><span id="L-508"><a href="#L-508"><span class="linenos">508</span></a>            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
</span><span id="L-509"><a href="#L-509"><span class="linenos">509</span></a>                <span class="n">out</span><span class="p">[</span><span class="s2">&quot;chars&quot;</span><span class="p">][</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">get_markup</span><span class="p">(</span><span class="n">style_call</span><span class="p">(</span><span class="n">char</span><span class="p">))</span> <span class="k">for</span> <span class="n">char</span> <span class="ow">in</span> <span class="n">value</span><span class="p">]</span>
</span><span id="L-510"><a href="#L-510"><span class="linenos">510</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="L-511"><a href="#L-511"><span class="linenos">511</span></a>                <span class="n">out</span><span class="p">[</span><span class="s2">&quot;chars&quot;</span><span class="p">][</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">get_markup</span><span class="p">(</span><span class="n">style_call</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>
</span><span id="L-512"><a href="#L-512"><span class="linenos">512</span></a>
</span><span id="L-513"><a href="#L-513"><span class="linenos">513</span></a>        <span class="k">return</span> <span class="n">out</span>
</span><span id="L-514"><a href="#L-514"><span class="linenos">514</span></a>
</span><span id="L-515"><a href="#L-515"><span class="linenos">515</span></a>    <span class="k">def</span> <span class="nf">copy</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Widget</span><span class="p">:</span>
</span><span id="L-516"><a href="#L-516"><span class="linenos">516</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a deep copy of this widget&quot;&quot;&quot;</span>
</span><span id="L-517"><a href="#L-517"><span class="linenos">517</span></a>
</span><span id="L-518"><a href="#L-518"><span class="linenos">518</span></a>        <span class="k">return</span> <span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="L-519"><a href="#L-519"><span class="linenos">519</span></a>
</span><span id="L-520"><a href="#L-520"><span class="linenos">520</span></a>    <span class="k">def</span> <span class="nf">_get_style</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">w_styles</span><span class="o">.</span><span class="n">DepthlessStyleType</span><span class="p">:</span>
</span><span id="L-521"><a href="#L-521"><span class="linenos">521</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets style call from its key.</span>
</span><span id="L-522"><a href="#L-522"><span class="linenos">522</span></a>
</span><span id="L-523"><a href="#L-523"><span class="linenos">523</span></a><span class="sd">        This is analogous to using `self.styles.{key}`</span>
</span><span id="L-524"><a href="#L-524"><span class="linenos">524</span></a>
</span><span id="L-525"><a href="#L-525"><span class="linenos">525</span></a><span class="sd">        Args:</span>
</span><span id="L-526"><a href="#L-526"><span class="linenos">526</span></a><span class="sd">            key: A key into the widget&#39;s style manager.</span>
</span><span id="L-527"><a href="#L-527"><span class="linenos">527</span></a>
</span><span id="L-528"><a href="#L-528"><span class="linenos">528</span></a><span class="sd">        Returns:</span>
</span><span id="L-529"><a href="#L-529"><span class="linenos">529</span></a><span class="sd">            A `pytermgui.styles.StyleCall` object containing the referenced</span>
</span><span id="L-530"><a href="#L-530"><span class="linenos">530</span></a><span class="sd">            style. StyleCall objects should only be used internally inside a</span>
</span><span id="L-531"><a href="#L-531"><span class="linenos">531</span></a><span class="sd">            widget.</span>
</span><span id="L-532"><a href="#L-532"><span class="linenos">532</span></a>
</span><span id="L-533"><a href="#L-533"><span class="linenos">533</span></a><span class="sd">        Raises:</span>
</span><span id="L-534"><a href="#L-534"><span class="linenos">534</span></a><span class="sd">            KeyError: Style key is invalid.</span>
</span><span id="L-535"><a href="#L-535"><span class="linenos">535</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-536"><a href="#L-536"><span class="linenos">536</span></a>
</span><span id="L-537"><a href="#L-537"><span class="linenos">537</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">styles</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
</span><span id="L-538"><a href="#L-538"><span class="linenos">538</span></a>
</span><span id="L-539"><a href="#L-539"><span class="linenos">539</span></a>    <span class="k">def</span> <span class="nf">_get_char</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">w_styles</span><span class="o">.</span><span class="n">CharType</span><span class="p">:</span>
</span><span id="L-540"><a href="#L-540"><span class="linenos">540</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets character from its key.</span>
</span><span id="L-541"><a href="#L-541"><span class="linenos">541</span></a>
</span><span id="L-542"><a href="#L-542"><span class="linenos">542</span></a><span class="sd">        Args:</span>
</span><span id="L-543"><a href="#L-543"><span class="linenos">543</span></a><span class="sd">            key: A key into the widget&#39;s chars dictionary.</span>
</span><span id="L-544"><a href="#L-544"><span class="linenos">544</span></a>
</span><span id="L-545"><a href="#L-545"><span class="linenos">545</span></a><span class="sd">        Returns:</span>
</span><span id="L-546"><a href="#L-546"><span class="linenos">546</span></a><span class="sd">            Either a `list[str]` or a simple `str`, depending on the character.</span>
</span><span id="L-547"><a href="#L-547"><span class="linenos">547</span></a>
</span><span id="L-548"><a href="#L-548"><span class="linenos">548</span></a><span class="sd">        Raises:</span>
</span><span id="L-549"><a href="#L-549"><span class="linenos">549</span></a><span class="sd">            KeyError: Style key is invalid.</span>
</span><span id="L-550"><a href="#L-550"><span class="linenos">550</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-551"><a href="#L-551"><span class="linenos">551</span></a>
</span><span id="L-552"><a href="#L-552"><span class="linenos">552</span></a>        <span class="n">chars</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">chars</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
</span><span id="L-553"><a href="#L-553"><span class="linenos">553</span></a>
</span><span id="L-554"><a href="#L-554"><span class="linenos">554</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">chars</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="L-555"><a href="#L-555"><span class="linenos">555</span></a>            <span class="k">if</span> <span class="n">chars</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;u:&quot;</span><span class="p">):</span>
</span><span id="L-556"><a href="#L-556"><span class="linenos">556</span></a>                <span class="n">identifier</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">chars</span><span class="p">[</span><span class="mi">2</span><span class="p">:]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;_&quot;</span><span class="p">))</span>
</span><span id="L-557"><a href="#L-557"><span class="linenos">557</span></a>                <span class="n">chars</span> <span class="o">=</span> <span class="n">u_lookup</span><span class="p">(</span><span class="n">identifier</span><span class="p">)</span>
</span><span id="L-558"><a href="#L-558"><span class="linenos">558</span></a>
</span><span id="L-559"><a href="#L-559"><span class="linenos">559</span></a>            <span class="k">return</span> <span class="n">chars</span>
</span><span id="L-560"><a href="#L-560"><span class="linenos">560</span></a>
</span><span id="L-561"><a href="#L-561"><span class="linenos">561</span></a>        <span class="k">return</span> <span class="n">chars</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
</span><span id="L-562"><a href="#L-562"><span class="linenos">562</span></a>
</span><span id="L-563"><a href="#L-563"><span class="linenos">563</span></a>    <span class="k">def</span> <span class="nf">get_lines</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
</span><span id="L-564"><a href="#L-564"><span class="linenos">564</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets lines representing this widget.</span>
</span><span id="L-565"><a href="#L-565"><span class="linenos">565</span></a>
</span><span id="L-566"><a href="#L-566"><span class="linenos">566</span></a><span class="sd">        These lines have to be equal to the widget in length. All</span>
</span><span id="L-567"><a href="#L-567"><span class="linenos">567</span></a><span class="sd">        widgets must provide this method. Make sure to keep it performant,</span>
</span><span id="L-568"><a href="#L-568"><span class="linenos">568</span></a><span class="sd">        as it will be called very often, often multiple times per WindowManager frame.</span>
</span><span id="L-569"><a href="#L-569"><span class="linenos">569</span></a>
</span><span id="L-570"><a href="#L-570"><span class="linenos">570</span></a><span class="sd">        Any longer actions should be done outside of this method, and only their</span>
</span><span id="L-571"><a href="#L-571"><span class="linenos">571</span></a><span class="sd">        result should be looked up here.</span>
</span><span id="L-572"><a href="#L-572"><span class="linenos">572</span></a>
</span><span id="L-573"><a href="#L-573"><span class="linenos">573</span></a><span class="sd">        Returns:</span>
</span><span id="L-574"><a href="#L-574"><span class="linenos">574</span></a><span class="sd">            Nothing by default.</span>
</span><span id="L-575"><a href="#L-575"><span class="linenos">575</span></a>
</span><span id="L-576"><a href="#L-576"><span class="linenos">576</span></a><span class="sd">        Raises:</span>
</span><span id="L-577"><a href="#L-577"><span class="linenos">577</span></a><span class="sd">            NotImplementedError: As this method is required for **all** widgets, not</span>
</span><span id="L-578"><a href="#L-578"><span class="linenos">578</span></a><span class="sd">                having it defined will raise NotImplementedError.</span>
</span><span id="L-579"><a href="#L-579"><span class="linenos">579</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-580"><a href="#L-580"><span class="linenos">580</span></a>
</span><span id="L-581"><a href="#L-581"><span class="linenos">581</span></a>        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;get_lines() is not defined for type </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
</span><span id="L-582"><a href="#L-582"><span class="linenos">582</span></a>
</span><span id="L-583"><a href="#L-583"><span class="linenos">583</span></a>    <span class="k">def</span> <span class="nf">move</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">diff_x</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">diff_y</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-584"><a href="#L-584"><span class="linenos">584</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Moves the widget by the given x and y changes.&quot;&quot;&quot;</span>
</span><span id="L-585"><a href="#L-585"><span class="linenos">585</span></a>
</span><span id="L-586"><a href="#L-586"><span class="linenos">586</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">pos</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">diff_x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">diff_y</span><span class="p">)</span>
</span><span id="L-587"><a href="#L-587"><span class="linenos">587</span></a>
</span><span id="L-588"><a href="#L-588"><span class="linenos">588</span></a>        <span class="n">adjusted</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-589"><a href="#L-589"><span class="linenos">589</span></a>        <span class="k">for</span> <span class="n">pos</span><span class="p">,</span> <span class="n">line</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">positioned_line_buffer</span><span class="p">:</span>
</span><span id="L-590"><a href="#L-590"><span class="linenos">590</span></a>            <span class="n">adjusted</span><span class="o">.</span><span class="n">append</span><span class="p">(((</span><span class="n">pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">diff_x</span><span class="p">,</span> <span class="n">pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">diff_y</span><span class="p">),</span> <span class="n">line</span><span class="p">))</span>
</span><span id="L-591"><a href="#L-591"><span class="linenos">591</span></a>
</span><span id="L-592"><a href="#L-592"><span class="linenos">592</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">positioned_line_buffer</span> <span class="o">=</span> <span class="n">adjusted</span>
</span><span id="L-593"><a href="#L-593"><span class="linenos">593</span></a>
</span><span id="L-594"><a href="#L-594"><span class="linenos">594</span></a>    <span class="k">def</span> <span class="nf">bind</span><span class="p">(</span>
</span><span id="L-595"><a href="#L-595"><span class="linenos">595</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">action</span><span class="p">:</span> <span class="n">BoundCallback</span><span class="p">,</span> <span class="n">description</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-596"><a href="#L-596"><span class="linenos">596</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-597"><a href="#L-597"><span class="linenos">597</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Binds an action to a keypress.</span>
</span><span id="L-598"><a href="#L-598"><span class="linenos">598</span></a>
</span><span id="L-599"><a href="#L-599"><span class="linenos">599</span></a><span class="sd">        This function is only called by implementations above this layer. To use this</span>
</span><span id="L-600"><a href="#L-600"><span class="linenos">600</span></a><span class="sd">        functionality use `pytermgui.window_manager.WindowManager`, or write your own</span>
</span><span id="L-601"><a href="#L-601"><span class="linenos">601</span></a><span class="sd">        custom layer.</span>
</span><span id="L-602"><a href="#L-602"><span class="linenos">602</span></a>
</span><span id="L-603"><a href="#L-603"><span class="linenos">603</span></a><span class="sd">        Special keys:</span>
</span><span id="L-604"><a href="#L-604"><span class="linenos">604</span></a><span class="sd">        - keys.ANY_KEY: Any and all keypresses execute this binding.</span>
</span><span id="L-605"><a href="#L-605"><span class="linenos">605</span></a><span class="sd">        - keys.MouseAction: Any and all mouse inputs execute this binding.</span>
</span><span id="L-606"><a href="#L-606"><span class="linenos">606</span></a>
</span><span id="L-607"><a href="#L-607"><span class="linenos">607</span></a><span class="sd">        Args:</span>
</span><span id="L-608"><a href="#L-608"><span class="linenos">608</span></a><span class="sd">            key: The key that the action will be bound to.</span>
</span><span id="L-609"><a href="#L-609"><span class="linenos">609</span></a><span class="sd">            action: The action executed when the key is pressed.</span>
</span><span id="L-610"><a href="#L-610"><span class="linenos">610</span></a><span class="sd">            description: An optional description for this binding. It is not really</span>
</span><span id="L-611"><a href="#L-611"><span class="linenos">611</span></a><span class="sd">                used anywhere, but you can provide a helper menu and display them.</span>
</span><span id="L-612"><a href="#L-612"><span class="linenos">612</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-613"><a href="#L-613"><span class="linenos">613</span></a>
</span><span id="L-614"><a href="#L-614"><span class="linenos">614</span></a>        <span class="k">if</span> <span class="n">description</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-615"><a href="#L-615"><span class="linenos">615</span></a>            <span class="n">description</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Binding of </span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2"> to </span><span class="si">{</span><span class="n">action</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="L-616"><a href="#L-616"><span class="linenos">616</span></a>
</span><span id="L-617"><a href="#L-617"><span class="linenos">617</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_bindings</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">action</span><span class="p">,</span> <span class="n">description</span><span class="p">)</span>
</span><span id="L-618"><a href="#L-618"><span class="linenos">618</span></a>
</span><span id="L-619"><a href="#L-619"><span class="linenos">619</span></a>    <span class="k">def</span> <span class="nf">unbind</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-620"><a href="#L-620"><span class="linenos">620</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Unbinds the given key.&quot;&quot;&quot;</span>
</span><span id="L-621"><a href="#L-621"><span class="linenos">621</span></a>
</span><span id="L-622"><a href="#L-622"><span class="linenos">622</span></a>        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">_bindings</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
</span><span id="L-623"><a href="#L-623"><span class="linenos">623</span></a>
</span><span id="L-624"><a href="#L-624"><span class="linenos">624</span></a>    <span class="k">def</span> <span class="nf">execute_binding</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">ignore_any</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="L-625"><a href="#L-625"><span class="linenos">625</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Executes a binding belonging to key, when present.</span>
</span><span id="L-626"><a href="#L-626"><span class="linenos">626</span></a>
</span><span id="L-627"><a href="#L-627"><span class="linenos">627</span></a><span class="sd">        Use this method inside custom widget `handle_keys` methods, or to run a callback</span>
</span><span id="L-628"><a href="#L-628"><span class="linenos">628</span></a><span class="sd">        without its corresponding key having been pressed.</span>
</span><span id="L-629"><a href="#L-629"><span class="linenos">629</span></a>
</span><span id="L-630"><a href="#L-630"><span class="linenos">630</span></a><span class="sd">        Args:</span>
</span><span id="L-631"><a href="#L-631"><span class="linenos">631</span></a><span class="sd">            key: Usually a string, indexing into the `_bindings` dictionary. These are the</span>
</span><span id="L-632"><a href="#L-632"><span class="linenos">632</span></a><span class="sd">                same strings as defined in `Widget.bind`.</span>
</span><span id="L-633"><a href="#L-633"><span class="linenos">633</span></a><span class="sd">            ignore_any: If set, `keys.ANY_KEY` bindings will not be executed.</span>
</span><span id="L-634"><a href="#L-634"><span class="linenos">634</span></a>
</span><span id="L-635"><a href="#L-635"><span class="linenos">635</span></a><span class="sd">        Returns:</span>
</span><span id="L-636"><a href="#L-636"><span class="linenos">636</span></a><span class="sd">            True if the binding was found, False otherwise. Bindings will always be</span>
</span><span id="L-637"><a href="#L-637"><span class="linenos">637</span></a><span class="sd">                executed if they are found.</span>
</span><span id="L-638"><a href="#L-638"><span class="linenos">638</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-639"><a href="#L-639"><span class="linenos">639</span></a>
</span><span id="L-640"><a href="#L-640"><span class="linenos">640</span></a>        <span class="c1"># Execute special binding</span>
</span><span id="L-641"><a href="#L-641"><span class="linenos">641</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">ignore_any</span> <span class="ow">and</span> <span class="n">keys</span><span class="o">.</span><span class="n">ANY_KEY</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_bindings</span><span class="p">:</span>
</span><span id="L-642"><a href="#L-642"><span class="linenos">642</span></a>            <span class="n">method</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_bindings</span><span class="p">[</span><span class="n">keys</span><span class="o">.</span><span class="n">ANY_KEY</span><span class="p">]</span>
</span><span id="L-643"><a href="#L-643"><span class="linenos">643</span></a>            <span class="n">method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span>
</span><span id="L-644"><a href="#L-644"><span class="linenos">644</span></a>
</span><span id="L-645"><a href="#L-645"><span class="linenos">645</span></a>        <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_bindings</span><span class="p">:</span>
</span><span id="L-646"><a href="#L-646"><span class="linenos">646</span></a>            <span class="n">method</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_bindings</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
</span><span id="L-647"><a href="#L-647"><span class="linenos">647</span></a>            <span class="n">method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span>
</span><span id="L-648"><a href="#L-648"><span class="linenos">648</span></a>
</span><span id="L-649"><a href="#L-649"><span class="linenos">649</span></a>            <span class="k">return</span> <span class="kc">True</span>
</span><span id="L-650"><a href="#L-650"><span class="linenos">650</span></a>
</span><span id="L-651"><a href="#L-651"><span class="linenos">651</span></a>        <span class="k">return</span> <span class="kc">False</span>
</span><span id="L-652"><a href="#L-652"><span class="linenos">652</span></a>
</span><span id="L-653"><a href="#L-653"><span class="linenos">653</span></a>    <span class="k">def</span> <span class="nf">select</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-654"><a href="#L-654"><span class="linenos">654</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Selects a part of this Widget.</span>
</span><span id="L-655"><a href="#L-655"><span class="linenos">655</span></a>
</span><span id="L-656"><a href="#L-656"><span class="linenos">656</span></a><span class="sd">        Args:</span>
</span><span id="L-657"><a href="#L-657"><span class="linenos">657</span></a><span class="sd">            index: The index to select.</span>
</span><span id="L-658"><a href="#L-658"><span class="linenos">658</span></a>
</span><span id="L-659"><a href="#L-659"><span class="linenos">659</span></a><span class="sd">        Raises:</span>
</span><span id="L-660"><a href="#L-660"><span class="linenos">660</span></a><span class="sd">            TypeError: This widget has no selectables, i.e. widget.is_selectable == False.</span>
</span><span id="L-661"><a href="#L-661"><span class="linenos">661</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-662"><a href="#L-662"><span class="linenos">662</span></a>
</span><span id="L-663"><a href="#L-663"><span class="linenos">663</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_selectable</span><span class="p">:</span>
</span><span id="L-664"><a href="#L-664"><span class="linenos">664</span></a>            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Object of type </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="si">}</span><span class="s2"> has no selectables.&quot;</span><span class="p">)</span>
</span><span id="L-665"><a href="#L-665"><span class="linenos">665</span></a>
</span><span id="L-666"><a href="#L-666"><span class="linenos">666</span></a>        <span class="k">if</span> <span class="n">index</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-667"><a href="#L-667"><span class="linenos">667</span></a>            <span class="n">index</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">index</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">selectables_length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
</span><span id="L-668"><a href="#L-668"><span class="linenos">668</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">selected_index</span> <span class="o">=</span> <span class="n">index</span>
</span><span id="L-669"><a href="#L-669"><span class="linenos">669</span></a>
</span><span id="L-670"><a href="#L-670"><span class="linenos">670</span></a>    <span class="k">def</span> <span class="nf">print</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-671"><a href="#L-671"><span class="linenos">671</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Prints this widget&quot;&quot;&quot;</span>
</span><span id="L-672"><a href="#L-672"><span class="linenos">672</span></a>
</span><span id="L-673"><a href="#L-673"><span class="linenos">673</span></a>        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_lines</span><span class="p">():</span>
</span><span id="L-674"><a href="#L-674"><span class="linenos">674</span></a>            <span class="nb">print</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
</span><span id="L-675"><a href="#L-675"><span class="linenos">675</span></a>
</span><span id="L-676"><a href="#L-676"><span class="linenos">676</span></a>    <span class="k">def</span> <span class="nf">debug</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="L-677"><a href="#L-677"><span class="linenos">677</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns identifiable information about this widget.</span>
</span><span id="L-678"><a href="#L-678"><span class="linenos">678</span></a>
</span><span id="L-679"><a href="#L-679"><span class="linenos">679</span></a><span class="sd">        This method is used to easily differentiate between widgets. By default, all widget&#39;s</span>
</span><span id="L-680"><a href="#L-680"><span class="linenos">680</span></a><span class="sd">        __repr__ method is an alias to this. The signature of each widget is used to generate</span>
</span><span id="L-681"><a href="#L-681"><span class="linenos">681</span></a><span class="sd">        the return value.</span>
</span><span id="L-682"><a href="#L-682"><span class="linenos">682</span></a>
</span><span id="L-683"><a href="#L-683"><span class="linenos">683</span></a><span class="sd">        Returns:</span>
</span><span id="L-684"><a href="#L-684"><span class="linenos">684</span></a><span class="sd">            A string almost exactly matching the line of code that could have defined the widget.</span>
</span><span id="L-685"><a href="#L-685"><span class="linenos">685</span></a>
</span><span id="L-686"><a href="#L-686"><span class="linenos">686</span></a><span class="sd">            Example return:</span>
</span><span id="L-687"><a href="#L-687"><span class="linenos">687</span></a>
</span><span id="L-688"><a href="#L-688"><span class="linenos">688</span></a><span class="sd">            ```</span>
</span><span id="L-689"><a href="#L-689"><span class="linenos">689</span></a><span class="sd">            Container(Label(value=&quot;This is a label&quot;, padding=0),</span>
</span><span id="L-690"><a href="#L-690"><span class="linenos">690</span></a><span class="sd">            Button(label=&quot;This is a button&quot;, padding=0), **attrs)</span>
</span><span id="L-691"><a href="#L-691"><span class="linenos">691</span></a><span class="sd">            ```</span>
</span><span id="L-692"><a href="#L-692"><span class="linenos">692</span></a>
</span><span id="L-693"><a href="#L-693"><span class="linenos">693</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-694"><a href="#L-694"><span class="linenos">694</span></a>
</span><span id="L-695"><a href="#L-695"><span class="linenos">695</span></a>        <span class="n">constructor</span> <span class="o">=</span> <span class="s2">&quot;(&quot;</span>
</span><span id="L-696"><a href="#L-696"><span class="linenos">696</span></a>        <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">signature</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;__init__&quot;</span><span class="p">))</span><span class="o">.</span><span class="n">parameters</span><span class="p">:</span>
</span><span id="L-697"><a href="#L-697"><span class="linenos">697</span></a>            <span class="n">current</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</span><span id="L-698"><a href="#L-698"><span class="linenos">698</span></a>            <span class="k">if</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;attrs&quot;</span><span class="p">:</span>
</span><span id="L-699"><a href="#L-699"><span class="linenos">699</span></a>                <span class="n">current</span> <span class="o">+=</span> <span class="s2">&quot;**attrs&quot;</span>
</span><span id="L-700"><a href="#L-700"><span class="linenos">700</span></a>                <span class="k">continue</span>
</span><span id="L-701"><a href="#L-701"><span class="linenos">701</span></a>
</span><span id="L-702"><a href="#L-702"><span class="linenos">702</span></a>            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">constructor</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="L-703"><a href="#L-703"><span class="linenos">703</span></a>                <span class="n">current</span> <span class="o">+=</span> <span class="s2">&quot;, &quot;</span>
</span><span id="L-704"><a href="#L-704"><span class="linenos">704</span></a>
</span><span id="L-705"><a href="#L-705"><span class="linenos">705</span></a>            <span class="n">current</span> <span class="o">+=</span> <span class="n">name</span>
</span><span id="L-706"><a href="#L-706"><span class="linenos">706</span></a>
</span><span id="L-707"><a href="#L-707"><span class="linenos">707</span></a>            <span class="n">attr</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</span><span id="L-708"><a href="#L-708"><span class="linenos">708</span></a>            <span class="k">if</span> <span class="n">attr</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-709"><a href="#L-709"><span class="linenos">709</span></a>                <span class="k">continue</span>
</span><span id="L-710"><a href="#L-710"><span class="linenos">710</span></a>
</span><span id="L-711"><a href="#L-711"><span class="linenos">711</span></a>            <span class="n">current</span> <span class="o">+=</span> <span class="s2">&quot;=&quot;</span>
</span><span id="L-712"><a href="#L-712"><span class="linenos">712</span></a>
</span><span id="L-713"><a href="#L-713"><span class="linenos">713</span></a>            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">attr</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="L-714"><a href="#L-714"><span class="linenos">714</span></a>                <span class="n">current</span> <span class="o">+=</span> <span class="sa">f</span><span class="s1">&#39;&quot;</span><span class="si">{</span><span class="n">attr</span><span class="si">}</span><span class="s1">&quot;&#39;</span>
</span><span id="L-715"><a href="#L-715"><span class="linenos">715</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="L-716"><a href="#L-716"><span class="linenos">716</span></a>                <span class="n">current</span> <span class="o">+=</span> <span class="nb">str</span><span class="p">(</span><span class="n">attr</span><span class="p">)</span>
</span><span id="L-717"><a href="#L-717"><span class="linenos">717</span></a>
</span><span id="L-718"><a href="#L-718"><span class="linenos">718</span></a>            <span class="n">constructor</span> <span class="o">+=</span> <span class="n">current</span>
</span><span id="L-719"><a href="#L-719"><span class="linenos">719</span></a>
</span><span id="L-720"><a href="#L-720"><span class="linenos">720</span></a>        <span class="n">constructor</span> <span class="o">+=</span> <span class="s2">&quot;)&quot;</span>
</span><span id="L-721"><a href="#L-721"><span class="linenos">721</span></a>
</span><span id="L-722"><a href="#L-722"><span class="linenos">722</span></a>        <span class="k">return</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">+</span> <span class="n">constructor</span>
</span><span id="L-723"><a href="#L-723"><span class="linenos">723</span></a>
</span><span id="L-724"><a href="#L-724"><span class="linenos">724</span></a>
</span><span id="L-725"><a href="#L-725"><span class="linenos">725</span></a><span class="k">class</span> <span class="nc">Label</span><span class="p">(</span><span class="n">Widget</span><span class="p">):</span>
</span><span id="L-726"><a href="#L-726"><span class="linenos">726</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;A Widget to display a string</span>
</span><span id="L-727"><a href="#L-727"><span class="linenos">727</span></a>
</span><span id="L-728"><a href="#L-728"><span class="linenos">728</span></a><span class="sd">    By default, this widget uses `pytermgui.widgets.styles.MARKUP`. This</span>
</span><span id="L-729"><a href="#L-729"><span class="linenos">729</span></a><span class="sd">    allows it to house markup text that is parsed before display, such as:</span>
</span><span id="L-730"><a href="#L-730"><span class="linenos">730</span></a>
</span><span id="L-731"><a href="#L-731"><span class="linenos">731</span></a><span class="sd">    ```termage-svg</span>
</span><span id="L-732"><a href="#L-732"><span class="linenos">732</span></a><span class="sd">    print(&quot;hello world&quot;)</span>
</span><span id="L-733"><a href="#L-733"><span class="linenos">733</span></a><span class="sd">    ```</span>
</span><span id="L-734"><a href="#L-734"><span class="linenos">734</span></a>
</span><span id="L-735"><a href="#L-735"><span class="linenos">735</span></a><span class="sd">    ```python3</span>
</span><span id="L-736"><a href="#L-736"><span class="linenos">736</span></a><span class="sd">    import pytermgui as ptg</span>
</span><span id="L-737"><a href="#L-737"><span class="linenos">737</span></a>
</span><span id="L-738"><a href="#L-738"><span class="linenos">738</span></a><span class="sd">    with ptg.alt_buffer():</span>
</span><span id="L-739"><a href="#L-739"><span class="linenos">739</span></a><span class="sd">        root = ptg.Container(</span>
</span><span id="L-740"><a href="#L-740"><span class="linenos">740</span></a><span class="sd">            ptg.Label(&quot;[italic 141 bold]This is some [green]fancy [white inverse]text!&quot;)</span>
</span><span id="L-741"><a href="#L-741"><span class="linenos">741</span></a><span class="sd">        )</span>
</span><span id="L-742"><a href="#L-742"><span class="linenos">742</span></a><span class="sd">        root.print()</span>
</span><span id="L-743"><a href="#L-743"><span class="linenos">743</span></a><span class="sd">        ptg.getch()</span>
</span><span id="L-744"><a href="#L-744"><span class="linenos">744</span></a><span class="sd">    ```</span>
</span><span id="L-745"><a href="#L-745"><span class="linenos">745</span></a>
</span><span id="L-746"><a href="#L-746"><span class="linenos">746</span></a><span class="sd">    &lt;p style=&quot;text-align: center&quot;&gt;</span>
</span><span id="L-747"><a href="#L-747"><span class="linenos">747</span></a><span class="sd">     &lt;img</span>
</span><span id="L-748"><a href="#L-748"><span class="linenos">748</span></a><span class="sd">      src=&quot;https://github.com/bczsalba/pytermgui/blob/master/assets/docs/widgets/label.png?raw=true&quot;</span>
</span><span id="L-749"><a href="#L-749"><span class="linenos">749</span></a><span class="sd">      width=100%&gt;</span>
</span><span id="L-750"><a href="#L-750"><span class="linenos">750</span></a><span class="sd">    &lt;/p&gt;</span>
</span><span id="L-751"><a href="#L-751"><span class="linenos">751</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-752"><a href="#L-752"><span class="linenos">752</span></a>
</span><span id="L-753"><a href="#L-753"><span class="linenos">753</span></a>    <span class="n">serialized</span> <span class="o">=</span> <span class="n">Widget</span><span class="o">.</span><span class="n">serialized</span> <span class="o">+</span> <span class="p">[</span><span class="s2">&quot;*value&quot;</span><span class="p">,</span> <span class="s2">&quot;align&quot;</span><span class="p">,</span> <span class="s2">&quot;padding&quot;</span><span class="p">]</span>
</span><span id="L-754"><a href="#L-754"><span class="linenos">754</span></a>    <span class="n">styles</span> <span class="o">=</span> <span class="n">w_styles</span><span class="o">.</span><span class="n">StyleManager</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
</span><span id="L-755"><a href="#L-755"><span class="linenos">755</span></a>
</span><span id="L-756"><a href="#L-756"><span class="linenos">756</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
</span><span id="L-757"><a href="#L-757"><span class="linenos">757</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="L-758"><a href="#L-758"><span class="linenos">758</span></a>        <span class="n">value</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span id="L-759"><a href="#L-759"><span class="linenos">759</span></a>        <span class="n">style</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">w_styles</span><span class="o">.</span><span class="n">StyleValue</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span id="L-760"><a href="#L-760"><span class="linenos">760</span></a>        <span class="n">padding</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
</span><span id="L-761"><a href="#L-761"><span class="linenos">761</span></a>        <span class="n">non_first_padding</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
</span><span id="L-762"><a href="#L-762"><span class="linenos">762</span></a>        <span class="o">**</span><span class="n">attrs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
</span><span id="L-763"><a href="#L-763"><span class="linenos">763</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-764"><a href="#L-764"><span class="linenos">764</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Initializes a Label.</span>
</span><span id="L-765"><a href="#L-765"><span class="linenos">765</span></a>
</span><span id="L-766"><a href="#L-766"><span class="linenos">766</span></a><span class="sd">        Args:</span>
</span><span id="L-767"><a href="#L-767"><span class="linenos">767</span></a><span class="sd">            value: The value of this string. Using the default value style</span>
</span><span id="L-768"><a href="#L-768"><span class="linenos">768</span></a><span class="sd">                (`pytermgui.widgets.styles.MARKUP`),</span>
</span><span id="L-769"><a href="#L-769"><span class="linenos">769</span></a><span class="sd">            style: A pre-set value for self.styles.value.</span>
</span><span id="L-770"><a href="#L-770"><span class="linenos">770</span></a><span class="sd">            padding: The number of space (&quot; &quot;) characters to prepend to every line after</span>
</span><span id="L-771"><a href="#L-771"><span class="linenos">771</span></a><span class="sd">                line breaking.</span>
</span><span id="L-772"><a href="#L-772"><span class="linenos">772</span></a><span class="sd">            non_first_padding: The number of space characters to prepend to every</span>
</span><span id="L-773"><a href="#L-773"><span class="linenos">773</span></a><span class="sd">                non-first line of `get_lines`. This is applied on top of `padding`.</span>
</span><span id="L-774"><a href="#L-774"><span class="linenos">774</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-775"><a href="#L-775"><span class="linenos">775</span></a>
</span><span id="L-776"><a href="#L-776"><span class="linenos">776</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">attrs</span><span class="p">)</span>
</span><span id="L-777"><a href="#L-777"><span class="linenos">777</span></a>
</span><span id="L-778"><a href="#L-778"><span class="linenos">778</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">value</span>
</span><span id="L-779"><a href="#L-779"><span class="linenos">779</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">padding</span> <span class="o">=</span> <span class="n">padding</span>
</span><span id="L-780"><a href="#L-780"><span class="linenos">780</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">non_first_padding</span> <span class="o">=</span> <span class="n">non_first_padding</span>
</span><span id="L-781"><a href="#L-781"><span class="linenos">781</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="n">real_length</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">padding</span>
</span><span id="L-782"><a href="#L-782"><span class="linenos">782</span></a>
</span><span id="L-783"><a href="#L-783"><span class="linenos">783</span></a>        <span class="k">if</span> <span class="n">style</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
</span><span id="L-784"><a href="#L-784"><span class="linenos">784</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">styles</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">style</span>
</span><span id="L-785"><a href="#L-785"><span class="linenos">785</span></a>
</span><span id="L-786"><a href="#L-786"><span class="linenos">786</span></a>    <span class="k">def</span> <span class="nf">get_lines</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
</span><span id="L-787"><a href="#L-787"><span class="linenos">787</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get lines representing this Label, breaking lines as necessary&quot;&quot;&quot;</span>
</span><span id="L-788"><a href="#L-788"><span class="linenos">788</span></a>
</span><span id="L-789"><a href="#L-789"><span class="linenos">789</span></a>        <span class="n">lines</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-790"><a href="#L-790"><span class="linenos">790</span></a>        <span class="n">limit</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">padding</span>
</span><span id="L-791"><a href="#L-791"><span class="linenos">791</span></a>        <span class="n">broken</span> <span class="o">=</span> <span class="n">break_line</span><span class="p">(</span>
</span><span id="L-792"><a href="#L-792"><span class="linenos">792</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">styles</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">value</span><span class="p">),</span>
</span><span id="L-793"><a href="#L-793"><span class="linenos">793</span></a>            <span class="n">limit</span><span class="o">=</span><span class="n">limit</span><span class="p">,</span>
</span><span id="L-794"><a href="#L-794"><span class="linenos">794</span></a>            <span class="n">non_first_limit</span><span class="o">=</span><span class="n">limit</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">non_first_padding</span><span class="p">,</span>
</span><span id="L-795"><a href="#L-795"><span class="linenos">795</span></a>        <span class="p">)</span>
</span><span id="L-796"><a href="#L-796"><span class="linenos">796</span></a>
</span><span id="L-797"><a href="#L-797"><span class="linenos">797</span></a>        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">line</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">broken</span><span class="p">):</span>
</span><span id="L-798"><a href="#L-798"><span class="linenos">798</span></a>            <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="L-799"><a href="#L-799"><span class="linenos">799</span></a>                <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">padding</span> <span class="o">*</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="n">line</span><span class="p">)</span>
</span><span id="L-800"><a href="#L-800"><span class="linenos">800</span></a>                <span class="k">continue</span>
</span><span id="L-801"><a href="#L-801"><span class="linenos">801</span></a>
</span><span id="L-802"><a href="#L-802"><span class="linenos">802</span></a>            <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">padding</span> <span class="o">*</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">non_first_padding</span> <span class="o">*</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="n">line</span><span class="p">)</span>
</span><span id="L-803"><a href="#L-803"><span class="linenos">803</span></a>
</span><span id="L-804"><a href="#L-804"><span class="linenos">804</span></a>        <span class="k">return</span> <span class="n">lines</span> <span class="ow">or</span> <span class="p">[</span><span class="s2">&quot;&quot;</span><span class="p">]</span>
</span><span id="L-805"><a href="#L-805"><span class="linenos">805</span></a>
</span><span id="L-806"><a href="#L-806"><span class="linenos">806</span></a>
</span><span id="L-807"><a href="#L-807"><span class="linenos">807</span></a><span class="k">class</span> <span class="nc">ScrollableWidget</span><span class="p">(</span><span class="n">Widget</span><span class="p">):</span>
</span><span id="L-808"><a href="#L-808"><span class="linenos">808</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;A widget with some scrolling helper methods.</span>
</span><span id="L-809"><a href="#L-809"><span class="linenos">809</span></a>
</span><span id="L-810"><a href="#L-810"><span class="linenos">810</span></a><span class="sd">    This is not an implementation of the scrolling behaviour itself, just the</span>
</span><span id="L-811"><a href="#L-811"><span class="linenos">811</span></a><span class="sd">    user-facing API for it.</span>
</span><span id="L-812"><a href="#L-812"><span class="linenos">812</span></a>
</span><span id="L-813"><a href="#L-813"><span class="linenos">813</span></a><span class="sd">    It provides a `_scroll_offset` attribute, which is an integer describing the current</span>
</span><span id="L-814"><a href="#L-814"><span class="linenos">814</span></a><span class="sd">    scroll state offset from the top, as well as some methods to modify the state.&quot;&quot;&quot;</span>
</span><span id="L-815"><a href="#L-815"><span class="linenos">815</span></a>
</span><span id="L-816"><a href="#L-816"><span class="linenos">816</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">attrs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-817"><a href="#L-817"><span class="linenos">817</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Initializes the scrollable widget.&quot;&quot;&quot;</span>
</span><span id="L-818"><a href="#L-818"><span class="linenos">818</span></a>
</span><span id="L-819"><a href="#L-819"><span class="linenos">819</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">attrs</span><span class="p">)</span>
</span><span id="L-820"><a href="#L-820"><span class="linenos">820</span></a>
</span><span id="L-821"><a href="#L-821"><span class="linenos">821</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_max_scroll</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="L-822"><a href="#L-822"><span class="linenos">822</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_scroll_offset</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="L-823"><a href="#L-823"><span class="linenos">823</span></a>
</span><span id="L-824"><a href="#L-824"><span class="linenos">824</span></a>    <span class="k">def</span> <span class="nf">scroll</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">offset</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="L-825"><a href="#L-825"><span class="linenos">825</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Scrolls to given offset, returns the new scroll_offset.</span>
</span><span id="L-826"><a href="#L-826"><span class="linenos">826</span></a>
</span><span id="L-827"><a href="#L-827"><span class="linenos">827</span></a><span class="sd">        Args:</span>
</span><span id="L-828"><a href="#L-828"><span class="linenos">828</span></a><span class="sd">            offset: The amount to scroll by. Positive offsets scroll down,</span>
</span><span id="L-829"><a href="#L-829"><span class="linenos">829</span></a><span class="sd">                negative up.</span>
</span><span id="L-830"><a href="#L-830"><span class="linenos">830</span></a>
</span><span id="L-831"><a href="#L-831"><span class="linenos">831</span></a><span class="sd">        Returns:</span>
</span><span id="L-832"><a href="#L-832"><span class="linenos">832</span></a><span class="sd">            True if the scroll offset changed, False otherwise.</span>
</span><span id="L-833"><a href="#L-833"><span class="linenos">833</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-834"><a href="#L-834"><span class="linenos">834</span></a>
</span><span id="L-835"><a href="#L-835"><span class="linenos">835</span></a>        <span class="n">base</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scroll_offset</span>
</span><span id="L-836"><a href="#L-836"><span class="linenos">836</span></a>
</span><span id="L-837"><a href="#L-837"><span class="linenos">837</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_scroll_offset</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span>
</span><span id="L-838"><a href="#L-838"><span class="linenos">838</span></a>            <span class="nb">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scroll_offset</span> <span class="o">+</span> <span class="n">offset</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_max_scroll</span>
</span><span id="L-839"><a href="#L-839"><span class="linenos">839</span></a>        <span class="p">)</span>
</span><span id="L-840"><a href="#L-840"><span class="linenos">840</span></a>
</span><span id="L-841"><a href="#L-841"><span class="linenos">841</span></a>        <span class="k">return</span> <span class="n">base</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scroll_offset</span>
</span><span id="L-842"><a href="#L-842"><span class="linenos">842</span></a>
</span><span id="L-843"><a href="#L-843"><span class="linenos">843</span></a>    <span class="k">def</span> <span class="nf">scroll_end</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">end</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="L-844"><a href="#L-844"><span class="linenos">844</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Scrolls to either top or bottom end of this object.</span>
</span><span id="L-845"><a href="#L-845"><span class="linenos">845</span></a>
</span><span id="L-846"><a href="#L-846"><span class="linenos">846</span></a><span class="sd">        Args:</span>
</span><span id="L-847"><a href="#L-847"><span class="linenos">847</span></a><span class="sd">            end: The offset to scroll to. 0 goes to the very top, -1 to the</span>
</span><span id="L-848"><a href="#L-848"><span class="linenos">848</span></a><span class="sd">                very bottom.</span>
</span><span id="L-849"><a href="#L-849"><span class="linenos">849</span></a>
</span><span id="L-850"><a href="#L-850"><span class="linenos">850</span></a><span class="sd">        Returns:</span>
</span><span id="L-851"><a href="#L-851"><span class="linenos">851</span></a><span class="sd">            True if the scroll offset changed, False otherwise.</span>
</span><span id="L-852"><a href="#L-852"><span class="linenos">852</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-853"><a href="#L-853"><span class="linenos">853</span></a>
</span><span id="L-854"><a href="#L-854"><span class="linenos">854</span></a>        <span class="n">base</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scroll_offset</span>
</span><span id="L-855"><a href="#L-855"><span class="linenos">855</span></a>
</span><span id="L-856"><a href="#L-856"><span class="linenos">856</span></a>        <span class="k">if</span> <span class="n">end</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="L-857"><a href="#L-857"><span class="linenos">857</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_scroll_offset</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="L-858"><a href="#L-858"><span class="linenos">858</span></a>
</span><span id="L-859"><a href="#L-859"><span class="linenos">859</span></a>        <span class="k">elif</span> <span class="n">end</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
</span><span id="L-860"><a href="#L-860"><span class="linenos">860</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_scroll_offset</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_max_scroll</span>
</span><span id="L-861"><a href="#L-861"><span class="linenos">861</span></a>
</span><span id="L-862"><a href="#L-862"><span class="linenos">862</span></a>        <span class="k">return</span> <span class="n">base</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scroll_offset</span>
</span><span id="L-863"><a href="#L-863"><span class="linenos">863</span></a>
</span><span id="L-864"><a href="#L-864"><span class="linenos">864</span></a>    <span class="k">def</span> <span class="nf">get_lines</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
</span><span id="L-865"><a href="#L-865"><span class="linenos">865</span></a>        <span class="o">...</span>
</span></pre></div>


            </section>
                <section id="Widget">
                            <input id="Widget-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">Widget</span>:

                <label class="view-source-button" for="Widget-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Widget"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Widget-80"><a href="#Widget-80"><span class="linenos"> 80</span></a><span class="k">class</span> <span class="nc">Widget</span><span class="p">:</span>  <span class="c1"># pylint: disable=too-many-public-methods</span>
</span><span id="Widget-81"><a href="#Widget-81"><span class="linenos"> 81</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;The base of the Widget system&quot;&quot;&quot;</span>
</span><span id="Widget-82"><a href="#Widget-82"><span class="linenos"> 82</span></a>
</span><span id="Widget-83"><a href="#Widget-83"><span class="linenos"> 83</span></a>    <span class="n">set_style</span> <span class="o">=</span> <span class="nb">classmethod</span><span class="p">(</span><span class="n">_set_obj_or_cls_style</span><span class="p">)</span>
</span><span id="Widget-84"><a href="#Widget-84"><span class="linenos"> 84</span></a>    <span class="n">set_char</span> <span class="o">=</span> <span class="nb">classmethod</span><span class="p">(</span><span class="n">_set_obj_or_cls_char</span><span class="p">)</span>
</span><span id="Widget-85"><a href="#Widget-85"><span class="linenos"> 85</span></a>
</span><span id="Widget-86"><a href="#Widget-86"><span class="linenos"> 86</span></a>    <span class="n">styles</span> <span class="o">=</span> <span class="n">w_styles</span><span class="o">.</span><span class="n">StyleManager</span><span class="p">()</span>
</span><span id="Widget-87"><a href="#Widget-87"><span class="linenos"> 87</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Default styles for this class&quot;&quot;&quot;</span>
</span><span id="Widget-88"><a href="#Widget-88"><span class="linenos"> 88</span></a>
</span><span id="Widget-89"><a href="#Widget-89"><span class="linenos"> 89</span></a>    <span class="n">chars</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">w_styles</span><span class="o">.</span><span class="n">CharType</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="Widget-90"><a href="#Widget-90"><span class="linenos"> 90</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Default characters for this class&quot;&quot;&quot;</span>
</span><span id="Widget-91"><a href="#Widget-91"><span class="linenos"> 91</span></a>
</span><span id="Widget-92"><a href="#Widget-92"><span class="linenos"> 92</span></a>    <span class="n">keys</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">set</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="Widget-93"><a href="#Widget-93"><span class="linenos"> 93</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Groups of keys that are used in `handle_key`&quot;&quot;&quot;</span>
</span><span id="Widget-94"><a href="#Widget-94"><span class="linenos"> 94</span></a>
</span><span id="Widget-95"><a href="#Widget-95"><span class="linenos"> 95</span></a>    <span class="n">serialized</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="Widget-96"><a href="#Widget-96"><span class="linenos"> 96</span></a>        <span class="s2">&quot;id&quot;</span><span class="p">,</span>
</span><span id="Widget-97"><a href="#Widget-97"><span class="linenos"> 97</span></a>        <span class="s2">&quot;pos&quot;</span><span class="p">,</span>
</span><span id="Widget-98"><a href="#Widget-98"><span class="linenos"> 98</span></a>        <span class="s2">&quot;depth&quot;</span><span class="p">,</span>
</span><span id="Widget-99"><a href="#Widget-99"><span class="linenos"> 99</span></a>        <span class="s2">&quot;width&quot;</span><span class="p">,</span>
</span><span id="Widget-100"><a href="#Widget-100"><span class="linenos">100</span></a>        <span class="s2">&quot;height&quot;</span><span class="p">,</span>
</span><span id="Widget-101"><a href="#Widget-101"><span class="linenos">101</span></a>        <span class="s2">&quot;selected_index&quot;</span><span class="p">,</span>
</span><span id="Widget-102"><a href="#Widget-102"><span class="linenos">102</span></a>        <span class="s2">&quot;selectables_length&quot;</span><span class="p">,</span>
</span><span id="Widget-103"><a href="#Widget-103"><span class="linenos">103</span></a>    <span class="p">]</span>
</span><span id="Widget-104"><a href="#Widget-104"><span class="linenos">104</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Fields of widget that shall be serialized by `pytermgui.serializer.Serializer`&quot;&quot;&quot;</span>
</span><span id="Widget-105"><a href="#Widget-105"><span class="linenos">105</span></a>
</span><span id="Widget-106"><a href="#Widget-106"><span class="linenos">106</span></a>    <span class="c1"># This class is loaded after this module,</span>
</span><span id="Widget-107"><a href="#Widget-107"><span class="linenos">107</span></a>    <span class="c1"># and thus mypy doesn&#39;t see its existence.</span>
</span><span id="Widget-108"><a href="#Widget-108"><span class="linenos">108</span></a>    <span class="n">_id_manager</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;_IDManager&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># type: ignore</span>
</span><span id="Widget-109"><a href="#Widget-109"><span class="linenos">109</span></a>
</span><span id="Widget-110"><a href="#Widget-110"><span class="linenos">110</span></a>    <span class="n">size_policy</span> <span class="o">=</span> <span class="n">SizePolicy</span><span class="o">.</span><span class="n">get_default</span><span class="p">()</span>
</span><span id="Widget-111"><a href="#Widget-111"><span class="linenos">111</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;`pytermgui.enums.SizePolicy` to set widget&#39;s width according to&quot;&quot;&quot;</span>
</span><span id="Widget-112"><a href="#Widget-112"><span class="linenos">112</span></a>
</span><span id="Widget-113"><a href="#Widget-113"><span class="linenos">113</span></a>    <span class="n">parent_align</span> <span class="o">=</span> <span class="n">HorizontalAlignment</span><span class="o">.</span><span class="n">get_default</span><span class="p">()</span>
</span><span id="Widget-114"><a href="#Widget-114"><span class="linenos">114</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;`pytermgui.enums.HorizontalAlignment` to align widget by&quot;&quot;&quot;</span>
</span><span id="Widget-115"><a href="#Widget-115"><span class="linenos">115</span></a>
</span><span id="Widget-116"><a href="#Widget-116"><span class="linenos">116</span></a>    <span class="n">from_data</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Widget</span> <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="n">Widget</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span><span class="p">]</span>
</span><span id="Widget-117"><a href="#Widget-117"><span class="linenos">117</span></a>
</span><span id="Widget-118"><a href="#Widget-118"><span class="linenos">118</span></a>    <span class="c1"># We cannot import boxes here due to cyclic imports.</span>
</span><span id="Widget-119"><a href="#Widget-119"><span class="linenos">119</span></a>    <span class="n">box</span><span class="p">:</span> <span class="n">Any</span>
</span><span id="Widget-120"><a href="#Widget-120"><span class="linenos">120</span></a>
</span><span id="Widget-121"><a href="#Widget-121"><span class="linenos">121</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">attrs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Widget-122"><a href="#Widget-122"><span class="linenos">122</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize object&quot;&quot;&quot;</span>
</span><span id="Widget-123"><a href="#Widget-123"><span class="linenos">123</span></a>
</span><span id="Widget-124"><a href="#Widget-124"><span class="linenos">124</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_style</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">_set_obj_or_cls_style</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</span><span id="Widget-125"><a href="#Widget-125"><span class="linenos">125</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_char</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">_set_obj_or_cls_char</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</span><span id="Widget-126"><a href="#Widget-126"><span class="linenos">126</span></a>
</span><span id="Widget-127"><a href="#Widget-127"><span class="linenos">127</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="mi">1</span>
</span><span id="Widget-128"><a href="#Widget-128"><span class="linenos">128</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">=</span> <span class="mi">1</span>
</span><span id="Widget-129"><a href="#Widget-129"><span class="linenos">129</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">pos</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">terminal</span><span class="o">.</span><span class="n">origin</span>
</span><span id="Widget-130"><a href="#Widget-130"><span class="linenos">130</span></a>
</span><span id="Widget-131"><a href="#Widget-131"><span class="linenos">131</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">depth</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="Widget-132"><a href="#Widget-132"><span class="linenos">132</span></a>
</span><span id="Widget-133"><a href="#Widget-133"><span class="linenos">133</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">styles</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">styles</span><span class="o">.</span><span class="n">branch</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="Widget-134"><a href="#Widget-134"><span class="linenos">134</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">chars</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">chars</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
</span><span id="Widget-135"><a href="#Widget-135"><span class="linenos">135</span></a>
</span><span id="Widget-136"><a href="#Widget-136"><span class="linenos">136</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="p">:</span> <span class="n">Widget</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Widget-137"><a href="#Widget-137"><span class="linenos">137</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">selected_index</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Widget-138"><a href="#Widget-138"><span class="linenos">138</span></a>
</span><span id="Widget-139"><a href="#Widget-139"><span class="linenos">139</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_selectables_length</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="Widget-140"><a href="#Widget-140"><span class="linenos">140</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Widget-141"><a href="#Widget-141"><span class="linenos">141</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_serialized_fields</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">serialized</span>
</span><span id="Widget-142"><a href="#Widget-142"><span class="linenos">142</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_bindings</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="n">Type</span><span class="p">[</span><span class="n">MouseEvent</span><span class="p">],</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">BoundCallback</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="Widget-143"><a href="#Widget-143"><span class="linenos">143</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_relative_width</span><span class="p">:</span> <span class="nb">float</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Widget-144"><a href="#Widget-144"><span class="linenos">144</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_previous_state</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">],</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Widget-145"><a href="#Widget-145"><span class="linenos">145</span></a>
</span><span id="Widget-146"><a href="#Widget-146"><span class="linenos">146</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">positioned_line_buffer</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">],</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Widget-147"><a href="#Widget-147"><span class="linenos">147</span></a>
</span><span id="Widget-148"><a href="#Widget-148"><span class="linenos">148</span></a>        <span class="k">for</span> <span class="n">attr</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">attrs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="Widget-149"><a href="#Widget-149"><span class="linenos">149</span></a>            <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">attr</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</span><span id="Widget-150"><a href="#Widget-150"><span class="linenos">150</span></a>
</span><span id="Widget-151"><a href="#Widget-151"><span class="linenos">151</span></a>    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="Widget-152"><a href="#Widget-152"><span class="linenos">152</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Return repr string of this widget.</span>
</span><span id="Widget-153"><a href="#Widget-153"><span class="linenos">153</span></a>
</span><span id="Widget-154"><a href="#Widget-154"><span class="linenos">154</span></a><span class="sd">        Returns:</span>
</span><span id="Widget-155"><a href="#Widget-155"><span class="linenos">155</span></a><span class="sd">            Whatever this widget&#39;s `debug` method gives.</span>
</span><span id="Widget-156"><a href="#Widget-156"><span class="linenos">156</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Widget-157"><a href="#Widget-157"><span class="linenos">157</span></a>
</span><span id="Widget-158"><a href="#Widget-158"><span class="linenos">158</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">()</span>
</span><span id="Widget-159"><a href="#Widget-159"><span class="linenos">159</span></a>
</span><span id="Widget-160"><a href="#Widget-160"><span class="linenos">160</span></a>    <span class="k">def</span> <span class="nf">__fancy_repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Generator</span><span class="p">[</span><span class="n">FancyYield</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
</span><span id="Widget-161"><a href="#Widget-161"><span class="linenos">161</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Yields the repr of this object, then a preview of it.&quot;&quot;&quot;</span>
</span><span id="Widget-162"><a href="#Widget-162"><span class="linenos">162</span></a>
</span><span id="Widget-163"><a href="#Widget-163"><span class="linenos">163</span></a>        <span class="k">yield</span> <span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">()</span>
</span><span id="Widget-164"><a href="#Widget-164"><span class="linenos">164</span></a>        <span class="k">yield</span> <span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">&quot;</span>
</span><span id="Widget-165"><a href="#Widget-165"><span class="linenos">165</span></a>        <span class="k">yield</span> <span class="p">{</span>
</span><span id="Widget-166"><a href="#Widget-166"><span class="linenos">166</span></a>            <span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">line</span> <span class="o">+</span> <span class="n">reset</span><span class="p">()</span> <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_lines</span><span class="p">())),</span>
</span><span id="Widget-167"><a href="#Widget-167"><span class="linenos">167</span></a>            <span class="s2">&quot;highlight&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="Widget-168"><a href="#Widget-168"><span class="linenos">168</span></a>        <span class="p">}</span>
</span><span id="Widget-169"><a href="#Widget-169"><span class="linenos">169</span></a>
</span><span id="Widget-170"><a href="#Widget-170"><span class="linenos">170</span></a>    <span class="k">def</span> <span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterator</span><span class="p">[</span><span class="n">Widget</span><span class="p">]:</span>
</span><span id="Widget-171"><a href="#Widget-171"><span class="linenos">171</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Return self for iteration&quot;&quot;&quot;</span>
</span><span id="Widget-172"><a href="#Widget-172"><span class="linenos">172</span></a>
</span><span id="Widget-173"><a href="#Widget-173"><span class="linenos">173</span></a>        <span class="k">yield</span> <span class="bp">self</span>
</span><span id="Widget-174"><a href="#Widget-174"><span class="linenos">174</span></a>
</span><span id="Widget-175"><a href="#Widget-175"><span class="linenos">175</span></a>    <span class="nd">@property</span>
</span><span id="Widget-176"><a href="#Widget-176"><span class="linenos">176</span></a>    <span class="k">def</span> <span class="nf">bindings</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="n">Type</span><span class="p">[</span><span class="n">MouseEvent</span><span class="p">],</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">BoundCallback</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]:</span>
</span><span id="Widget-177"><a href="#Widget-177"><span class="linenos">177</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets a copy of the bindings internal dictionary.</span>
</span><span id="Widget-178"><a href="#Widget-178"><span class="linenos">178</span></a>
</span><span id="Widget-179"><a href="#Widget-179"><span class="linenos">179</span></a><span class="sd">        Returns:</span>
</span><span id="Widget-180"><a href="#Widget-180"><span class="linenos">180</span></a><span class="sd">            A copy of the internal bindings dictionary, such as:</span>
</span><span id="Widget-181"><a href="#Widget-181"><span class="linenos">181</span></a>
</span><span id="Widget-182"><a href="#Widget-182"><span class="linenos">182</span></a><span class="sd">            ```</span>
</span><span id="Widget-183"><a href="#Widget-183"><span class="linenos">183</span></a><span class="sd">            {</span>
</span><span id="Widget-184"><a href="#Widget-184"><span class="linenos">184</span></a><span class="sd">                &quot;*&quot;: (star_callback, &quot;This is a callback activated when &#39;*&#39; is pressed.&quot;)</span>
</span><span id="Widget-185"><a href="#Widget-185"><span class="linenos">185</span></a><span class="sd">            }</span>
</span><span id="Widget-186"><a href="#Widget-186"><span class="linenos">186</span></a><span class="sd">            ```</span>
</span><span id="Widget-187"><a href="#Widget-187"><span class="linenos">187</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Widget-188"><a href="#Widget-188"><span class="linenos">188</span></a>
</span><span id="Widget-189"><a href="#Widget-189"><span class="linenos">189</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_bindings</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
</span><span id="Widget-190"><a href="#Widget-190"><span class="linenos">190</span></a>
</span><span id="Widget-191"><a href="#Widget-191"><span class="linenos">191</span></a>    <span class="nd">@property</span>
</span><span id="Widget-192"><a href="#Widget-192"><span class="linenos">192</span></a>    <span class="k">def</span> <span class="nf">id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>  <span class="c1"># pylint: disable=invalid-name</span>
</span><span id="Widget-193"><a href="#Widget-193"><span class="linenos">193</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets this widget&#39;s id property</span>
</span><span id="Widget-194"><a href="#Widget-194"><span class="linenos">194</span></a>
</span><span id="Widget-195"><a href="#Widget-195"><span class="linenos">195</span></a><span class="sd">        Returns:</span>
</span><span id="Widget-196"><a href="#Widget-196"><span class="linenos">196</span></a><span class="sd">            The id string if one is present, None otherwise.</span>
</span><span id="Widget-197"><a href="#Widget-197"><span class="linenos">197</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Widget-198"><a href="#Widget-198"><span class="linenos">198</span></a>
</span><span id="Widget-199"><a href="#Widget-199"><span class="linenos">199</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_id</span>
</span><span id="Widget-200"><a href="#Widget-200"><span class="linenos">200</span></a>
</span><span id="Widget-201"><a href="#Widget-201"><span class="linenos">201</span></a>    <span class="nd">@id</span><span class="o">.</span><span class="n">setter</span>
</span><span id="Widget-202"><a href="#Widget-202"><span class="linenos">202</span></a>    <span class="k">def</span> <span class="nf">id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>  <span class="c1"># pylint: disable=invalid-name</span>
</span><span id="Widget-203"><a href="#Widget-203"><span class="linenos">203</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Registers a widget to the Widget._id_manager.</span>
</span><span id="Widget-204"><a href="#Widget-204"><span class="linenos">204</span></a>
</span><span id="Widget-205"><a href="#Widget-205"><span class="linenos">205</span></a><span class="sd">        If this widget already had an id, the old value is deregistered</span>
</span><span id="Widget-206"><a href="#Widget-206"><span class="linenos">206</span></a><span class="sd">        before the new one is assigned.</span>
</span><span id="Widget-207"><a href="#Widget-207"><span class="linenos">207</span></a>
</span><span id="Widget-208"><a href="#Widget-208"><span class="linenos">208</span></a><span class="sd">        Args:</span>
</span><span id="Widget-209"><a href="#Widget-209"><span class="linenos">209</span></a><span class="sd">            value: The new id this widget will be registered as.</span>
</span><span id="Widget-210"><a href="#Widget-210"><span class="linenos">210</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Widget-211"><a href="#Widget-211"><span class="linenos">211</span></a>
</span><span id="Widget-212"><a href="#Widget-212"><span class="linenos">212</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_id</span> <span class="o">==</span> <span class="n">value</span><span class="p">:</span>
</span><span id="Widget-213"><a href="#Widget-213"><span class="linenos">213</span></a>            <span class="k">return</span>
</span><span id="Widget-214"><a href="#Widget-214"><span class="linenos">214</span></a>
</span><span id="Widget-215"><a href="#Widget-215"><span class="linenos">215</span></a>        <span class="n">manager</span> <span class="o">=</span> <span class="n">Widget</span><span class="o">.</span><span class="n">_id_manager</span>
</span><span id="Widget-216"><a href="#Widget-216"><span class="linenos">216</span></a>        <span class="k">assert</span> <span class="n">manager</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
</span><span id="Widget-217"><a href="#Widget-217"><span class="linenos">217</span></a>
</span><span id="Widget-218"><a href="#Widget-218"><span class="linenos">218</span></a>        <span class="n">old</span> <span class="o">=</span> <span class="n">manager</span><span class="o">.</span><span class="n">get_id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="Widget-219"><a href="#Widget-219"><span class="linenos">219</span></a>        <span class="k">if</span> <span class="n">old</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Widget-220"><a href="#Widget-220"><span class="linenos">220</span></a>            <span class="n">manager</span><span class="o">.</span><span class="n">deregister</span><span class="p">(</span><span class="n">old</span><span class="p">)</span>
</span><span id="Widget-221"><a href="#Widget-221"><span class="linenos">221</span></a>
</span><span id="Widget-222"><a href="#Widget-222"><span class="linenos">222</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_id</span> <span class="o">=</span> <span class="n">value</span>
</span><span id="Widget-223"><a href="#Widget-223"><span class="linenos">223</span></a>        <span class="n">manager</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="Widget-224"><a href="#Widget-224"><span class="linenos">224</span></a>
</span><span id="Widget-225"><a href="#Widget-225"><span class="linenos">225</span></a>    <span class="nd">@property</span>
</span><span id="Widget-226"><a href="#Widget-226"><span class="linenos">226</span></a>    <span class="k">def</span> <span class="nf">selectables_length</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="Widget-227"><a href="#Widget-227"><span class="linenos">227</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets how many selectables this widget contains.</span>
</span><span id="Widget-228"><a href="#Widget-228"><span class="linenos">228</span></a>
</span><span id="Widget-229"><a href="#Widget-229"><span class="linenos">229</span></a><span class="sd">        Returns:</span>
</span><span id="Widget-230"><a href="#Widget-230"><span class="linenos">230</span></a><span class="sd">            An integer describing the amount of selectables in this widget.</span>
</span><span id="Widget-231"><a href="#Widget-231"><span class="linenos">231</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Widget-232"><a href="#Widget-232"><span class="linenos">232</span></a>
</span><span id="Widget-233"><a href="#Widget-233"><span class="linenos">233</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_selectables_length</span>
</span><span id="Widget-234"><a href="#Widget-234"><span class="linenos">234</span></a>
</span><span id="Widget-235"><a href="#Widget-235"><span class="linenos">235</span></a>    <span class="nd">@property</span>
</span><span id="Widget-236"><a href="#Widget-236"><span class="linenos">236</span></a>    <span class="k">def</span> <span class="nf">selectables</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="n">Widget</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]:</span>
</span><span id="Widget-237"><a href="#Widget-237"><span class="linenos">237</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets a list of all selectables within this widget</span>
</span><span id="Widget-238"><a href="#Widget-238"><span class="linenos">238</span></a>
</span><span id="Widget-239"><a href="#Widget-239"><span class="linenos">239</span></a><span class="sd">        Returns:</span>
</span><span id="Widget-240"><a href="#Widget-240"><span class="linenos">240</span></a><span class="sd">            A list of tuples. In the default implementation this will be</span>
</span><span id="Widget-241"><a href="#Widget-241"><span class="linenos">241</span></a><span class="sd">            a list of one tuple, containing a reference to `self`, as well</span>
</span><span id="Widget-242"><a href="#Widget-242"><span class="linenos">242</span></a><span class="sd">            as the lowest index, 0.</span>
</span><span id="Widget-243"><a href="#Widget-243"><span class="linenos">243</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Widget-244"><a href="#Widget-244"><span class="linenos">244</span></a>
</span><span id="Widget-245"><a href="#Widget-245"><span class="linenos">245</span></a>        <span class="k">return</span> <span class="p">[(</span><span class="bp">self</span><span class="p">,</span> <span class="mi">0</span><span class="p">)]</span>
</span><span id="Widget-246"><a href="#Widget-246"><span class="linenos">246</span></a>
</span><span id="Widget-247"><a href="#Widget-247"><span class="linenos">247</span></a>    <span class="nd">@property</span>
</span><span id="Widget-248"><a href="#Widget-248"><span class="linenos">248</span></a>    <span class="k">def</span> <span class="nf">is_selectable</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="Widget-249"><a href="#Widget-249"><span class="linenos">249</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Determines whether this widget has any selectables.</span>
</span><span id="Widget-250"><a href="#Widget-250"><span class="linenos">250</span></a>
</span><span id="Widget-251"><a href="#Widget-251"><span class="linenos">251</span></a><span class="sd">        Returns:</span>
</span><span id="Widget-252"><a href="#Widget-252"><span class="linenos">252</span></a><span class="sd">            A boolean, representing `self.selectables_length != 0`.</span>
</span><span id="Widget-253"><a href="#Widget-253"><span class="linenos">253</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Widget-254"><a href="#Widget-254"><span class="linenos">254</span></a>
</span><span id="Widget-255"><a href="#Widget-255"><span class="linenos">255</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">selectables_length</span> <span class="o">!=</span> <span class="mi">0</span>
</span><span id="Widget-256"><a href="#Widget-256"><span class="linenos">256</span></a>
</span><span id="Widget-257"><a href="#Widget-257"><span class="linenos">257</span></a>    <span class="nd">@property</span>
</span><span id="Widget-258"><a href="#Widget-258"><span class="linenos">258</span></a>    <span class="k">def</span> <span class="nf">static_width</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="Widget-259"><a href="#Widget-259"><span class="linenos">259</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Allows for a shorter way of setting a width, and SizePolicy.STATIC.</span>
</span><span id="Widget-260"><a href="#Widget-260"><span class="linenos">260</span></a>
</span><span id="Widget-261"><a href="#Widget-261"><span class="linenos">261</span></a><span class="sd">        Args:</span>
</span><span id="Widget-262"><a href="#Widget-262"><span class="linenos">262</span></a><span class="sd">            value: The new width integer.</span>
</span><span id="Widget-263"><a href="#Widget-263"><span class="linenos">263</span></a>
</span><span id="Widget-264"><a href="#Widget-264"><span class="linenos">264</span></a><span class="sd">        Returns:</span>
</span><span id="Widget-265"><a href="#Widget-265"><span class="linenos">265</span></a><span class="sd">            None, as this is setter only.</span>
</span><span id="Widget-266"><a href="#Widget-266"><span class="linenos">266</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Widget-267"><a href="#Widget-267"><span class="linenos">267</span></a>
</span><span id="Widget-268"><a href="#Widget-268"><span class="linenos">268</span></a>        <span class="k">return</span> <span class="kc">None</span>  <span class="c1"># type: ignore</span>
</span><span id="Widget-269"><a href="#Widget-269"><span class="linenos">269</span></a>
</span><span id="Widget-270"><a href="#Widget-270"><span class="linenos">270</span></a>    <span class="nd">@static_width</span><span class="o">.</span><span class="n">setter</span>
</span><span id="Widget-271"><a href="#Widget-271"><span class="linenos">271</span></a>    <span class="k">def</span> <span class="nf">static_width</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Widget-272"><a href="#Widget-272"><span class="linenos">272</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;See the static_width getter.&quot;&quot;&quot;</span>
</span><span id="Widget-273"><a href="#Widget-273"><span class="linenos">273</span></a>
</span><span id="Widget-274"><a href="#Widget-274"><span class="linenos">274</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="n">value</span>
</span><span id="Widget-275"><a href="#Widget-275"><span class="linenos">275</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">size_policy</span> <span class="o">=</span> <span class="n">SizePolicy</span><span class="o">.</span><span class="n">STATIC</span>
</span><span id="Widget-276"><a href="#Widget-276"><span class="linenos">276</span></a>
</span><span id="Widget-277"><a href="#Widget-277"><span class="linenos">277</span></a>    <span class="nd">@property</span>
</span><span id="Widget-278"><a href="#Widget-278"><span class="linenos">278</span></a>    <span class="k">def</span> <span class="nf">relative_width</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Widget-279"><a href="#Widget-279"><span class="linenos">279</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Sets this widget&#39;s relative width, and changes size_policy to RELATIVE.</span>
</span><span id="Widget-280"><a href="#Widget-280"><span class="linenos">280</span></a>
</span><span id="Widget-281"><a href="#Widget-281"><span class="linenos">281</span></a><span class="sd">        The value is clamped to 1.0.</span>
</span><span id="Widget-282"><a href="#Widget-282"><span class="linenos">282</span></a>
</span><span id="Widget-283"><a href="#Widget-283"><span class="linenos">283</span></a><span class="sd">        If a Container holds a width of 30, and it has a subwidget with a relative</span>
</span><span id="Widget-284"><a href="#Widget-284"><span class="linenos">284</span></a><span class="sd">        width of 0.5, it will be resized to 15.</span>
</span><span id="Widget-285"><a href="#Widget-285"><span class="linenos">285</span></a>
</span><span id="Widget-286"><a href="#Widget-286"><span class="linenos">286</span></a><span class="sd">        Args:</span>
</span><span id="Widget-287"><a href="#Widget-287"><span class="linenos">287</span></a><span class="sd">            value: The multiplier to apply to the parent&#39;s width.</span>
</span><span id="Widget-288"><a href="#Widget-288"><span class="linenos">288</span></a>
</span><span id="Widget-289"><a href="#Widget-289"><span class="linenos">289</span></a><span class="sd">        Returns:</span>
</span><span id="Widget-290"><a href="#Widget-290"><span class="linenos">290</span></a><span class="sd">            The current relative_width.</span>
</span><span id="Widget-291"><a href="#Widget-291"><span class="linenos">291</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Widget-292"><a href="#Widget-292"><span class="linenos">292</span></a>
</span><span id="Widget-293"><a href="#Widget-293"><span class="linenos">293</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_relative_width</span>
</span><span id="Widget-294"><a href="#Widget-294"><span class="linenos">294</span></a>
</span><span id="Widget-295"><a href="#Widget-295"><span class="linenos">295</span></a>    <span class="nd">@relative_width</span><span class="o">.</span><span class="n">setter</span>
</span><span id="Widget-296"><a href="#Widget-296"><span class="linenos">296</span></a>    <span class="k">def</span> <span class="nf">relative_width</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Widget-297"><a href="#Widget-297"><span class="linenos">297</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;See the relative_width getter.&quot;&quot;&quot;</span>
</span><span id="Widget-298"><a href="#Widget-298"><span class="linenos">298</span></a>
</span><span id="Widget-299"><a href="#Widget-299"><span class="linenos">299</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">size_policy</span> <span class="o">=</span> <span class="n">SizePolicy</span><span class="o">.</span><span class="n">RELATIVE</span>
</span><span id="Widget-300"><a href="#Widget-300"><span class="linenos">300</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_relative_width</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</span><span id="Widget-301"><a href="#Widget-301"><span class="linenos">301</span></a>
</span><span id="Widget-302"><a href="#Widget-302"><span class="linenos">302</span></a>    <span class="nd">@property</span>
</span><span id="Widget-303"><a href="#Widget-303"><span class="linenos">303</span></a>    <span class="k">def</span> <span class="nf">terminal</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Terminal</span><span class="p">:</span>
</span><span id="Widget-304"><a href="#Widget-304"><span class="linenos">304</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns the current global terminal instance.&quot;&quot;&quot;</span>
</span><span id="Widget-305"><a href="#Widget-305"><span class="linenos">305</span></a>
</span><span id="Widget-306"><a href="#Widget-306"><span class="linenos">306</span></a>        <span class="k">return</span> <span class="n">get_terminal</span><span class="p">()</span>
</span><span id="Widget-307"><a href="#Widget-307"><span class="linenos">307</span></a>
</span><span id="Widget-308"><a href="#Widget-308"><span class="linenos">308</span></a>    <span class="k">def</span> <span class="nf">_align</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">lines</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
</span><span id="Widget-309"><a href="#Widget-309"><span class="linenos">309</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Aligns the given lines based on this widget&#39;s `parent_align` attribute.&quot;&quot;&quot;</span>
</span><span id="Widget-310"><a href="#Widget-310"><span class="linenos">310</span></a>
</span><span id="Widget-311"><a href="#Widget-311"><span class="linenos">311</span></a>        <span class="n">width</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span>
</span><span id="Widget-312"><a href="#Widget-312"><span class="linenos">312</span></a>
</span><span id="Widget-313"><a href="#Widget-313"><span class="linenos">313</span></a>        <span class="k">def</span> <span class="nf">_align_left</span><span class="p">(</span><span class="n">line</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="Widget-314"><a href="#Widget-314"><span class="linenos">314</span></a>            <span class="k">return</span> <span class="n">line</span> <span class="o">+</span> <span class="p">(</span><span class="n">width</span> <span class="o">-</span> <span class="n">real_length</span><span class="p">(</span><span class="n">line</span><span class="p">))</span> <span class="o">*</span> <span class="s2">&quot; &quot;</span>
</span><span id="Widget-315"><a href="#Widget-315"><span class="linenos">315</span></a>
</span><span id="Widget-316"><a href="#Widget-316"><span class="linenos">316</span></a>        <span class="k">def</span> <span class="nf">_align_center</span><span class="p">(</span><span class="n">line</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="Widget-317"><a href="#Widget-317"><span class="linenos">317</span></a>            <span class="n">right</span><span class="p">,</span> <span class="n">extra</span> <span class="o">=</span> <span class="nb">divmod</span><span class="p">(</span><span class="n">width</span> <span class="o">-</span> <span class="n">real_length</span><span class="p">(</span><span class="n">line</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
</span><span id="Widget-318"><a href="#Widget-318"><span class="linenos">318</span></a>            <span class="n">left</span> <span class="o">=</span> <span class="n">right</span> <span class="o">+</span> <span class="n">extra</span>
</span><span id="Widget-319"><a href="#Widget-319"><span class="linenos">319</span></a>
</span><span id="Widget-320"><a href="#Widget-320"><span class="linenos">320</span></a>            <span class="k">return</span> <span class="n">left</span> <span class="o">*</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="n">line</span> <span class="o">+</span> <span class="n">right</span> <span class="o">*</span> <span class="s2">&quot; &quot;</span>
</span><span id="Widget-321"><a href="#Widget-321"><span class="linenos">321</span></a>
</span><span id="Widget-322"><a href="#Widget-322"><span class="linenos">322</span></a>        <span class="k">def</span> <span class="nf">_align_right</span><span class="p">(</span><span class="n">line</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="Widget-323"><a href="#Widget-323"><span class="linenos">323</span></a>            <span class="k">return</span> <span class="p">(</span><span class="n">width</span> <span class="o">-</span> <span class="n">real_length</span><span class="p">(</span><span class="n">line</span><span class="p">))</span> <span class="o">*</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="n">line</span>
</span><span id="Widget-324"><a href="#Widget-324"><span class="linenos">324</span></a>
</span><span id="Widget-325"><a href="#Widget-325"><span class="linenos">325</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent_align</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Widget-326"><a href="#Widget-326"><span class="linenos">326</span></a>            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;Horizontal alignment cannot be None.&quot;</span><span class="p">)</span>
</span><span id="Widget-327"><a href="#Widget-327"><span class="linenos">327</span></a>
</span><span id="Widget-328"><a href="#Widget-328"><span class="linenos">328</span></a>        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">parent_align</span><span class="p">,</span> <span class="n">HorizontalAlignment</span><span class="p">)</span>
</span><span id="Widget-329"><a href="#Widget-329"><span class="linenos">329</span></a>
</span><span id="Widget-330"><a href="#Widget-330"><span class="linenos">330</span></a>        <span class="n">aligner</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="Widget-331"><a href="#Widget-331"><span class="linenos">331</span></a>            <span class="n">HorizontalAlignment</span><span class="o">.</span><span class="n">LEFT</span><span class="p">:</span> <span class="n">_align_left</span><span class="p">,</span>
</span><span id="Widget-332"><a href="#Widget-332"><span class="linenos">332</span></a>            <span class="n">HorizontalAlignment</span><span class="o">.</span><span class="n">CENTER</span><span class="p">:</span> <span class="n">_align_center</span><span class="p">,</span>
</span><span id="Widget-333"><a href="#Widget-333"><span class="linenos">333</span></a>            <span class="n">HorizontalAlignment</span><span class="o">.</span><span class="n">RIGHT</span><span class="p">:</span> <span class="n">_align_right</span><span class="p">,</span>
</span><span id="Widget-334"><a href="#Widget-334"><span class="linenos">334</span></a>        <span class="p">}[</span><span class="bp">self</span><span class="o">.</span><span class="n">parent_align</span><span class="p">]</span>
</span><span id="Widget-335"><a href="#Widget-335"><span class="linenos">335</span></a>
</span><span id="Widget-336"><a href="#Widget-336"><span class="linenos">336</span></a>        <span class="n">aligned</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Widget-337"><a href="#Widget-337"><span class="linenos">337</span></a>
</span><span id="Widget-338"><a href="#Widget-338"><span class="linenos">338</span></a>        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">:</span>
</span><span id="Widget-339"><a href="#Widget-339"><span class="linenos">339</span></a>            <span class="n">aligned</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">aligner</span><span class="p">(</span><span class="n">line</span><span class="p">))</span>
</span><span id="Widget-340"><a href="#Widget-340"><span class="linenos">340</span></a>
</span><span id="Widget-341"><a href="#Widget-341"><span class="linenos">341</span></a>        <span class="k">return</span> <span class="n">aligned</span>
</span><span id="Widget-342"><a href="#Widget-342"><span class="linenos">342</span></a>
</span><span id="Widget-343"><a href="#Widget-343"><span class="linenos">343</span></a>    <span class="k">def</span> <span class="nf">get_change</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WidgetChange</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Widget-344"><a href="#Widget-344"><span class="linenos">344</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Determines whether widget lines changed since the last call to this function.&quot;&quot;&quot;</span>
</span><span id="Widget-345"><a href="#Widget-345"><span class="linenos">345</span></a>
</span><span id="Widget-346"><a href="#Widget-346"><span class="linenos">346</span></a>        <span class="n">lines</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_lines</span><span class="p">()</span>
</span><span id="Widget-347"><a href="#Widget-347"><span class="linenos">347</span></a>
</span><span id="Widget-348"><a href="#Widget-348"><span class="linenos">348</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_previous_state</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Widget-349"><a href="#Widget-349"><span class="linenos">349</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_previous_state</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">),</span> <span class="n">lines</span>
</span><span id="Widget-350"><a href="#Widget-350"><span class="linenos">350</span></a>            <span class="k">return</span> <span class="n">WidgetChange</span><span class="o">.</span><span class="n">LINES</span>
</span><span id="Widget-351"><a href="#Widget-351"><span class="linenos">351</span></a>
</span><span id="Widget-352"><a href="#Widget-352"><span class="linenos">352</span></a>        <span class="n">lines</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_lines</span><span class="p">()</span>
</span><span id="Widget-353"><a href="#Widget-353"><span class="linenos">353</span></a>        <span class="p">(</span><span class="n">old_width</span><span class="p">,</span> <span class="n">old_height</span><span class="p">),</span> <span class="n">old_lines</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_previous_state</span>
</span><span id="Widget-354"><a href="#Widget-354"><span class="linenos">354</span></a>
</span><span id="Widget-355"><a href="#Widget-355"><span class="linenos">355</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_previous_state</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">),</span> <span class="n">lines</span>
</span><span id="Widget-356"><a href="#Widget-356"><span class="linenos">356</span></a>
</span><span id="Widget-357"><a href="#Widget-357"><span class="linenos">357</span></a>        <span class="k">if</span> <span class="n">old_width</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="ow">and</span> <span class="n">old_height</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">:</span>
</span><span id="Widget-358"><a href="#Widget-358"><span class="linenos">358</span></a>            <span class="k">return</span> <span class="n">WidgetChange</span><span class="o">.</span><span class="n">SIZE</span>
</span><span id="Widget-359"><a href="#Widget-359"><span class="linenos">359</span></a>
</span><span id="Widget-360"><a href="#Widget-360"><span class="linenos">360</span></a>        <span class="k">if</span> <span class="n">old_width</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">:</span>
</span><span id="Widget-361"><a href="#Widget-361"><span class="linenos">361</span></a>            <span class="k">return</span> <span class="n">WidgetChange</span><span class="o">.</span><span class="n">WIDTH</span>
</span><span id="Widget-362"><a href="#Widget-362"><span class="linenos">362</span></a>
</span><span id="Widget-363"><a href="#Widget-363"><span class="linenos">363</span></a>        <span class="k">if</span> <span class="n">old_height</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">:</span>
</span><span id="Widget-364"><a href="#Widget-364"><span class="linenos">364</span></a>            <span class="k">return</span> <span class="n">WidgetChange</span><span class="o">.</span><span class="n">HEIGHT</span>
</span><span id="Widget-365"><a href="#Widget-365"><span class="linenos">365</span></a>
</span><span id="Widget-366"><a href="#Widget-366"><span class="linenos">366</span></a>        <span class="k">if</span> <span class="n">old_lines</span> <span class="o">!=</span> <span class="n">lines</span><span class="p">:</span>
</span><span id="Widget-367"><a href="#Widget-367"><span class="linenos">367</span></a>            <span class="k">return</span> <span class="n">WidgetChange</span><span class="o">.</span><span class="n">LINES</span>
</span><span id="Widget-368"><a href="#Widget-368"><span class="linenos">368</span></a>
</span><span id="Widget-369"><a href="#Widget-369"><span class="linenos">369</span></a>        <span class="k">return</span> <span class="kc">None</span>
</span><span id="Widget-370"><a href="#Widget-370"><span class="linenos">370</span></a>
</span><span id="Widget-371"><a href="#Widget-371"><span class="linenos">371</span></a>    <span class="k">def</span> <span class="nf">contains</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pos</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="Widget-372"><a href="#Widget-372"><span class="linenos">372</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Determines whether widget contains `pos`.</span>
</span><span id="Widget-373"><a href="#Widget-373"><span class="linenos">373</span></a>
</span><span id="Widget-374"><a href="#Widget-374"><span class="linenos">374</span></a><span class="sd">        Args:</span>
</span><span id="Widget-375"><a href="#Widget-375"><span class="linenos">375</span></a><span class="sd">            pos: Position to compare.</span>
</span><span id="Widget-376"><a href="#Widget-376"><span class="linenos">376</span></a>
</span><span id="Widget-377"><a href="#Widget-377"><span class="linenos">377</span></a><span class="sd">        Returns:</span>
</span><span id="Widget-378"><a href="#Widget-378"><span class="linenos">378</span></a><span class="sd">            Boolean describing whether the position is inside</span>
</span><span id="Widget-379"><a href="#Widget-379"><span class="linenos">379</span></a><span class="sd">                this widget.</span>
</span><span id="Widget-380"><a href="#Widget-380"><span class="linenos">380</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Widget-381"><a href="#Widget-381"><span class="linenos">381</span></a>
</span><span id="Widget-382"><a href="#Widget-382"><span class="linenos">382</span></a>        <span class="n">rect</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pos</span><span class="p">,</span> <span class="p">(</span>
</span><span id="Widget-383"><a href="#Widget-383"><span class="linenos">383</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">,</span>
</span><span id="Widget-384"><a href="#Widget-384"><span class="linenos">384</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">,</span>
</span><span id="Widget-385"><a href="#Widget-385"><span class="linenos">385</span></a>        <span class="p">)</span>
</span><span id="Widget-386"><a href="#Widget-386"><span class="linenos">386</span></a>
</span><span id="Widget-387"><a href="#Widget-387"><span class="linenos">387</span></a>        <span class="p">(</span><span class="n">left</span><span class="p">,</span> <span class="n">top</span><span class="p">),</span> <span class="p">(</span><span class="n">right</span><span class="p">,</span> <span class="n">bottom</span><span class="p">)</span> <span class="o">=</span> <span class="n">rect</span>
</span><span id="Widget-388"><a href="#Widget-388"><span class="linenos">388</span></a>
</span><span id="Widget-389"><a href="#Widget-389"><span class="linenos">389</span></a>        <span class="k">return</span> <span class="n">left</span> <span class="o">&lt;=</span> <span class="n">pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">right</span> <span class="ow">and</span> <span class="n">top</span> <span class="o">&lt;=</span> <span class="n">pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">bottom</span>
</span><span id="Widget-390"><a href="#Widget-390"><span class="linenos">390</span></a>
</span><span id="Widget-391"><a href="#Widget-391"><span class="linenos">391</span></a>    <span class="k">def</span> <span class="nf">handle_mouse</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="n">MouseEvent</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="Widget-392"><a href="#Widget-392"><span class="linenos">392</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Tries to call the most specific mouse handler function available.</span>
</span><span id="Widget-393"><a href="#Widget-393"><span class="linenos">393</span></a>
</span><span id="Widget-394"><a href="#Widget-394"><span class="linenos">394</span></a><span class="sd">        This function looks for a set of mouse action handlers. Each handler follows</span>
</span><span id="Widget-395"><a href="#Widget-395"><span class="linenos">395</span></a><span class="sd">        the format</span>
</span><span id="Widget-396"><a href="#Widget-396"><span class="linenos">396</span></a>
</span><span id="Widget-397"><a href="#Widget-397"><span class="linenos">397</span></a><span class="sd">            on_{event_name}</span>
</span><span id="Widget-398"><a href="#Widget-398"><span class="linenos">398</span></a>
</span><span id="Widget-399"><a href="#Widget-399"><span class="linenos">399</span></a><span class="sd">        For example, the handler triggered on MouseAction.LEFT_CLICK would be</span>
</span><span id="Widget-400"><a href="#Widget-400"><span class="linenos">400</span></a><span class="sd">        `on_left_click`. If no handler is found nothing is done.</span>
</span><span id="Widget-401"><a href="#Widget-401"><span class="linenos">401</span></a>
</span><span id="Widget-402"><a href="#Widget-402"><span class="linenos">402</span></a><span class="sd">        You can also define more general handlers, for example to group left &amp; right</span>
</span><span id="Widget-403"><a href="#Widget-403"><span class="linenos">403</span></a><span class="sd">        clicks you can use `on_click`, and to catch both up and down scroll you can use</span>
</span><span id="Widget-404"><a href="#Widget-404"><span class="linenos">404</span></a><span class="sd">        `on_scroll`. General handlers are only used if they are the most specific ones,</span>
</span><span id="Widget-405"><a href="#Widget-405"><span class="linenos">405</span></a><span class="sd">        i.e. there is no &quot;specific&quot; handler.</span>
</span><span id="Widget-406"><a href="#Widget-406"><span class="linenos">406</span></a>
</span><span id="Widget-407"><a href="#Widget-407"><span class="linenos">407</span></a><span class="sd">        Args:</span>
</span><span id="Widget-408"><a href="#Widget-408"><span class="linenos">408</span></a><span class="sd">            event: The event to handle.</span>
</span><span id="Widget-409"><a href="#Widget-409"><span class="linenos">409</span></a>
</span><span id="Widget-410"><a href="#Widget-410"><span class="linenos">410</span></a><span class="sd">        Returns:</span>
</span><span id="Widget-411"><a href="#Widget-411"><span class="linenos">411</span></a><span class="sd">            Whether the parent of this widget should treat it as one to &quot;stick&quot; events</span>
</span><span id="Widget-412"><a href="#Widget-412"><span class="linenos">412</span></a><span class="sd">            to, e.g. to keep sending mouse events to it. One can &quot;unstick&quot; a widget by</span>
</span><span id="Widget-413"><a href="#Widget-413"><span class="linenos">413</span></a><span class="sd">            returning False in the handler.</span>
</span><span id="Widget-414"><a href="#Widget-414"><span class="linenos">414</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Widget-415"><a href="#Widget-415"><span class="linenos">415</span></a>
</span><span id="Widget-416"><a href="#Widget-416"><span class="linenos">416</span></a>        <span class="k">def</span> <span class="nf">_get_names</span><span class="p">(</span><span class="n">action</span><span class="p">:</span> <span class="n">MouseAction</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="o">...</span><span class="p">]:</span>
</span><span id="Widget-417"><a href="#Widget-417"><span class="linenos">417</span></a>            <span class="k">if</span> <span class="n">action</span><span class="o">.</span><span class="n">value</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;hover&quot;</span><span class="p">,</span> <span class="s2">&quot;release&quot;</span><span class="p">]:</span>
</span><span id="Widget-418"><a href="#Widget-418"><span class="linenos">418</span></a>                <span class="k">return</span> <span class="p">(</span><span class="n">action</span><span class="o">.</span><span class="n">value</span><span class="p">,)</span>
</span><span id="Widget-419"><a href="#Widget-419"><span class="linenos">419</span></a>
</span><span id="Widget-420"><a href="#Widget-420"><span class="linenos">420</span></a>            <span class="n">parts</span> <span class="o">=</span> <span class="n">action</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;_&quot;</span><span class="p">)</span>
</span><span id="Widget-421"><a href="#Widget-421"><span class="linenos">421</span></a>
</span><span id="Widget-422"><a href="#Widget-422"><span class="linenos">422</span></a>            <span class="c1"># left click &amp; right click</span>
</span><span id="Widget-423"><a href="#Widget-423"><span class="linenos">423</span></a>            <span class="k">if</span> <span class="n">parts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;left&quot;</span><span class="p">,</span> <span class="s2">&quot;right&quot;</span><span class="p">]:</span>
</span><span id="Widget-424"><a href="#Widget-424"><span class="linenos">424</span></a>                <span class="k">return</span> <span class="p">(</span><span class="n">action</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">parts</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</span><span id="Widget-425"><a href="#Widget-425"><span class="linenos">425</span></a>
</span><span id="Widget-426"><a href="#Widget-426"><span class="linenos">426</span></a>            <span class="k">if</span> <span class="n">parts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;shift&quot;</span><span class="p">:</span>
</span><span id="Widget-427"><a href="#Widget-427"><span class="linenos">427</span></a>                <span class="k">return</span> <span class="p">(</span><span class="n">action</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;shift_</span><span class="si">{</span><span class="n">parts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">parts</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</span><span id="Widget-428"><a href="#Widget-428"><span class="linenos">428</span></a>
</span><span id="Widget-429"><a href="#Widget-429"><span class="linenos">429</span></a>            <span class="c1"># scroll up &amp; down</span>
</span><span id="Widget-430"><a href="#Widget-430"><span class="linenos">430</span></a>            <span class="k">return</span> <span class="p">(</span><span class="n">action</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">parts</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</span><span id="Widget-431"><a href="#Widget-431"><span class="linenos">431</span></a>
</span><span id="Widget-432"><a href="#Widget-432"><span class="linenos">432</span></a>        <span class="n">possible_names</span> <span class="o">=</span> <span class="n">_get_names</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">action</span><span class="p">)</span>
</span><span id="Widget-433"><a href="#Widget-433"><span class="linenos">433</span></a>        <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">possible_names</span><span class="p">:</span>
</span><span id="Widget-434"><a href="#Widget-434"><span class="linenos">434</span></a>            <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;on_</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">):</span>
</span><span id="Widget-435"><a href="#Widget-435"><span class="linenos">435</span></a>                <span class="n">handle</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;on_</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="Widget-436"><a href="#Widget-436"><span class="linenos">436</span></a>
</span><span id="Widget-437"><a href="#Widget-437"><span class="linenos">437</span></a>                <span class="k">return</span> <span class="n">handle</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
</span><span id="Widget-438"><a href="#Widget-438"><span class="linenos">438</span></a>
</span><span id="Widget-439"><a href="#Widget-439"><span class="linenos">439</span></a>        <span class="k">return</span> <span class="kc">False</span>
</span><span id="Widget-440"><a href="#Widget-440"><span class="linenos">440</span></a>
</span><span id="Widget-441"><a href="#Widget-441"><span class="linenos">441</span></a>    <span class="k">def</span> <span class="nf">handle_key</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="Widget-442"><a href="#Widget-442"><span class="linenos">442</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Handles a mouse event, returning its success.</span>
</span><span id="Widget-443"><a href="#Widget-443"><span class="linenos">443</span></a>
</span><span id="Widget-444"><a href="#Widget-444"><span class="linenos">444</span></a><span class="sd">        Args:</span>
</span><span id="Widget-445"><a href="#Widget-445"><span class="linenos">445</span></a><span class="sd">            key: String representation of input string.</span>
</span><span id="Widget-446"><a href="#Widget-446"><span class="linenos">446</span></a><span class="sd">                The `pytermgui.input.keys` object can be</span>
</span><span id="Widget-447"><a href="#Widget-447"><span class="linenos">447</span></a><span class="sd">                used to retrieve special keys.</span>
</span><span id="Widget-448"><a href="#Widget-448"><span class="linenos">448</span></a>
</span><span id="Widget-449"><a href="#Widget-449"><span class="linenos">449</span></a><span class="sd">        Returns:</span>
</span><span id="Widget-450"><a href="#Widget-450"><span class="linenos">450</span></a><span class="sd">            A boolean describing whether the key was handled.</span>
</span><span id="Widget-451"><a href="#Widget-451"><span class="linenos">451</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Widget-452"><a href="#Widget-452"><span class="linenos">452</span></a>
</span><span id="Widget-453"><a href="#Widget-453"><span class="linenos">453</span></a>        <span class="k">return</span> <span class="kc">False</span> <span class="ow">and</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span>
</span><span id="Widget-454"><a href="#Widget-454"><span class="linenos">454</span></a>
</span><span id="Widget-455"><a href="#Widget-455"><span class="linenos">455</span></a>    <span class="k">def</span> <span class="nf">serialize</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
</span><span id="Widget-456"><a href="#Widget-456"><span class="linenos">456</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Serializes a widget.</span>
</span><span id="Widget-457"><a href="#Widget-457"><span class="linenos">457</span></a>
</span><span id="Widget-458"><a href="#Widget-458"><span class="linenos">458</span></a><span class="sd">        The fields looked at are defined `Widget.serialized`. Note that</span>
</span><span id="Widget-459"><a href="#Widget-459"><span class="linenos">459</span></a><span class="sd">        this method is not very commonly used at the moment, so it might</span>
</span><span id="Widget-460"><a href="#Widget-460"><span class="linenos">460</span></a><span class="sd">        not have full functionality in non-nuclear widgets.</span>
</span><span id="Widget-461"><a href="#Widget-461"><span class="linenos">461</span></a>
</span><span id="Widget-462"><a href="#Widget-462"><span class="linenos">462</span></a><span class="sd">        Returns:</span>
</span><span id="Widget-463"><a href="#Widget-463"><span class="linenos">463</span></a><span class="sd">            Dictionary of widget attributes. The dictionary will always</span>
</span><span id="Widget-464"><a href="#Widget-464"><span class="linenos">464</span></a><span class="sd">            have a `type` field. Any styles are converted into markup</span>
</span><span id="Widget-465"><a href="#Widget-465"><span class="linenos">465</span></a><span class="sd">            strings during serialization, so they can be loaded again in</span>
</span><span id="Widget-466"><a href="#Widget-466"><span class="linenos">466</span></a><span class="sd">            their original form.</span>
</span><span id="Widget-467"><a href="#Widget-467"><span class="linenos">467</span></a>
</span><span id="Widget-468"><a href="#Widget-468"><span class="linenos">468</span></a><span class="sd">            Example return:</span>
</span><span id="Widget-469"><a href="#Widget-469"><span class="linenos">469</span></a><span class="sd">            ```</span>
</span><span id="Widget-470"><a href="#Widget-470"><span class="linenos">470</span></a><span class="sd">                {</span>
</span><span id="Widget-471"><a href="#Widget-471"><span class="linenos">471</span></a><span class="sd">                    &quot;type&quot;: &quot;Label&quot;,</span>
</span><span id="Widget-472"><a href="#Widget-472"><span class="linenos">472</span></a><span class="sd">                    &quot;value&quot;: &quot;[210 bold]I am a title&quot;,</span>
</span><span id="Widget-473"><a href="#Widget-473"><span class="linenos">473</span></a><span class="sd">                    &quot;parent_align&quot;: 0,</span>
</span><span id="Widget-474"><a href="#Widget-474"><span class="linenos">474</span></a><span class="sd">                    ...</span>
</span><span id="Widget-475"><a href="#Widget-475"><span class="linenos">475</span></a><span class="sd">                }</span>
</span><span id="Widget-476"><a href="#Widget-476"><span class="linenos">476</span></a><span class="sd">            ```</span>
</span><span id="Widget-477"><a href="#Widget-477"><span class="linenos">477</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Widget-478"><a href="#Widget-478"><span class="linenos">478</span></a>
</span><span id="Widget-479"><a href="#Widget-479"><span class="linenos">479</span></a>        <span class="n">fields</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_serialized_fields</span>
</span><span id="Widget-480"><a href="#Widget-480"><span class="linenos">480</span></a>
</span><span id="Widget-481"><a href="#Widget-481"><span class="linenos">481</span></a>        <span class="n">out</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="p">}</span>
</span><span id="Widget-482"><a href="#Widget-482"><span class="linenos">482</span></a>        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">fields</span><span class="p">:</span>
</span><span id="Widget-483"><a href="#Widget-483"><span class="linenos">483</span></a>            <span class="c1"># Detect styled values</span>
</span><span id="Widget-484"><a href="#Widget-484"><span class="linenos">484</span></a>            <span class="k">if</span> <span class="n">key</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;*&quot;</span><span class="p">):</span>
</span><span id="Widget-485"><a href="#Widget-485"><span class="linenos">485</span></a>                <span class="n">style</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="Widget-486"><a href="#Widget-486"><span class="linenos">486</span></a>                <span class="n">key</span> <span class="o">=</span> <span class="n">key</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
</span><span id="Widget-487"><a href="#Widget-487"><span class="linenos">487</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="Widget-488"><a href="#Widget-488"><span class="linenos">488</span></a>                <span class="n">style</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="Widget-489"><a href="#Widget-489"><span class="linenos">489</span></a>
</span><span id="Widget-490"><a href="#Widget-490"><span class="linenos">490</span></a>            <span class="n">value</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span>
</span><span id="Widget-491"><a href="#Widget-491"><span class="linenos">491</span></a>
</span><span id="Widget-492"><a href="#Widget-492"><span class="linenos">492</span></a>            <span class="c1"># Convert styled value into markup</span>
</span><span id="Widget-493"><a href="#Widget-493"><span class="linenos">493</span></a>            <span class="k">if</span> <span class="n">style</span><span class="p">:</span>
</span><span id="Widget-494"><a href="#Widget-494"><span class="linenos">494</span></a>                <span class="n">style_call</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_style</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
</span><span id="Widget-495"><a href="#Widget-495"><span class="linenos">495</span></a>                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
</span><span id="Widget-496"><a href="#Widget-496"><span class="linenos">496</span></a>                    <span class="n">out</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">get_markup</span><span class="p">(</span><span class="n">style_call</span><span class="p">(</span><span class="n">char</span><span class="p">))</span> <span class="k">for</span> <span class="n">char</span> <span class="ow">in</span> <span class="n">value</span><span class="p">]</span>
</span><span id="Widget-497"><a href="#Widget-497"><span class="linenos">497</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="Widget-498"><a href="#Widget-498"><span class="linenos">498</span></a>                    <span class="n">out</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">get_markup</span><span class="p">(</span><span class="n">style_call</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>
</span><span id="Widget-499"><a href="#Widget-499"><span class="linenos">499</span></a>
</span><span id="Widget-500"><a href="#Widget-500"><span class="linenos">500</span></a>                <span class="k">continue</span>
</span><span id="Widget-501"><a href="#Widget-501"><span class="linenos">501</span></a>
</span><span id="Widget-502"><a href="#Widget-502"><span class="linenos">502</span></a>            <span class="n">out</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
</span><span id="Widget-503"><a href="#Widget-503"><span class="linenos">503</span></a>
</span><span id="Widget-504"><a href="#Widget-504"><span class="linenos">504</span></a>        <span class="c1"># The chars need to be handled separately</span>
</span><span id="Widget-505"><a href="#Widget-505"><span class="linenos">505</span></a>        <span class="n">out</span><span class="p">[</span><span class="s2">&quot;chars&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="Widget-506"><a href="#Widget-506"><span class="linenos">506</span></a>        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">chars</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="Widget-507"><a href="#Widget-507"><span class="linenos">507</span></a>            <span class="n">style_call</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_style</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
</span><span id="Widget-508"><a href="#Widget-508"><span class="linenos">508</span></a>
</span><span id="Widget-509"><a href="#Widget-509"><span class="linenos">509</span></a>            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
</span><span id="Widget-510"><a href="#Widget-510"><span class="linenos">510</span></a>                <span class="n">out</span><span class="p">[</span><span class="s2">&quot;chars&quot;</span><span class="p">][</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">get_markup</span><span class="p">(</span><span class="n">style_call</span><span class="p">(</span><span class="n">char</span><span class="p">))</span> <span class="k">for</span> <span class="n">char</span> <span class="ow">in</span> <span class="n">value</span><span class="p">]</span>
</span><span id="Widget-511"><a href="#Widget-511"><span class="linenos">511</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="Widget-512"><a href="#Widget-512"><span class="linenos">512</span></a>                <span class="n">out</span><span class="p">[</span><span class="s2">&quot;chars&quot;</span><span class="p">][</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">get_markup</span><span class="p">(</span><span class="n">style_call</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>
</span><span id="Widget-513"><a href="#Widget-513"><span class="linenos">513</span></a>
</span><span id="Widget-514"><a href="#Widget-514"><span class="linenos">514</span></a>        <span class="k">return</span> <span class="n">out</span>
</span><span id="Widget-515"><a href="#Widget-515"><span class="linenos">515</span></a>
</span><span id="Widget-516"><a href="#Widget-516"><span class="linenos">516</span></a>    <span class="k">def</span> <span class="nf">copy</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Widget</span><span class="p">:</span>
</span><span id="Widget-517"><a href="#Widget-517"><span class="linenos">517</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a deep copy of this widget&quot;&quot;&quot;</span>
</span><span id="Widget-518"><a href="#Widget-518"><span class="linenos">518</span></a>
</span><span id="Widget-519"><a href="#Widget-519"><span class="linenos">519</span></a>        <span class="k">return</span> <span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="Widget-520"><a href="#Widget-520"><span class="linenos">520</span></a>
</span><span id="Widget-521"><a href="#Widget-521"><span class="linenos">521</span></a>    <span class="k">def</span> <span class="nf">_get_style</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">w_styles</span><span class="o">.</span><span class="n">DepthlessStyleType</span><span class="p">:</span>
</span><span id="Widget-522"><a href="#Widget-522"><span class="linenos">522</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets style call from its key.</span>
</span><span id="Widget-523"><a href="#Widget-523"><span class="linenos">523</span></a>
</span><span id="Widget-524"><a href="#Widget-524"><span class="linenos">524</span></a><span class="sd">        This is analogous to using `self.styles.{key}`</span>
</span><span id="Widget-525"><a href="#Widget-525"><span class="linenos">525</span></a>
</span><span id="Widget-526"><a href="#Widget-526"><span class="linenos">526</span></a><span class="sd">        Args:</span>
</span><span id="Widget-527"><a href="#Widget-527"><span class="linenos">527</span></a><span class="sd">            key: A key into the widget&#39;s style manager.</span>
</span><span id="Widget-528"><a href="#Widget-528"><span class="linenos">528</span></a>
</span><span id="Widget-529"><a href="#Widget-529"><span class="linenos">529</span></a><span class="sd">        Returns:</span>
</span><span id="Widget-530"><a href="#Widget-530"><span class="linenos">530</span></a><span class="sd">            A `pytermgui.styles.StyleCall` object containing the referenced</span>
</span><span id="Widget-531"><a href="#Widget-531"><span class="linenos">531</span></a><span class="sd">            style. StyleCall objects should only be used internally inside a</span>
</span><span id="Widget-532"><a href="#Widget-532"><span class="linenos">532</span></a><span class="sd">            widget.</span>
</span><span id="Widget-533"><a href="#Widget-533"><span class="linenos">533</span></a>
</span><span id="Widget-534"><a href="#Widget-534"><span class="linenos">534</span></a><span class="sd">        Raises:</span>
</span><span id="Widget-535"><a href="#Widget-535"><span class="linenos">535</span></a><span class="sd">            KeyError: Style key is invalid.</span>
</span><span id="Widget-536"><a href="#Widget-536"><span class="linenos">536</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Widget-537"><a href="#Widget-537"><span class="linenos">537</span></a>
</span><span id="Widget-538"><a href="#Widget-538"><span class="linenos">538</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">styles</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
</span><span id="Widget-539"><a href="#Widget-539"><span class="linenos">539</span></a>
</span><span id="Widget-540"><a href="#Widget-540"><span class="linenos">540</span></a>    <span class="k">def</span> <span class="nf">_get_char</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">w_styles</span><span class="o">.</span><span class="n">CharType</span><span class="p">:</span>
</span><span id="Widget-541"><a href="#Widget-541"><span class="linenos">541</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets character from its key.</span>
</span><span id="Widget-542"><a href="#Widget-542"><span class="linenos">542</span></a>
</span><span id="Widget-543"><a href="#Widget-543"><span class="linenos">543</span></a><span class="sd">        Args:</span>
</span><span id="Widget-544"><a href="#Widget-544"><span class="linenos">544</span></a><span class="sd">            key: A key into the widget&#39;s chars dictionary.</span>
</span><span id="Widget-545"><a href="#Widget-545"><span class="linenos">545</span></a>
</span><span id="Widget-546"><a href="#Widget-546"><span class="linenos">546</span></a><span class="sd">        Returns:</span>
</span><span id="Widget-547"><a href="#Widget-547"><span class="linenos">547</span></a><span class="sd">            Either a `list[str]` or a simple `str`, depending on the character.</span>
</span><span id="Widget-548"><a href="#Widget-548"><span class="linenos">548</span></a>
</span><span id="Widget-549"><a href="#Widget-549"><span class="linenos">549</span></a><span class="sd">        Raises:</span>
</span><span id="Widget-550"><a href="#Widget-550"><span class="linenos">550</span></a><span class="sd">            KeyError: Style key is invalid.</span>
</span><span id="Widget-551"><a href="#Widget-551"><span class="linenos">551</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Widget-552"><a href="#Widget-552"><span class="linenos">552</span></a>
</span><span id="Widget-553"><a href="#Widget-553"><span class="linenos">553</span></a>        <span class="n">chars</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">chars</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
</span><span id="Widget-554"><a href="#Widget-554"><span class="linenos">554</span></a>
</span><span id="Widget-555"><a href="#Widget-555"><span class="linenos">555</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">chars</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="Widget-556"><a href="#Widget-556"><span class="linenos">556</span></a>            <span class="k">if</span> <span class="n">chars</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;u:&quot;</span><span class="p">):</span>
</span><span id="Widget-557"><a href="#Widget-557"><span class="linenos">557</span></a>                <span class="n">identifier</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">chars</span><span class="p">[</span><span class="mi">2</span><span class="p">:]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;_&quot;</span><span class="p">))</span>
</span><span id="Widget-558"><a href="#Widget-558"><span class="linenos">558</span></a>                <span class="n">chars</span> <span class="o">=</span> <span class="n">u_lookup</span><span class="p">(</span><span class="n">identifier</span><span class="p">)</span>
</span><span id="Widget-559"><a href="#Widget-559"><span class="linenos">559</span></a>
</span><span id="Widget-560"><a href="#Widget-560"><span class="linenos">560</span></a>            <span class="k">return</span> <span class="n">chars</span>
</span><span id="Widget-561"><a href="#Widget-561"><span class="linenos">561</span></a>
</span><span id="Widget-562"><a href="#Widget-562"><span class="linenos">562</span></a>        <span class="k">return</span> <span class="n">chars</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
</span><span id="Widget-563"><a href="#Widget-563"><span class="linenos">563</span></a>
</span><span id="Widget-564"><a href="#Widget-564"><span class="linenos">564</span></a>    <span class="k">def</span> <span class="nf">get_lines</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
</span><span id="Widget-565"><a href="#Widget-565"><span class="linenos">565</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets lines representing this widget.</span>
</span><span id="Widget-566"><a href="#Widget-566"><span class="linenos">566</span></a>
</span><span id="Widget-567"><a href="#Widget-567"><span class="linenos">567</span></a><span class="sd">        These lines have to be equal to the widget in length. All</span>
</span><span id="Widget-568"><a href="#Widget-568"><span class="linenos">568</span></a><span class="sd">        widgets must provide this method. Make sure to keep it performant,</span>
</span><span id="Widget-569"><a href="#Widget-569"><span class="linenos">569</span></a><span class="sd">        as it will be called very often, often multiple times per WindowManager frame.</span>
</span><span id="Widget-570"><a href="#Widget-570"><span class="linenos">570</span></a>
</span><span id="Widget-571"><a href="#Widget-571"><span class="linenos">571</span></a><span class="sd">        Any longer actions should be done outside of this method, and only their</span>
</span><span id="Widget-572"><a href="#Widget-572"><span class="linenos">572</span></a><span class="sd">        result should be looked up here.</span>
</span><span id="Widget-573"><a href="#Widget-573"><span class="linenos">573</span></a>
</span><span id="Widget-574"><a href="#Widget-574"><span class="linenos">574</span></a><span class="sd">        Returns:</span>
</span><span id="Widget-575"><a href="#Widget-575"><span class="linenos">575</span></a><span class="sd">            Nothing by default.</span>
</span><span id="Widget-576"><a href="#Widget-576"><span class="linenos">576</span></a>
</span><span id="Widget-577"><a href="#Widget-577"><span class="linenos">577</span></a><span class="sd">        Raises:</span>
</span><span id="Widget-578"><a href="#Widget-578"><span class="linenos">578</span></a><span class="sd">            NotImplementedError: As this method is required for **all** widgets, not</span>
</span><span id="Widget-579"><a href="#Widget-579"><span class="linenos">579</span></a><span class="sd">                having it defined will raise NotImplementedError.</span>
</span><span id="Widget-580"><a href="#Widget-580"><span class="linenos">580</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Widget-581"><a href="#Widget-581"><span class="linenos">581</span></a>
</span><span id="Widget-582"><a href="#Widget-582"><span class="linenos">582</span></a>        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;get_lines() is not defined for type </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
</span><span id="Widget-583"><a href="#Widget-583"><span class="linenos">583</span></a>
</span><span id="Widget-584"><a href="#Widget-584"><span class="linenos">584</span></a>    <span class="k">def</span> <span class="nf">move</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">diff_x</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">diff_y</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Widget-585"><a href="#Widget-585"><span class="linenos">585</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Moves the widget by the given x and y changes.&quot;&quot;&quot;</span>
</span><span id="Widget-586"><a href="#Widget-586"><span class="linenos">586</span></a>
</span><span id="Widget-587"><a href="#Widget-587"><span class="linenos">587</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">pos</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">diff_x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">diff_y</span><span class="p">)</span>
</span><span id="Widget-588"><a href="#Widget-588"><span class="linenos">588</span></a>
</span><span id="Widget-589"><a href="#Widget-589"><span class="linenos">589</span></a>        <span class="n">adjusted</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Widget-590"><a href="#Widget-590"><span class="linenos">590</span></a>        <span class="k">for</span> <span class="n">pos</span><span class="p">,</span> <span class="n">line</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">positioned_line_buffer</span><span class="p">:</span>
</span><span id="Widget-591"><a href="#Widget-591"><span class="linenos">591</span></a>            <span class="n">adjusted</span><span class="o">.</span><span class="n">append</span><span class="p">(((</span><span class="n">pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">diff_x</span><span class="p">,</span> <span class="n">pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">diff_y</span><span class="p">),</span> <span class="n">line</span><span class="p">))</span>
</span><span id="Widget-592"><a href="#Widget-592"><span class="linenos">592</span></a>
</span><span id="Widget-593"><a href="#Widget-593"><span class="linenos">593</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">positioned_line_buffer</span> <span class="o">=</span> <span class="n">adjusted</span>
</span><span id="Widget-594"><a href="#Widget-594"><span class="linenos">594</span></a>
</span><span id="Widget-595"><a href="#Widget-595"><span class="linenos">595</span></a>    <span class="k">def</span> <span class="nf">bind</span><span class="p">(</span>
</span><span id="Widget-596"><a href="#Widget-596"><span class="linenos">596</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">action</span><span class="p">:</span> <span class="n">BoundCallback</span><span class="p">,</span> <span class="n">description</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Widget-597"><a href="#Widget-597"><span class="linenos">597</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Widget-598"><a href="#Widget-598"><span class="linenos">598</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Binds an action to a keypress.</span>
</span><span id="Widget-599"><a href="#Widget-599"><span class="linenos">599</span></a>
</span><span id="Widget-600"><a href="#Widget-600"><span class="linenos">600</span></a><span class="sd">        This function is only called by implementations above this layer. To use this</span>
</span><span id="Widget-601"><a href="#Widget-601"><span class="linenos">601</span></a><span class="sd">        functionality use `pytermgui.window_manager.WindowManager`, or write your own</span>
</span><span id="Widget-602"><a href="#Widget-602"><span class="linenos">602</span></a><span class="sd">        custom layer.</span>
</span><span id="Widget-603"><a href="#Widget-603"><span class="linenos">603</span></a>
</span><span id="Widget-604"><a href="#Widget-604"><span class="linenos">604</span></a><span class="sd">        Special keys:</span>
</span><span id="Widget-605"><a href="#Widget-605"><span class="linenos">605</span></a><span class="sd">        - keys.ANY_KEY: Any and all keypresses execute this binding.</span>
</span><span id="Widget-606"><a href="#Widget-606"><span class="linenos">606</span></a><span class="sd">        - keys.MouseAction: Any and all mouse inputs execute this binding.</span>
</span><span id="Widget-607"><a href="#Widget-607"><span class="linenos">607</span></a>
</span><span id="Widget-608"><a href="#Widget-608"><span class="linenos">608</span></a><span class="sd">        Args:</span>
</span><span id="Widget-609"><a href="#Widget-609"><span class="linenos">609</span></a><span class="sd">            key: The key that the action will be bound to.</span>
</span><span id="Widget-610"><a href="#Widget-610"><span class="linenos">610</span></a><span class="sd">            action: The action executed when the key is pressed.</span>
</span><span id="Widget-611"><a href="#Widget-611"><span class="linenos">611</span></a><span class="sd">            description: An optional description for this binding. It is not really</span>
</span><span id="Widget-612"><a href="#Widget-612"><span class="linenos">612</span></a><span class="sd">                used anywhere, but you can provide a helper menu and display them.</span>
</span><span id="Widget-613"><a href="#Widget-613"><span class="linenos">613</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Widget-614"><a href="#Widget-614"><span class="linenos">614</span></a>
</span><span id="Widget-615"><a href="#Widget-615"><span class="linenos">615</span></a>        <span class="k">if</span> <span class="n">description</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Widget-616"><a href="#Widget-616"><span class="linenos">616</span></a>            <span class="n">description</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Binding of </span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2"> to </span><span class="si">{</span><span class="n">action</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="Widget-617"><a href="#Widget-617"><span class="linenos">617</span></a>
</span><span id="Widget-618"><a href="#Widget-618"><span class="linenos">618</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_bindings</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">action</span><span class="p">,</span> <span class="n">description</span><span class="p">)</span>
</span><span id="Widget-619"><a href="#Widget-619"><span class="linenos">619</span></a>
</span><span id="Widget-620"><a href="#Widget-620"><span class="linenos">620</span></a>    <span class="k">def</span> <span class="nf">unbind</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Widget-621"><a href="#Widget-621"><span class="linenos">621</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Unbinds the given key.&quot;&quot;&quot;</span>
</span><span id="Widget-622"><a href="#Widget-622"><span class="linenos">622</span></a>
</span><span id="Widget-623"><a href="#Widget-623"><span class="linenos">623</span></a>        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">_bindings</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
</span><span id="Widget-624"><a href="#Widget-624"><span class="linenos">624</span></a>
</span><span id="Widget-625"><a href="#Widget-625"><span class="linenos">625</span></a>    <span class="k">def</span> <span class="nf">execute_binding</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">ignore_any</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="Widget-626"><a href="#Widget-626"><span class="linenos">626</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Executes a binding belonging to key, when present.</span>
</span><span id="Widget-627"><a href="#Widget-627"><span class="linenos">627</span></a>
</span><span id="Widget-628"><a href="#Widget-628"><span class="linenos">628</span></a><span class="sd">        Use this method inside custom widget `handle_keys` methods, or to run a callback</span>
</span><span id="Widget-629"><a href="#Widget-629"><span class="linenos">629</span></a><span class="sd">        without its corresponding key having been pressed.</span>
</span><span id="Widget-630"><a href="#Widget-630"><span class="linenos">630</span></a>
</span><span id="Widget-631"><a href="#Widget-631"><span class="linenos">631</span></a><span class="sd">        Args:</span>
</span><span id="Widget-632"><a href="#Widget-632"><span class="linenos">632</span></a><span class="sd">            key: Usually a string, indexing into the `_bindings` dictionary. These are the</span>
</span><span id="Widget-633"><a href="#Widget-633"><span class="linenos">633</span></a><span class="sd">                same strings as defined in `Widget.bind`.</span>
</span><span id="Widget-634"><a href="#Widget-634"><span class="linenos">634</span></a><span class="sd">            ignore_any: If set, `keys.ANY_KEY` bindings will not be executed.</span>
</span><span id="Widget-635"><a href="#Widget-635"><span class="linenos">635</span></a>
</span><span id="Widget-636"><a href="#Widget-636"><span class="linenos">636</span></a><span class="sd">        Returns:</span>
</span><span id="Widget-637"><a href="#Widget-637"><span class="linenos">637</span></a><span class="sd">            True if the binding was found, False otherwise. Bindings will always be</span>
</span><span id="Widget-638"><a href="#Widget-638"><span class="linenos">638</span></a><span class="sd">                executed if they are found.</span>
</span><span id="Widget-639"><a href="#Widget-639"><span class="linenos">639</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Widget-640"><a href="#Widget-640"><span class="linenos">640</span></a>
</span><span id="Widget-641"><a href="#Widget-641"><span class="linenos">641</span></a>        <span class="c1"># Execute special binding</span>
</span><span id="Widget-642"><a href="#Widget-642"><span class="linenos">642</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">ignore_any</span> <span class="ow">and</span> <span class="n">keys</span><span class="o">.</span><span class="n">ANY_KEY</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_bindings</span><span class="p">:</span>
</span><span id="Widget-643"><a href="#Widget-643"><span class="linenos">643</span></a>            <span class="n">method</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_bindings</span><span class="p">[</span><span class="n">keys</span><span class="o">.</span><span class="n">ANY_KEY</span><span class="p">]</span>
</span><span id="Widget-644"><a href="#Widget-644"><span class="linenos">644</span></a>            <span class="n">method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span>
</span><span id="Widget-645"><a href="#Widget-645"><span class="linenos">645</span></a>
</span><span id="Widget-646"><a href="#Widget-646"><span class="linenos">646</span></a>        <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_bindings</span><span class="p">:</span>
</span><span id="Widget-647"><a href="#Widget-647"><span class="linenos">647</span></a>            <span class="n">method</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_bindings</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
</span><span id="Widget-648"><a href="#Widget-648"><span class="linenos">648</span></a>            <span class="n">method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span>
</span><span id="Widget-649"><a href="#Widget-649"><span class="linenos">649</span></a>
</span><span id="Widget-650"><a href="#Widget-650"><span class="linenos">650</span></a>            <span class="k">return</span> <span class="kc">True</span>
</span><span id="Widget-651"><a href="#Widget-651"><span class="linenos">651</span></a>
</span><span id="Widget-652"><a href="#Widget-652"><span class="linenos">652</span></a>        <span class="k">return</span> <span class="kc">False</span>
</span><span id="Widget-653"><a href="#Widget-653"><span class="linenos">653</span></a>
</span><span id="Widget-654"><a href="#Widget-654"><span class="linenos">654</span></a>    <span class="k">def</span> <span class="nf">select</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Widget-655"><a href="#Widget-655"><span class="linenos">655</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Selects a part of this Widget.</span>
</span><span id="Widget-656"><a href="#Widget-656"><span class="linenos">656</span></a>
</span><span id="Widget-657"><a href="#Widget-657"><span class="linenos">657</span></a><span class="sd">        Args:</span>
</span><span id="Widget-658"><a href="#Widget-658"><span class="linenos">658</span></a><span class="sd">            index: The index to select.</span>
</span><span id="Widget-659"><a href="#Widget-659"><span class="linenos">659</span></a>
</span><span id="Widget-660"><a href="#Widget-660"><span class="linenos">660</span></a><span class="sd">        Raises:</span>
</span><span id="Widget-661"><a href="#Widget-661"><span class="linenos">661</span></a><span class="sd">            TypeError: This widget has no selectables, i.e. widget.is_selectable == False.</span>
</span><span id="Widget-662"><a href="#Widget-662"><span class="linenos">662</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Widget-663"><a href="#Widget-663"><span class="linenos">663</span></a>
</span><span id="Widget-664"><a href="#Widget-664"><span class="linenos">664</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_selectable</span><span class="p">:</span>
</span><span id="Widget-665"><a href="#Widget-665"><span class="linenos">665</span></a>            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Object of type </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="si">}</span><span class="s2"> has no selectables.&quot;</span><span class="p">)</span>
</span><span id="Widget-666"><a href="#Widget-666"><span class="linenos">666</span></a>
</span><span id="Widget-667"><a href="#Widget-667"><span class="linenos">667</span></a>        <span class="k">if</span> <span class="n">index</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Widget-668"><a href="#Widget-668"><span class="linenos">668</span></a>            <span class="n">index</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">index</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">selectables_length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
</span><span id="Widget-669"><a href="#Widget-669"><span class="linenos">669</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">selected_index</span> <span class="o">=</span> <span class="n">index</span>
</span><span id="Widget-670"><a href="#Widget-670"><span class="linenos">670</span></a>
</span><span id="Widget-671"><a href="#Widget-671"><span class="linenos">671</span></a>    <span class="k">def</span> <span class="nf">print</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Widget-672"><a href="#Widget-672"><span class="linenos">672</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Prints this widget&quot;&quot;&quot;</span>
</span><span id="Widget-673"><a href="#Widget-673"><span class="linenos">673</span></a>
</span><span id="Widget-674"><a href="#Widget-674"><span class="linenos">674</span></a>        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_lines</span><span class="p">():</span>
</span><span id="Widget-675"><a href="#Widget-675"><span class="linenos">675</span></a>            <span class="nb">print</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
</span><span id="Widget-676"><a href="#Widget-676"><span class="linenos">676</span></a>
</span><span id="Widget-677"><a href="#Widget-677"><span class="linenos">677</span></a>    <span class="k">def</span> <span class="nf">debug</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="Widget-678"><a href="#Widget-678"><span class="linenos">678</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns identifiable information about this widget.</span>
</span><span id="Widget-679"><a href="#Widget-679"><span class="linenos">679</span></a>
</span><span id="Widget-680"><a href="#Widget-680"><span class="linenos">680</span></a><span class="sd">        This method is used to easily differentiate between widgets. By default, all widget&#39;s</span>
</span><span id="Widget-681"><a href="#Widget-681"><span class="linenos">681</span></a><span class="sd">        __repr__ method is an alias to this. The signature of each widget is used to generate</span>
</span><span id="Widget-682"><a href="#Widget-682"><span class="linenos">682</span></a><span class="sd">        the return value.</span>
</span><span id="Widget-683"><a href="#Widget-683"><span class="linenos">683</span></a>
</span><span id="Widget-684"><a href="#Widget-684"><span class="linenos">684</span></a><span class="sd">        Returns:</span>
</span><span id="Widget-685"><a href="#Widget-685"><span class="linenos">685</span></a><span class="sd">            A string almost exactly matching the line of code that could have defined the widget.</span>
</span><span id="Widget-686"><a href="#Widget-686"><span class="linenos">686</span></a>
</span><span id="Widget-687"><a href="#Widget-687"><span class="linenos">687</span></a><span class="sd">            Example return:</span>
</span><span id="Widget-688"><a href="#Widget-688"><span class="linenos">688</span></a>
</span><span id="Widget-689"><a href="#Widget-689"><span class="linenos">689</span></a><span class="sd">            ```</span>
</span><span id="Widget-690"><a href="#Widget-690"><span class="linenos">690</span></a><span class="sd">            Container(Label(value=&quot;This is a label&quot;, padding=0),</span>
</span><span id="Widget-691"><a href="#Widget-691"><span class="linenos">691</span></a><span class="sd">            Button(label=&quot;This is a button&quot;, padding=0), **attrs)</span>
</span><span id="Widget-692"><a href="#Widget-692"><span class="linenos">692</span></a><span class="sd">            ```</span>
</span><span id="Widget-693"><a href="#Widget-693"><span class="linenos">693</span></a>
</span><span id="Widget-694"><a href="#Widget-694"><span class="linenos">694</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Widget-695"><a href="#Widget-695"><span class="linenos">695</span></a>
</span><span id="Widget-696"><a href="#Widget-696"><span class="linenos">696</span></a>        <span class="n">constructor</span> <span class="o">=</span> <span class="s2">&quot;(&quot;</span>
</span><span id="Widget-697"><a href="#Widget-697"><span class="linenos">697</span></a>        <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">signature</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;__init__&quot;</span><span class="p">))</span><span class="o">.</span><span class="n">parameters</span><span class="p">:</span>
</span><span id="Widget-698"><a href="#Widget-698"><span class="linenos">698</span></a>            <span class="n">current</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</span><span id="Widget-699"><a href="#Widget-699"><span class="linenos">699</span></a>            <span class="k">if</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;attrs&quot;</span><span class="p">:</span>
</span><span id="Widget-700"><a href="#Widget-700"><span class="linenos">700</span></a>                <span class="n">current</span> <span class="o">+=</span> <span class="s2">&quot;**attrs&quot;</span>
</span><span id="Widget-701"><a href="#Widget-701"><span class="linenos">701</span></a>                <span class="k">continue</span>
</span><span id="Widget-702"><a href="#Widget-702"><span class="linenos">702</span></a>
</span><span id="Widget-703"><a href="#Widget-703"><span class="linenos">703</span></a>            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">constructor</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="Widget-704"><a href="#Widget-704"><span class="linenos">704</span></a>                <span class="n">current</span> <span class="o">+=</span> <span class="s2">&quot;, &quot;</span>
</span><span id="Widget-705"><a href="#Widget-705"><span class="linenos">705</span></a>
</span><span id="Widget-706"><a href="#Widget-706"><span class="linenos">706</span></a>            <span class="n">current</span> <span class="o">+=</span> <span class="n">name</span>
</span><span id="Widget-707"><a href="#Widget-707"><span class="linenos">707</span></a>
</span><span id="Widget-708"><a href="#Widget-708"><span class="linenos">708</span></a>            <span class="n">attr</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</span><span id="Widget-709"><a href="#Widget-709"><span class="linenos">709</span></a>            <span class="k">if</span> <span class="n">attr</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Widget-710"><a href="#Widget-710"><span class="linenos">710</span></a>                <span class="k">continue</span>
</span><span id="Widget-711"><a href="#Widget-711"><span class="linenos">711</span></a>
</span><span id="Widget-712"><a href="#Widget-712"><span class="linenos">712</span></a>            <span class="n">current</span> <span class="o">+=</span> <span class="s2">&quot;=&quot;</span>
</span><span id="Widget-713"><a href="#Widget-713"><span class="linenos">713</span></a>
</span><span id="Widget-714"><a href="#Widget-714"><span class="linenos">714</span></a>            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">attr</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="Widget-715"><a href="#Widget-715"><span class="linenos">715</span></a>                <span class="n">current</span> <span class="o">+=</span> <span class="sa">f</span><span class="s1">&#39;&quot;</span><span class="si">{</span><span class="n">attr</span><span class="si">}</span><span class="s1">&quot;&#39;</span>
</span><span id="Widget-716"><a href="#Widget-716"><span class="linenos">716</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="Widget-717"><a href="#Widget-717"><span class="linenos">717</span></a>                <span class="n">current</span> <span class="o">+=</span> <span class="nb">str</span><span class="p">(</span><span class="n">attr</span><span class="p">)</span>
</span><span id="Widget-718"><a href="#Widget-718"><span class="linenos">718</span></a>
</span><span id="Widget-719"><a href="#Widget-719"><span class="linenos">719</span></a>            <span class="n">constructor</span> <span class="o">+=</span> <span class="n">current</span>
</span><span id="Widget-720"><a href="#Widget-720"><span class="linenos">720</span></a>
</span><span id="Widget-721"><a href="#Widget-721"><span class="linenos">721</span></a>        <span class="n">constructor</span> <span class="o">+=</span> <span class="s2">&quot;)&quot;</span>
</span><span id="Widget-722"><a href="#Widget-722"><span class="linenos">722</span></a>
</span><span id="Widget-723"><a href="#Widget-723"><span class="linenos">723</span></a>        <span class="k">return</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">+</span> <span class="n">constructor</span>
</span></pre></div>


            <div class="docstring"><p>The base of the Widget system</p>
</div>


                            <div id="Widget.__init__" class="classattr">
                                        <input id="Widget.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">Widget</span><span class="signature pdoc-code condensed">(<span class="param"><span class="o">**</span><span class="n">attrs</span><span class="p">:</span> <span class="n">Any</span></span>)</span>

                <label class="view-source-button" for="Widget.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Widget.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Widget.__init__-121"><a href="#Widget.__init__-121"><span class="linenos">121</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">attrs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Widget.__init__-122"><a href="#Widget.__init__-122"><span class="linenos">122</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize object&quot;&quot;&quot;</span>
</span><span id="Widget.__init__-123"><a href="#Widget.__init__-123"><span class="linenos">123</span></a>
</span><span id="Widget.__init__-124"><a href="#Widget.__init__-124"><span class="linenos">124</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_style</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">_set_obj_or_cls_style</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</span><span id="Widget.__init__-125"><a href="#Widget.__init__-125"><span class="linenos">125</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_char</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">_set_obj_or_cls_char</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</span><span id="Widget.__init__-126"><a href="#Widget.__init__-126"><span class="linenos">126</span></a>
</span><span id="Widget.__init__-127"><a href="#Widget.__init__-127"><span class="linenos">127</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="mi">1</span>
</span><span id="Widget.__init__-128"><a href="#Widget.__init__-128"><span class="linenos">128</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">=</span> <span class="mi">1</span>
</span><span id="Widget.__init__-129"><a href="#Widget.__init__-129"><span class="linenos">129</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">pos</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">terminal</span><span class="o">.</span><span class="n">origin</span>
</span><span id="Widget.__init__-130"><a href="#Widget.__init__-130"><span class="linenos">130</span></a>
</span><span id="Widget.__init__-131"><a href="#Widget.__init__-131"><span class="linenos">131</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">depth</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="Widget.__init__-132"><a href="#Widget.__init__-132"><span class="linenos">132</span></a>
</span><span id="Widget.__init__-133"><a href="#Widget.__init__-133"><span class="linenos">133</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">styles</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">styles</span><span class="o">.</span><span class="n">branch</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="Widget.__init__-134"><a href="#Widget.__init__-134"><span class="linenos">134</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">chars</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">chars</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
</span><span id="Widget.__init__-135"><a href="#Widget.__init__-135"><span class="linenos">135</span></a>
</span><span id="Widget.__init__-136"><a href="#Widget.__init__-136"><span class="linenos">136</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="p">:</span> <span class="n">Widget</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Widget.__init__-137"><a href="#Widget.__init__-137"><span class="linenos">137</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">selected_index</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Widget.__init__-138"><a href="#Widget.__init__-138"><span class="linenos">138</span></a>
</span><span id="Widget.__init__-139"><a href="#Widget.__init__-139"><span class="linenos">139</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_selectables_length</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="Widget.__init__-140"><a href="#Widget.__init__-140"><span class="linenos">140</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Widget.__init__-141"><a href="#Widget.__init__-141"><span class="linenos">141</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_serialized_fields</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">serialized</span>
</span><span id="Widget.__init__-142"><a href="#Widget.__init__-142"><span class="linenos">142</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_bindings</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="n">Type</span><span class="p">[</span><span class="n">MouseEvent</span><span class="p">],</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">BoundCallback</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="Widget.__init__-143"><a href="#Widget.__init__-143"><span class="linenos">143</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_relative_width</span><span class="p">:</span> <span class="nb">float</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Widget.__init__-144"><a href="#Widget.__init__-144"><span class="linenos">144</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_previous_state</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">],</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Widget.__init__-145"><a href="#Widget.__init__-145"><span class="linenos">145</span></a>
</span><span id="Widget.__init__-146"><a href="#Widget.__init__-146"><span class="linenos">146</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">positioned_line_buffer</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">],</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Widget.__init__-147"><a href="#Widget.__init__-147"><span class="linenos">147</span></a>
</span><span id="Widget.__init__-148"><a href="#Widget.__init__-148"><span class="linenos">148</span></a>        <span class="k">for</span> <span class="n">attr</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">attrs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="Widget.__init__-149"><a href="#Widget.__init__-149"><span class="linenos">149</span></a>            <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">attr</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Initialize object</p>
</div>


                            </div>
                            <div id="Widget.set_style" class="classattr">
                                        <input id="Widget.set_style-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">set_style</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">obj_or_cls</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Type</span><span class="p">[</span><span class="n"><a href="#Widget">pytermgui.widgets.base.Widget</a></span><span class="p">],</span> <span class="n"><a href="#Widget">pytermgui.widgets.base.Widget</a></span><span class="p">]</span>,</span><span class="param">	<span class="n">key</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">value</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span> <span class="nb">str</span><span class="p">]</span></span><span class="return-annotation">) -> <span class="n">Union</span><span class="p">[</span><span class="n">Type</span><span class="p">[</span><span class="n"><a href="#Widget">pytermgui.widgets.base.Widget</a></span><span class="p">],</span> <span class="n"><a href="#Widget">pytermgui.widgets.base.Widget</a></span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="Widget.set_style-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Widget.set_style"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Widget.set_style-33"><a href="#Widget.set_style-33"><span class="linenos">33</span></a><span class="k">def</span> <span class="nf">_set_obj_or_cls_style</span><span class="p">(</span>
</span><span id="Widget.set_style-34"><a href="#Widget.set_style-34"><span class="linenos">34</span></a>    <span class="n">obj_or_cls</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Widget</span><span class="p">]</span> <span class="o">|</span> <span class="n">Widget</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">w_styles</span><span class="o">.</span><span class="n">StyleType</span>
</span><span id="Widget.set_style-35"><a href="#Widget.set_style-35"><span class="linenos">35</span></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Type</span><span class="p">[</span><span class="n">Widget</span><span class="p">]</span> <span class="o">|</span> <span class="n">Widget</span><span class="p">:</span>
</span><span id="Widget.set_style-36"><a href="#Widget.set_style-36"><span class="linenos">36</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Sets a style for an object or class</span>
</span><span id="Widget.set_style-37"><a href="#Widget.set_style-37"><span class="linenos">37</span></a>
</span><span id="Widget.set_style-38"><a href="#Widget.set_style-38"><span class="linenos">38</span></a><span class="sd">    Args:</span>
</span><span id="Widget.set_style-39"><a href="#Widget.set_style-39"><span class="linenos">39</span></a><span class="sd">        obj_or_cls: The Widget instance or type to update.</span>
</span><span id="Widget.set_style-40"><a href="#Widget.set_style-40"><span class="linenos">40</span></a><span class="sd">        key: The style key.</span>
</span><span id="Widget.set_style-41"><a href="#Widget.set_style-41"><span class="linenos">41</span></a><span class="sd">        value: The new style.</span>
</span><span id="Widget.set_style-42"><a href="#Widget.set_style-42"><span class="linenos">42</span></a>
</span><span id="Widget.set_style-43"><a href="#Widget.set_style-43"><span class="linenos">43</span></a><span class="sd">    Returns:</span>
</span><span id="Widget.set_style-44"><a href="#Widget.set_style-44"><span class="linenos">44</span></a><span class="sd">        Type[Widget] | Widget: The updated class.</span>
</span><span id="Widget.set_style-45"><a href="#Widget.set_style-45"><span class="linenos">45</span></a>
</span><span id="Widget.set_style-46"><a href="#Widget.set_style-46"><span class="linenos">46</span></a><span class="sd">    Raises:</span>
</span><span id="Widget.set_style-47"><a href="#Widget.set_style-47"><span class="linenos">47</span></a><span class="sd">        See `pytermgui.widgets.styles.StyleManager`.</span>
</span><span id="Widget.set_style-48"><a href="#Widget.set_style-48"><span class="linenos">48</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="Widget.set_style-49"><a href="#Widget.set_style-49"><span class="linenos">49</span></a>
</span><span id="Widget.set_style-50"><a href="#Widget.set_style-50"><span class="linenos">50</span></a>    <span class="n">obj_or_cls</span><span class="o">.</span><span class="n">styles</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
</span><span id="Widget.set_style-51"><a href="#Widget.set_style-51"><span class="linenos">51</span></a>
</span><span id="Widget.set_style-52"><a href="#Widget.set_style-52"><span class="linenos">52</span></a>    <span class="k">return</span> <span class="n">obj_or_cls</span>
</span></pre></div>


            <div class="docstring"><p>Sets a style for an object or class</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>obj_or_cls:</strong>  The Widget instance or type to update.</li>
<li><strong>key:</strong>  The style key.</li>
<li><strong>value:</strong>  The new style.</li>
</ul>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>Type[Widget] | Widget: The updated class.</p>
</blockquote>

<h6 id="raises">Raises:</h6>

<ul>
<li>See <code><a href="styles.html#StyleManager">pytermgui.widgets.styles.StyleManager</a></code>.</li>
</ul>
</div>


                            </div>
                            <div id="Widget.set_char" class="classattr">
                                        <input id="Widget.set_char-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">set_char</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">obj_or_cls</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Type</span><span class="p">[</span><span class="n"><a href="#Widget">pytermgui.widgets.base.Widget</a></span><span class="p">],</span> <span class="n"><a href="#Widget">pytermgui.widgets.base.Widget</a></span><span class="p">]</span>,</span><span class="param">	<span class="n">key</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">value</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="nb">str</span><span class="p">]</span></span><span class="return-annotation">) -> <span class="n">Union</span><span class="p">[</span><span class="n">Type</span><span class="p">[</span><span class="n"><a href="#Widget">pytermgui.widgets.base.Widget</a></span><span class="p">],</span> <span class="n"><a href="#Widget">pytermgui.widgets.base.Widget</a></span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="Widget.set_char-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Widget.set_char"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Widget.set_char-55"><a href="#Widget.set_char-55"><span class="linenos">55</span></a><span class="k">def</span> <span class="nf">_set_obj_or_cls_char</span><span class="p">(</span>
</span><span id="Widget.set_char-56"><a href="#Widget.set_char-56"><span class="linenos">56</span></a>    <span class="n">obj_or_cls</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Widget</span><span class="p">]</span> <span class="o">|</span> <span class="n">Widget</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">w_styles</span><span class="o">.</span><span class="n">CharType</span>
</span><span id="Widget.set_char-57"><a href="#Widget.set_char-57"><span class="linenos">57</span></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Type</span><span class="p">[</span><span class="n">Widget</span><span class="p">]</span> <span class="o">|</span> <span class="n">Widget</span><span class="p">:</span>
</span><span id="Widget.set_char-58"><a href="#Widget.set_char-58"><span class="linenos">58</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Sets a char for an object or class</span>
</span><span id="Widget.set_char-59"><a href="#Widget.set_char-59"><span class="linenos">59</span></a>
</span><span id="Widget.set_char-60"><a href="#Widget.set_char-60"><span class="linenos">60</span></a><span class="sd">    Args:</span>
</span><span id="Widget.set_char-61"><a href="#Widget.set_char-61"><span class="linenos">61</span></a><span class="sd">        obj_or_cls: The Widget instance or type to update.</span>
</span><span id="Widget.set_char-62"><a href="#Widget.set_char-62"><span class="linenos">62</span></a><span class="sd">        key: The char key.</span>
</span><span id="Widget.set_char-63"><a href="#Widget.set_char-63"><span class="linenos">63</span></a><span class="sd">        value: The new char.</span>
</span><span id="Widget.set_char-64"><a href="#Widget.set_char-64"><span class="linenos">64</span></a>
</span><span id="Widget.set_char-65"><a href="#Widget.set_char-65"><span class="linenos">65</span></a><span class="sd">    Returns:</span>
</span><span id="Widget.set_char-66"><a href="#Widget.set_char-66"><span class="linenos">66</span></a><span class="sd">        Type[Widget] | Widget: The updated class.</span>
</span><span id="Widget.set_char-67"><a href="#Widget.set_char-67"><span class="linenos">67</span></a>
</span><span id="Widget.set_char-68"><a href="#Widget.set_char-68"><span class="linenos">68</span></a><span class="sd">    Raises:</span>
</span><span id="Widget.set_char-69"><a href="#Widget.set_char-69"><span class="linenos">69</span></a><span class="sd">        KeyError: The char key provided is invalid.</span>
</span><span id="Widget.set_char-70"><a href="#Widget.set_char-70"><span class="linenos">70</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="Widget.set_char-71"><a href="#Widget.set_char-71"><span class="linenos">71</span></a>
</span><span id="Widget.set_char-72"><a href="#Widget.set_char-72"><span class="linenos">72</span></a>    <span class="k">if</span> <span class="ow">not</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">obj_or_cls</span><span class="o">.</span><span class="n">chars</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
</span><span id="Widget.set_char-73"><a href="#Widget.set_char-73"><span class="linenos">73</span></a>        <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Char </span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2"> is not valid for </span><span class="si">{</span><span class="n">obj_or_cls</span><span class="si">}</span><span class="s2">!&quot;</span><span class="p">)</span>
</span><span id="Widget.set_char-74"><a href="#Widget.set_char-74"><span class="linenos">74</span></a>
</span><span id="Widget.set_char-75"><a href="#Widget.set_char-75"><span class="linenos">75</span></a>    <span class="n">obj_or_cls</span><span class="o">.</span><span class="n">chars</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
</span><span id="Widget.set_char-76"><a href="#Widget.set_char-76"><span class="linenos">76</span></a>
</span><span id="Widget.set_char-77"><a href="#Widget.set_char-77"><span class="linenos">77</span></a>    <span class="k">return</span> <span class="n">obj_or_cls</span>
</span></pre></div>


            <div class="docstring"><p>Sets a char for an object or class</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>obj_or_cls:</strong>  The Widget instance or type to update.</li>
<li><strong>key:</strong>  The char key.</li>
<li><strong>value:</strong>  The new char.</li>
</ul>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>Type[Widget] | Widget: The updated class.</p>
</blockquote>

<h6 id="raises">Raises:</h6>

<ul>
<li><strong>KeyError:</strong>  The char key provided is invalid.</li>
</ul>
</div>


                            </div>
                            <div id="Widget.styles" class="classattr">
                                <div class="attr variable">
            <span class="name">styles</span>        =
<span class="default_value">{}</span>

        
    </div>
    <a class="headerlink" href="#Widget.styles"></a>
    
            <div class="docstring"><p>Default styles for this class</p>
</div>


                            </div>
                            <div id="Widget.chars" class="classattr">
                                <div class="attr variable">
            <span class="name">chars</span><span class="annotation">: dict[str, typing.Union[typing.List[str], str]]</span>        =
<span class="default_value">{}</span>

        
    </div>
    <a class="headerlink" href="#Widget.chars"></a>
    
            <div class="docstring"><p>Default characters for this class</p>
</div>


                            </div>
                            <div id="Widget.keys" class="classattr">
                                <div class="attr variable">
            <span class="name">keys</span><span class="annotation">: dict[str, set[str]]</span>        =
<span class="default_value">{}</span>

        
    </div>
    <a class="headerlink" href="#Widget.keys"></a>
    
            <div class="docstring"><p>Groups of keys that are used in <code><a href="#Widget.handle_key">handle_key</a></code></p>
</div>


                            </div>
                            <div id="Widget.serialized" class="classattr">
                                <div class="attr variable">
            <span class="name">serialized</span><span class="annotation">: list[str]</span>        =
<span class="default_value">[&#39;id&#39;, &#39;pos&#39;, &#39;depth&#39;, &#39;width&#39;, &#39;height&#39;, &#39;selected_index&#39;, &#39;selectables_length&#39;]</span>

        
    </div>
    <a class="headerlink" href="#Widget.serialized"></a>
    
            <div class="docstring"><p>Fields of widget that shall be serialized by <code>pytermgui.serializer.Serializer</code></p>
</div>


                            </div>
                            <div id="Widget.size_policy" class="classattr">
                                <div class="attr variable">
            <span class="name">size_policy</span>        =
<span class="default_value">&lt;SizePolicy.FILL: 0&gt;</span>

        
    </div>
    <a class="headerlink" href="#Widget.size_policy"></a>
    
            <div class="docstring"><p><code><a href="../enums.html#SizePolicy">pytermgui.enums.SizePolicy</a></code> to set widget's width according to</p>
</div>


                            </div>
                            <div id="Widget.parent_align" class="classattr">
                                <div class="attr variable">
            <span class="name">parent_align</span>        =
<span class="default_value">&lt;HorizontalAlignment.CENTER: 1&gt;</span>

        
    </div>
    <a class="headerlink" href="#Widget.parent_align"></a>
    
            <div class="docstring"><p><code><a href="../enums.html#HorizontalAlignment">pytermgui.enums.HorizontalAlignment</a></code> to align widget by</p>
</div>


                            </div>
                            <div id="Widget.from_data" class="classattr">
                                        <input id="Widget.from_data-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">from_data</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">data</span><span class="p">:</span> <span class="n">Any</span>,</span><span class="param">	<span class="o">**</span><span class="n">widget_args</span><span class="p">:</span> <span class="n">Any</span></span><span class="return-annotation">) -> <span class="n">Union</span><span class="p">[</span><span class="n"><a href="#Widget">pytermgui.widgets.base.Widget</a></span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="n"><a href="containers.html#Splitter">pytermgui.widgets.containers.Splitter</a></span><span class="p">],</span> <span class="n">NoneType</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="Widget.from_data-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Widget.from_data"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Widget.from_data-47"><a href="#Widget.from_data-47"><span class="linenos"> 47</span></a><span class="k">def</span> <span class="nf">auto</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">**</span><span class="n">widget_args</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Widget</span> <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="n">Splitter</span><span class="p">]]:</span>
</span><span id="Widget.from_data-48"><a href="#Widget.from_data-48"><span class="linenos"> 48</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a widget from specific data structures.</span>
</span><span id="Widget.from_data-49"><a href="#Widget.from_data-49"><span class="linenos"> 49</span></a>
</span><span id="Widget.from_data-50"><a href="#Widget.from_data-50"><span class="linenos"> 50</span></a><span class="sd">    This conversion includes various widget classes, as well as some shorthands for</span>
</span><span id="Widget.from_data-51"><a href="#Widget.from_data-51"><span class="linenos"> 51</span></a><span class="sd">    more complex objects.  This method is called implicitly whenever a non-widget is</span>
</span><span id="Widget.from_data-52"><a href="#Widget.from_data-52"><span class="linenos"> 52</span></a><span class="sd">    attempted to be added to a Widget.</span>
</span><span id="Widget.from_data-53"><a href="#Widget.from_data-53"><span class="linenos"> 53</span></a>
</span><span id="Widget.from_data-54"><a href="#Widget.from_data-54"><span class="linenos"> 54</span></a><span class="sd">    You can read up on the syntacies for each builtin widget within the widget</span>
</span><span id="Widget.from_data-55"><a href="#Widget.from_data-55"><span class="linenos"> 55</span></a><span class="sd">    [documentation](/widgets/builtins).</span>
</span><span id="Widget.from_data-56"><a href="#Widget.from_data-56"><span class="linenos"> 56</span></a>
</span><span id="Widget.from_data-57"><a href="#Widget.from_data-57"><span class="linenos"> 57</span></a><span class="sd">    Args:</span>
</span><span id="Widget.from_data-58"><a href="#Widget.from_data-58"><span class="linenos"> 58</span></a><span class="sd">        data: The structure to convert. See below for formats.</span>
</span><span id="Widget.from_data-59"><a href="#Widget.from_data-59"><span class="linenos"> 59</span></a><span class="sd">        **widget_args: Arguments passed straight to the widget constructor.</span>
</span><span id="Widget.from_data-60"><a href="#Widget.from_data-60"><span class="linenos"> 60</span></a>
</span><span id="Widget.from_data-61"><a href="#Widget.from_data-61"><span class="linenos"> 61</span></a><span class="sd">    Returns:</span>
</span><span id="Widget.from_data-62"><a href="#Widget.from_data-62"><span class="linenos"> 62</span></a><span class="sd">        The widget or list of widgets created, or None if the passed structure could</span>
</span><span id="Widget.from_data-63"><a href="#Widget.from_data-63"><span class="linenos"> 63</span></a><span class="sd">        not be converted.</span>
</span><span id="Widget.from_data-64"><a href="#Widget.from_data-64"><span class="linenos"> 64</span></a>
</span><span id="Widget.from_data-65"><a href="#Widget.from_data-65"><span class="linenos"> 65</span></a><span class="sd">    Example:</span>
</span><span id="Widget.from_data-66"><a href="#Widget.from_data-66"><span class="linenos"> 66</span></a>
</span><span id="Widget.from_data-67"><a href="#Widget.from_data-67"><span class="linenos"> 67</span></a><span class="sd">    ```python3</span>
</span><span id="Widget.from_data-68"><a href="#Widget.from_data-68"><span class="linenos"> 68</span></a><span class="sd">    from pytermgui import Container</span>
</span><span id="Widget.from_data-69"><a href="#Widget.from_data-69"><span class="linenos"> 69</span></a><span class="sd">    form = (</span>
</span><span id="Widget.from_data-70"><a href="#Widget.from_data-70"><span class="linenos"> 70</span></a><span class="sd">        Container(id=&quot;form&quot;)</span>
</span><span id="Widget.from_data-71"><a href="#Widget.from_data-71"><span class="linenos"> 71</span></a><span class="sd">        + &quot;[157 bold]This is a title&quot;</span>
</span><span id="Widget.from_data-72"><a href="#Widget.from_data-72"><span class="linenos"> 72</span></a><span class="sd">        + &quot;&quot;</span>
</span><span id="Widget.from_data-73"><a href="#Widget.from_data-73"><span class="linenos"> 73</span></a><span class="sd">        + {&quot;[72 italic]Label1&quot;: &quot;[210]Button1&quot;}</span>
</span><span id="Widget.from_data-74"><a href="#Widget.from_data-74"><span class="linenos"> 74</span></a><span class="sd">        + {&quot;[72 italic]Label2&quot;: &quot;[210]Button2&quot;}</span>
</span><span id="Widget.from_data-75"><a href="#Widget.from_data-75"><span class="linenos"> 75</span></a><span class="sd">        + {&quot;[72 italic]Label3&quot;: &quot;[210]Button3&quot;}</span>
</span><span id="Widget.from_data-76"><a href="#Widget.from_data-76"><span class="linenos"> 76</span></a><span class="sd">        + &quot;&quot;</span>
</span><span id="Widget.from_data-77"><a href="#Widget.from_data-77"><span class="linenos"> 77</span></a><span class="sd">        + [&quot;Submit&quot;, lambda _, button, your_submit_handler(button.parent)]</span>
</span><span id="Widget.from_data-78"><a href="#Widget.from_data-78"><span class="linenos"> 78</span></a><span class="sd">    )</span>
</span><span id="Widget.from_data-79"><a href="#Widget.from_data-79"><span class="linenos"> 79</span></a><span class="sd">    ```</span>
</span><span id="Widget.from_data-80"><a href="#Widget.from_data-80"><span class="linenos"> 80</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="Widget.from_data-81"><a href="#Widget.from_data-81"><span class="linenos"> 81</span></a>    <span class="c1"># In my opinion, returning immediately after construction is much more readable.</span>
</span><span id="Widget.from_data-82"><a href="#Widget.from_data-82"><span class="linenos"> 82</span></a>    <span class="c1"># pylint: disable=too-many-return-statements</span>
</span><span id="Widget.from_data-83"><a href="#Widget.from_data-83"><span class="linenos"> 83</span></a>
</span><span id="Widget.from_data-84"><a href="#Widget.from_data-84"><span class="linenos"> 84</span></a>    <span class="c1"># Nothing to do.</span>
</span><span id="Widget.from_data-85"><a href="#Widget.from_data-85"><span class="linenos"> 85</span></a>    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">Widget</span><span class="p">):</span>
</span><span id="Widget.from_data-86"><a href="#Widget.from_data-86"><span class="linenos"> 86</span></a>        <span class="c1"># Set all **widget_args</span>
</span><span id="Widget.from_data-87"><a href="#Widget.from_data-87"><span class="linenos"> 87</span></a>        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">widget_args</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="Widget.from_data-88"><a href="#Widget.from_data-88"><span class="linenos"> 88</span></a>            <span class="nb">setattr</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</span><span id="Widget.from_data-89"><a href="#Widget.from_data-89"><span class="linenos"> 89</span></a>
</span><span id="Widget.from_data-90"><a href="#Widget.from_data-90"><span class="linenos"> 90</span></a>        <span class="k">return</span> <span class="n">data</span>
</span><span id="Widget.from_data-91"><a href="#Widget.from_data-91"><span class="linenos"> 91</span></a>
</span><span id="Widget.from_data-92"><a href="#Widget.from_data-92"><span class="linenos"> 92</span></a>    <span class="c1"># Label</span>
</span><span id="Widget.from_data-93"><a href="#Widget.from_data-93"><span class="linenos"> 93</span></a>    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="Widget.from_data-94"><a href="#Widget.from_data-94"><span class="linenos"> 94</span></a>        <span class="k">return</span> <span class="n">Label</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">widget_args</span><span class="p">)</span>
</span><span id="Widget.from_data-95"><a href="#Widget.from_data-95"><span class="linenos"> 95</span></a>
</span><span id="Widget.from_data-96"><a href="#Widget.from_data-96"><span class="linenos"> 96</span></a>    <span class="c1"># Splitter</span>
</span><span id="Widget.from_data-97"><a href="#Widget.from_data-97"><span class="linenos"> 97</span></a>    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
</span><span id="Widget.from_data-98"><a href="#Widget.from_data-98"><span class="linenos"> 98</span></a>        <span class="k">return</span> <span class="n">Splitter</span><span class="p">(</span><span class="o">*</span><span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">widget_args</span><span class="p">)</span>
</span><span id="Widget.from_data-99"><a href="#Widget.from_data-99"><span class="linenos"> 99</span></a>
</span><span id="Widget.from_data-100"><a href="#Widget.from_data-100"><span class="linenos">100</span></a>    <span class="c1"># buttons</span>
</span><span id="Widget.from_data-101"><a href="#Widget.from_data-101"><span class="linenos">101</span></a>    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
</span><span id="Widget.from_data-102"><a href="#Widget.from_data-102"><span class="linenos">102</span></a>        <span class="n">label</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="Widget.from_data-103"><a href="#Widget.from_data-103"><span class="linenos">103</span></a>        <span class="n">onclick</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Widget.from_data-104"><a href="#Widget.from_data-104"><span class="linenos">104</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="Widget.from_data-105"><a href="#Widget.from_data-105"><span class="linenos">105</span></a>            <span class="n">onclick</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</span><span id="Widget.from_data-106"><a href="#Widget.from_data-106"><span class="linenos">106</span></a>
</span><span id="Widget.from_data-107"><a href="#Widget.from_data-107"><span class="linenos">107</span></a>        <span class="c1"># Checkbox</span>
</span><span id="Widget.from_data-108"><a href="#Widget.from_data-108"><span class="linenos">108</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">label</span><span class="p">,</span> <span class="nb">bool</span><span class="p">):</span>
</span><span id="Widget.from_data-109"><a href="#Widget.from_data-109"><span class="linenos">109</span></a>            <span class="k">return</span> <span class="n">Checkbox</span><span class="p">(</span><span class="n">onclick</span><span class="p">,</span> <span class="n">checked</span><span class="o">=</span><span class="n">label</span><span class="p">,</span> <span class="o">**</span><span class="n">widget_args</span><span class="p">)</span>
</span><span id="Widget.from_data-110"><a href="#Widget.from_data-110"><span class="linenos">110</span></a>
</span><span id="Widget.from_data-111"><a href="#Widget.from_data-111"><span class="linenos">111</span></a>        <span class="c1"># Toggle</span>
</span><span id="Widget.from_data-112"><a href="#Widget.from_data-112"><span class="linenos">112</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">label</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
</span><span id="Widget.from_data-113"><a href="#Widget.from_data-113"><span class="linenos">113</span></a>            <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">label</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span>
</span><span id="Widget.from_data-114"><a href="#Widget.from_data-114"><span class="linenos">114</span></a>            <span class="k">return</span> <span class="n">Toggle</span><span class="p">(</span><span class="n">label</span><span class="p">,</span> <span class="n">onclick</span><span class="p">,</span> <span class="o">**</span><span class="n">widget_args</span><span class="p">)</span>
</span><span id="Widget.from_data-115"><a href="#Widget.from_data-115"><span class="linenos">115</span></a>
</span><span id="Widget.from_data-116"><a href="#Widget.from_data-116"><span class="linenos">116</span></a>        <span class="k">return</span> <span class="n">Button</span><span class="p">(</span><span class="n">label</span><span class="p">,</span> <span class="n">onclick</span><span class="p">,</span> <span class="o">**</span><span class="n">widget_args</span><span class="p">)</span>
</span><span id="Widget.from_data-117"><a href="#Widget.from_data-117"><span class="linenos">117</span></a>
</span><span id="Widget.from_data-118"><a href="#Widget.from_data-118"><span class="linenos">118</span></a>    <span class="c1"># prompt splitter</span>
</span><span id="Widget.from_data-119"><a href="#Widget.from_data-119"><span class="linenos">119</span></a>    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
</span><span id="Widget.from_data-120"><a href="#Widget.from_data-120"><span class="linenos">120</span></a>        <span class="n">rows</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Splitter</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Widget.from_data-121"><a href="#Widget.from_data-121"><span class="linenos">121</span></a>
</span><span id="Widget.from_data-122"><a href="#Widget.from_data-122"><span class="linenos">122</span></a>        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="Widget.from_data-123"><a href="#Widget.from_data-123"><span class="linenos">123</span></a>            <span class="n">left</span> <span class="o">=</span> <span class="n">auto</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">parent_align</span><span class="o">=</span><span class="n">HorizontalAlignment</span><span class="o">.</span><span class="n">LEFT</span><span class="p">)</span>
</span><span id="Widget.from_data-124"><a href="#Widget.from_data-124"><span class="linenos">124</span></a>            <span class="n">right</span> <span class="o">=</span> <span class="n">auto</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">parent_align</span><span class="o">=</span><span class="n">HorizontalAlignment</span><span class="o">.</span><span class="n">RIGHT</span><span class="p">)</span>
</span><span id="Widget.from_data-125"><a href="#Widget.from_data-125"><span class="linenos">125</span></a>
</span><span id="Widget.from_data-126"><a href="#Widget.from_data-126"><span class="linenos">126</span></a>            <span class="n">rows</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Splitter</span><span class="p">(</span><span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">,</span> <span class="o">**</span><span class="n">widget_args</span><span class="p">))</span>
</span><span id="Widget.from_data-127"><a href="#Widget.from_data-127"><span class="linenos">127</span></a>
</span><span id="Widget.from_data-128"><a href="#Widget.from_data-128"><span class="linenos">128</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">rows</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="Widget.from_data-129"><a href="#Widget.from_data-129"><span class="linenos">129</span></a>            <span class="k">return</span> <span class="n">rows</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="Widget.from_data-130"><a href="#Widget.from_data-130"><span class="linenos">130</span></a>
</span><span id="Widget.from_data-131"><a href="#Widget.from_data-131"><span class="linenos">131</span></a>        <span class="k">return</span> <span class="n">rows</span>
</span><span id="Widget.from_data-132"><a href="#Widget.from_data-132"><span class="linenos">132</span></a>
</span><span id="Widget.from_data-133"><a href="#Widget.from_data-133"><span class="linenos">133</span></a>    <span class="k">return</span> <span class="kc">None</span>
</span></pre></div>


            <div class="docstring"><p>Creates a widget from specific data structures.</p>

<p>This conversion includes various widget classes, as well as some shorthands for
more complex objects.  This method is called implicitly whenever a non-widget is
attempted to be added to a Widget.</p>

<p>You can read up on the syntacies for each builtin widget within the widget
<a href="/widgets/builtins">documentation</a>.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>data:</strong>  The structure to convert. See below for formats.</li>
<li><strong>**widget_args:</strong>  Arguments passed straight to the widget constructor.</li>
</ul>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>The widget or list of widgets created, or None if the passed structure could
  not be converted.</p>
</blockquote>

<p>Example:</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="kn">from</span> <span class="nn">pytermgui</span> <span class="kn">import</span> <span class="n">Container</span>
<span class="n">form</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">Container</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s2">&quot;form&quot;</span><span class="p">)</span>
    <span class="o">+</span> <span class="s2">&quot;[157 bold]This is a title&quot;</span>
    <span class="o">+</span> <span class="s2">&quot;&quot;</span>
    <span class="o">+</span> <span class="p">{</span><span class="s2">&quot;[72 italic]Label1&quot;</span><span class="p">:</span> <span class="s2">&quot;[210]Button1&quot;</span><span class="p">}</span>
    <span class="o">+</span> <span class="p">{</span><span class="s2">&quot;[72 italic]Label2&quot;</span><span class="p">:</span> <span class="s2">&quot;[210]Button2&quot;</span><span class="p">}</span>
    <span class="o">+</span> <span class="p">{</span><span class="s2">&quot;[72 italic]Label3&quot;</span><span class="p">:</span> <span class="s2">&quot;[210]Button3&quot;</span><span class="p">}</span>
    <span class="o">+</span> <span class="s2">&quot;&quot;</span>
    <span class="o">+</span> <span class="p">[</span><span class="s2">&quot;Submit&quot;</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">_</span><span class="p">,</span> <span class="n">button</span><span class="p">,</span> <span class="n">your_submit_handler</span><span class="p">(</span><span class="n">button</span><span class="o">.</span><span class="n">parent</span><span class="p">)]</span>
<span class="p">)</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="Widget.bindings" class="classattr">
                                <div class="attr variable">
            <span class="name">bindings</span><span class="annotation">: dict[typing.Union[str, typing.Type[<a href="../ansi_interface.html#MouseEvent">pytermgui.ansi_interface.MouseEvent</a>]], tuple[typing.Callable[..., typing.Any], str]]</span>

        
    </div>
    <a class="headerlink" href="#Widget.bindings"></a>
    
            <div class="docstring"><p>Gets a copy of the bindings internal dictionary.</p>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>A copy of the internal bindings dictionary, such as:</p>

<pre><code>{
    "*": (star_callback, "This is a callback activated when '*' is pressed.")
}
</code></pre>
</blockquote>
</div>


                            </div>
                            <div id="Widget.id" class="classattr">
                                <div class="attr variable">
            <span class="name">id</span><span class="annotation">: Optional[str]</span>

        
    </div>
    <a class="headerlink" href="#Widget.id"></a>
    
            <div class="docstring"><p>Gets this widget's id property</p>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>The id string if one is present, None otherwise.</p>
</blockquote>
</div>


                            </div>
                            <div id="Widget.selectables_length" class="classattr">
                                <div class="attr variable">
            <span class="name">selectables_length</span><span class="annotation">: int</span>

        
    </div>
    <a class="headerlink" href="#Widget.selectables_length"></a>
    
            <div class="docstring"><p>Gets how many selectables this widget contains.</p>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>An integer describing the amount of selectables in this widget.</p>
</blockquote>
</div>


                            </div>
                            <div id="Widget.selectables" class="classattr">
                                <div class="attr variable">
            <span class="name">selectables</span><span class="annotation">: list[tuple[<a href="#Widget">pytermgui.widgets.base.Widget</a>, int]]</span>

        
    </div>
    <a class="headerlink" href="#Widget.selectables"></a>
    
            <div class="docstring"><p>Gets a list of all selectables within this widget</p>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>A list of tuples. In the default implementation this will be
  a list of one tuple, containing a reference to <code>self</code>, as well
  as the lowest index, 0.</p>
</blockquote>
</div>


                            </div>
                            <div id="Widget.is_selectable" class="classattr">
                                <div class="attr variable">
            <span class="name">is_selectable</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#Widget.is_selectable"></a>
    
            <div class="docstring"><p>Determines whether this widget has any selectables.</p>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>A boolean, representing <code>self.selectables_length != 0</code>.</p>
</blockquote>
</div>


                            </div>
                            <div id="Widget.static_width" class="classattr">
                                <div class="attr variable">
            <span class="name">static_width</span><span class="annotation">: int</span>

        
    </div>
    <a class="headerlink" href="#Widget.static_width"></a>
    
            <div class="docstring"><p>Allows for a shorter way of setting a width, and SizePolicy.STATIC.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>value:</strong>  The new width integer.</li>
</ul>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>None, as this is setter only.</p>
</blockquote>
</div>


                            </div>
                            <div id="Widget.relative_width" class="classattr">
                                <div class="attr variable">
            <span class="name">relative_width</span><span class="annotation">: float | None</span>

        
    </div>
    <a class="headerlink" href="#Widget.relative_width"></a>
    
            <div class="docstring"><p>Sets this widget's relative width, and changes size_policy to RELATIVE.</p>

<p>The value is clamped to 1.0.</p>

<p>If a Container holds a width of 30, and it has a subwidget with a relative
width of 0.5, it will be resized to 15.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>value:</strong>  The multiplier to apply to the parent's width.</li>
</ul>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>The current relative_width.</p>
</blockquote>
</div>


                            </div>
                            <div id="Widget.terminal" class="classattr">
                                <div class="attr variable">
            <span class="name">terminal</span><span class="annotation">: <a href="../term.html#Terminal">pytermgui.term.Terminal</a></span>

        
    </div>
    <a class="headerlink" href="#Widget.terminal"></a>
    
            <div class="docstring"><p>Returns the current global terminal instance.</p>
</div>


                            </div>
                            <div id="Widget.get_change" class="classattr">
                                        <input id="Widget.get_change-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_change</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="n">pytermgui</span><span class="o">.</span><span class="n">enums</span><span class="o">.</span><span class="n">WidgetChange</span> <span class="o">|</span> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="Widget.get_change-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Widget.get_change"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Widget.get_change-343"><a href="#Widget.get_change-343"><span class="linenos">343</span></a>    <span class="k">def</span> <span class="nf">get_change</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WidgetChange</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Widget.get_change-344"><a href="#Widget.get_change-344"><span class="linenos">344</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Determines whether widget lines changed since the last call to this function.&quot;&quot;&quot;</span>
</span><span id="Widget.get_change-345"><a href="#Widget.get_change-345"><span class="linenos">345</span></a>
</span><span id="Widget.get_change-346"><a href="#Widget.get_change-346"><span class="linenos">346</span></a>        <span class="n">lines</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_lines</span><span class="p">()</span>
</span><span id="Widget.get_change-347"><a href="#Widget.get_change-347"><span class="linenos">347</span></a>
</span><span id="Widget.get_change-348"><a href="#Widget.get_change-348"><span class="linenos">348</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_previous_state</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Widget.get_change-349"><a href="#Widget.get_change-349"><span class="linenos">349</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_previous_state</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">),</span> <span class="n">lines</span>
</span><span id="Widget.get_change-350"><a href="#Widget.get_change-350"><span class="linenos">350</span></a>            <span class="k">return</span> <span class="n">WidgetChange</span><span class="o">.</span><span class="n">LINES</span>
</span><span id="Widget.get_change-351"><a href="#Widget.get_change-351"><span class="linenos">351</span></a>
</span><span id="Widget.get_change-352"><a href="#Widget.get_change-352"><span class="linenos">352</span></a>        <span class="n">lines</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_lines</span><span class="p">()</span>
</span><span id="Widget.get_change-353"><a href="#Widget.get_change-353"><span class="linenos">353</span></a>        <span class="p">(</span><span class="n">old_width</span><span class="p">,</span> <span class="n">old_height</span><span class="p">),</span> <span class="n">old_lines</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_previous_state</span>
</span><span id="Widget.get_change-354"><a href="#Widget.get_change-354"><span class="linenos">354</span></a>
</span><span id="Widget.get_change-355"><a href="#Widget.get_change-355"><span class="linenos">355</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_previous_state</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">),</span> <span class="n">lines</span>
</span><span id="Widget.get_change-356"><a href="#Widget.get_change-356"><span class="linenos">356</span></a>
</span><span id="Widget.get_change-357"><a href="#Widget.get_change-357"><span class="linenos">357</span></a>        <span class="k">if</span> <span class="n">old_width</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="ow">and</span> <span class="n">old_height</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">:</span>
</span><span id="Widget.get_change-358"><a href="#Widget.get_change-358"><span class="linenos">358</span></a>            <span class="k">return</span> <span class="n">WidgetChange</span><span class="o">.</span><span class="n">SIZE</span>
</span><span id="Widget.get_change-359"><a href="#Widget.get_change-359"><span class="linenos">359</span></a>
</span><span id="Widget.get_change-360"><a href="#Widget.get_change-360"><span class="linenos">360</span></a>        <span class="k">if</span> <span class="n">old_width</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">:</span>
</span><span id="Widget.get_change-361"><a href="#Widget.get_change-361"><span class="linenos">361</span></a>            <span class="k">return</span> <span class="n">WidgetChange</span><span class="o">.</span><span class="n">WIDTH</span>
</span><span id="Widget.get_change-362"><a href="#Widget.get_change-362"><span class="linenos">362</span></a>
</span><span id="Widget.get_change-363"><a href="#Widget.get_change-363"><span class="linenos">363</span></a>        <span class="k">if</span> <span class="n">old_height</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">:</span>
</span><span id="Widget.get_change-364"><a href="#Widget.get_change-364"><span class="linenos">364</span></a>            <span class="k">return</span> <span class="n">WidgetChange</span><span class="o">.</span><span class="n">HEIGHT</span>
</span><span id="Widget.get_change-365"><a href="#Widget.get_change-365"><span class="linenos">365</span></a>
</span><span id="Widget.get_change-366"><a href="#Widget.get_change-366"><span class="linenos">366</span></a>        <span class="k">if</span> <span class="n">old_lines</span> <span class="o">!=</span> <span class="n">lines</span><span class="p">:</span>
</span><span id="Widget.get_change-367"><a href="#Widget.get_change-367"><span class="linenos">367</span></a>            <span class="k">return</span> <span class="n">WidgetChange</span><span class="o">.</span><span class="n">LINES</span>
</span><span id="Widget.get_change-368"><a href="#Widget.get_change-368"><span class="linenos">368</span></a>
</span><span id="Widget.get_change-369"><a href="#Widget.get_change-369"><span class="linenos">369</span></a>        <span class="k">return</span> <span class="kc">None</span>
</span></pre></div>


            <div class="docstring"><p>Determines whether widget lines changed since the last call to this function.</p>
</div>


                            </div>
                            <div id="Widget.contains" class="classattr">
                                        <input id="Widget.contains-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">contains</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">pos</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span></span><span class="return-annotation">) -> <span class="nb">bool</span>:</span></span>

                <label class="view-source-button" for="Widget.contains-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Widget.contains"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Widget.contains-371"><a href="#Widget.contains-371"><span class="linenos">371</span></a>    <span class="k">def</span> <span class="nf">contains</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pos</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="Widget.contains-372"><a href="#Widget.contains-372"><span class="linenos">372</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Determines whether widget contains `pos`.</span>
</span><span id="Widget.contains-373"><a href="#Widget.contains-373"><span class="linenos">373</span></a>
</span><span id="Widget.contains-374"><a href="#Widget.contains-374"><span class="linenos">374</span></a><span class="sd">        Args:</span>
</span><span id="Widget.contains-375"><a href="#Widget.contains-375"><span class="linenos">375</span></a><span class="sd">            pos: Position to compare.</span>
</span><span id="Widget.contains-376"><a href="#Widget.contains-376"><span class="linenos">376</span></a>
</span><span id="Widget.contains-377"><a href="#Widget.contains-377"><span class="linenos">377</span></a><span class="sd">        Returns:</span>
</span><span id="Widget.contains-378"><a href="#Widget.contains-378"><span class="linenos">378</span></a><span class="sd">            Boolean describing whether the position is inside</span>
</span><span id="Widget.contains-379"><a href="#Widget.contains-379"><span class="linenos">379</span></a><span class="sd">                this widget.</span>
</span><span id="Widget.contains-380"><a href="#Widget.contains-380"><span class="linenos">380</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Widget.contains-381"><a href="#Widget.contains-381"><span class="linenos">381</span></a>
</span><span id="Widget.contains-382"><a href="#Widget.contains-382"><span class="linenos">382</span></a>        <span class="n">rect</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pos</span><span class="p">,</span> <span class="p">(</span>
</span><span id="Widget.contains-383"><a href="#Widget.contains-383"><span class="linenos">383</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">,</span>
</span><span id="Widget.contains-384"><a href="#Widget.contains-384"><span class="linenos">384</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">,</span>
</span><span id="Widget.contains-385"><a href="#Widget.contains-385"><span class="linenos">385</span></a>        <span class="p">)</span>
</span><span id="Widget.contains-386"><a href="#Widget.contains-386"><span class="linenos">386</span></a>
</span><span id="Widget.contains-387"><a href="#Widget.contains-387"><span class="linenos">387</span></a>        <span class="p">(</span><span class="n">left</span><span class="p">,</span> <span class="n">top</span><span class="p">),</span> <span class="p">(</span><span class="n">right</span><span class="p">,</span> <span class="n">bottom</span><span class="p">)</span> <span class="o">=</span> <span class="n">rect</span>
</span><span id="Widget.contains-388"><a href="#Widget.contains-388"><span class="linenos">388</span></a>
</span><span id="Widget.contains-389"><a href="#Widget.contains-389"><span class="linenos">389</span></a>        <span class="k">return</span> <span class="n">left</span> <span class="o">&lt;=</span> <span class="n">pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">right</span> <span class="ow">and</span> <span class="n">top</span> <span class="o">&lt;=</span> <span class="n">pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">bottom</span>
</span></pre></div>


            <div class="docstring"><p>Determines whether widget contains <code>pos</code>.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>pos:</strong>  Position to compare.</li>
</ul>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>Boolean describing whether the position is inside
      this widget.</p>
</blockquote>
</div>


                            </div>
                            <div id="Widget.handle_mouse" class="classattr">
                                        <input id="Widget.handle_mouse-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">handle_mouse</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">event</span><span class="p">:</span> <span class="n"><a href="../ansi_interface.html#MouseEvent">pytermgui.ansi_interface.MouseEvent</a></span></span><span class="return-annotation">) -> <span class="nb">bool</span>:</span></span>

                <label class="view-source-button" for="Widget.handle_mouse-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Widget.handle_mouse"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Widget.handle_mouse-391"><a href="#Widget.handle_mouse-391"><span class="linenos">391</span></a>    <span class="k">def</span> <span class="nf">handle_mouse</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="n">MouseEvent</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="Widget.handle_mouse-392"><a href="#Widget.handle_mouse-392"><span class="linenos">392</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Tries to call the most specific mouse handler function available.</span>
</span><span id="Widget.handle_mouse-393"><a href="#Widget.handle_mouse-393"><span class="linenos">393</span></a>
</span><span id="Widget.handle_mouse-394"><a href="#Widget.handle_mouse-394"><span class="linenos">394</span></a><span class="sd">        This function looks for a set of mouse action handlers. Each handler follows</span>
</span><span id="Widget.handle_mouse-395"><a href="#Widget.handle_mouse-395"><span class="linenos">395</span></a><span class="sd">        the format</span>
</span><span id="Widget.handle_mouse-396"><a href="#Widget.handle_mouse-396"><span class="linenos">396</span></a>
</span><span id="Widget.handle_mouse-397"><a href="#Widget.handle_mouse-397"><span class="linenos">397</span></a><span class="sd">            on_{event_name}</span>
</span><span id="Widget.handle_mouse-398"><a href="#Widget.handle_mouse-398"><span class="linenos">398</span></a>
</span><span id="Widget.handle_mouse-399"><a href="#Widget.handle_mouse-399"><span class="linenos">399</span></a><span class="sd">        For example, the handler triggered on MouseAction.LEFT_CLICK would be</span>
</span><span id="Widget.handle_mouse-400"><a href="#Widget.handle_mouse-400"><span class="linenos">400</span></a><span class="sd">        `on_left_click`. If no handler is found nothing is done.</span>
</span><span id="Widget.handle_mouse-401"><a href="#Widget.handle_mouse-401"><span class="linenos">401</span></a>
</span><span id="Widget.handle_mouse-402"><a href="#Widget.handle_mouse-402"><span class="linenos">402</span></a><span class="sd">        You can also define more general handlers, for example to group left &amp; right</span>
</span><span id="Widget.handle_mouse-403"><a href="#Widget.handle_mouse-403"><span class="linenos">403</span></a><span class="sd">        clicks you can use `on_click`, and to catch both up and down scroll you can use</span>
</span><span id="Widget.handle_mouse-404"><a href="#Widget.handle_mouse-404"><span class="linenos">404</span></a><span class="sd">        `on_scroll`. General handlers are only used if they are the most specific ones,</span>
</span><span id="Widget.handle_mouse-405"><a href="#Widget.handle_mouse-405"><span class="linenos">405</span></a><span class="sd">        i.e. there is no &quot;specific&quot; handler.</span>
</span><span id="Widget.handle_mouse-406"><a href="#Widget.handle_mouse-406"><span class="linenos">406</span></a>
</span><span id="Widget.handle_mouse-407"><a href="#Widget.handle_mouse-407"><span class="linenos">407</span></a><span class="sd">        Args:</span>
</span><span id="Widget.handle_mouse-408"><a href="#Widget.handle_mouse-408"><span class="linenos">408</span></a><span class="sd">            event: The event to handle.</span>
</span><span id="Widget.handle_mouse-409"><a href="#Widget.handle_mouse-409"><span class="linenos">409</span></a>
</span><span id="Widget.handle_mouse-410"><a href="#Widget.handle_mouse-410"><span class="linenos">410</span></a><span class="sd">        Returns:</span>
</span><span id="Widget.handle_mouse-411"><a href="#Widget.handle_mouse-411"><span class="linenos">411</span></a><span class="sd">            Whether the parent of this widget should treat it as one to &quot;stick&quot; events</span>
</span><span id="Widget.handle_mouse-412"><a href="#Widget.handle_mouse-412"><span class="linenos">412</span></a><span class="sd">            to, e.g. to keep sending mouse events to it. One can &quot;unstick&quot; a widget by</span>
</span><span id="Widget.handle_mouse-413"><a href="#Widget.handle_mouse-413"><span class="linenos">413</span></a><span class="sd">            returning False in the handler.</span>
</span><span id="Widget.handle_mouse-414"><a href="#Widget.handle_mouse-414"><span class="linenos">414</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Widget.handle_mouse-415"><a href="#Widget.handle_mouse-415"><span class="linenos">415</span></a>
</span><span id="Widget.handle_mouse-416"><a href="#Widget.handle_mouse-416"><span class="linenos">416</span></a>        <span class="k">def</span> <span class="nf">_get_names</span><span class="p">(</span><span class="n">action</span><span class="p">:</span> <span class="n">MouseAction</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="o">...</span><span class="p">]:</span>
</span><span id="Widget.handle_mouse-417"><a href="#Widget.handle_mouse-417"><span class="linenos">417</span></a>            <span class="k">if</span> <span class="n">action</span><span class="o">.</span><span class="n">value</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;hover&quot;</span><span class="p">,</span> <span class="s2">&quot;release&quot;</span><span class="p">]:</span>
</span><span id="Widget.handle_mouse-418"><a href="#Widget.handle_mouse-418"><span class="linenos">418</span></a>                <span class="k">return</span> <span class="p">(</span><span class="n">action</span><span class="o">.</span><span class="n">value</span><span class="p">,)</span>
</span><span id="Widget.handle_mouse-419"><a href="#Widget.handle_mouse-419"><span class="linenos">419</span></a>
</span><span id="Widget.handle_mouse-420"><a href="#Widget.handle_mouse-420"><span class="linenos">420</span></a>            <span class="n">parts</span> <span class="o">=</span> <span class="n">action</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;_&quot;</span><span class="p">)</span>
</span><span id="Widget.handle_mouse-421"><a href="#Widget.handle_mouse-421"><span class="linenos">421</span></a>
</span><span id="Widget.handle_mouse-422"><a href="#Widget.handle_mouse-422"><span class="linenos">422</span></a>            <span class="c1"># left click &amp; right click</span>
</span><span id="Widget.handle_mouse-423"><a href="#Widget.handle_mouse-423"><span class="linenos">423</span></a>            <span class="k">if</span> <span class="n">parts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;left&quot;</span><span class="p">,</span> <span class="s2">&quot;right&quot;</span><span class="p">]:</span>
</span><span id="Widget.handle_mouse-424"><a href="#Widget.handle_mouse-424"><span class="linenos">424</span></a>                <span class="k">return</span> <span class="p">(</span><span class="n">action</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">parts</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</span><span id="Widget.handle_mouse-425"><a href="#Widget.handle_mouse-425"><span class="linenos">425</span></a>
</span><span id="Widget.handle_mouse-426"><a href="#Widget.handle_mouse-426"><span class="linenos">426</span></a>            <span class="k">if</span> <span class="n">parts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;shift&quot;</span><span class="p">:</span>
</span><span id="Widget.handle_mouse-427"><a href="#Widget.handle_mouse-427"><span class="linenos">427</span></a>                <span class="k">return</span> <span class="p">(</span><span class="n">action</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;shift_</span><span class="si">{</span><span class="n">parts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">parts</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</span><span id="Widget.handle_mouse-428"><a href="#Widget.handle_mouse-428"><span class="linenos">428</span></a>
</span><span id="Widget.handle_mouse-429"><a href="#Widget.handle_mouse-429"><span class="linenos">429</span></a>            <span class="c1"># scroll up &amp; down</span>
</span><span id="Widget.handle_mouse-430"><a href="#Widget.handle_mouse-430"><span class="linenos">430</span></a>            <span class="k">return</span> <span class="p">(</span><span class="n">action</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">parts</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</span><span id="Widget.handle_mouse-431"><a href="#Widget.handle_mouse-431"><span class="linenos">431</span></a>
</span><span id="Widget.handle_mouse-432"><a href="#Widget.handle_mouse-432"><span class="linenos">432</span></a>        <span class="n">possible_names</span> <span class="o">=</span> <span class="n">_get_names</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">action</span><span class="p">)</span>
</span><span id="Widget.handle_mouse-433"><a href="#Widget.handle_mouse-433"><span class="linenos">433</span></a>        <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">possible_names</span><span class="p">:</span>
</span><span id="Widget.handle_mouse-434"><a href="#Widget.handle_mouse-434"><span class="linenos">434</span></a>            <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;on_</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">):</span>
</span><span id="Widget.handle_mouse-435"><a href="#Widget.handle_mouse-435"><span class="linenos">435</span></a>                <span class="n">handle</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;on_</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="Widget.handle_mouse-436"><a href="#Widget.handle_mouse-436"><span class="linenos">436</span></a>
</span><span id="Widget.handle_mouse-437"><a href="#Widget.handle_mouse-437"><span class="linenos">437</span></a>                <span class="k">return</span> <span class="n">handle</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
</span><span id="Widget.handle_mouse-438"><a href="#Widget.handle_mouse-438"><span class="linenos">438</span></a>
</span><span id="Widget.handle_mouse-439"><a href="#Widget.handle_mouse-439"><span class="linenos">439</span></a>        <span class="k">return</span> <span class="kc">False</span>
</span></pre></div>


            <div class="docstring"><p>Tries to call the most specific mouse handler function available.</p>

<p>This function looks for a set of mouse action handlers. Each handler follows
the format</p>

<pre><code>on_{event_name}
</code></pre>

<p>For example, the handler triggered on MouseAction.LEFT_CLICK would be
<code>on_left_click</code>. If no handler is found nothing is done.</p>

<p>You can also define more general handlers, for example to group left &amp; right
clicks you can use <code>on_click</code>, and to catch both up and down scroll you can use
<code>on_scroll</code>. General handlers are only used if they are the most specific ones,
i.e. there is no "specific" handler.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>event:</strong>  The event to handle.</li>
</ul>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>Whether the parent of this widget should treat it as one to "stick" events
  to, e.g. to keep sending mouse events to it. One can "unstick" a widget by
  returning False in the handler.</p>
</blockquote>
</div>


                            </div>
                            <div id="Widget.handle_key" class="classattr">
                                        <input id="Widget.handle_key-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">handle_key</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">key</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">) -> <span class="nb">bool</span>:</span></span>

                <label class="view-source-button" for="Widget.handle_key-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Widget.handle_key"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Widget.handle_key-441"><a href="#Widget.handle_key-441"><span class="linenos">441</span></a>    <span class="k">def</span> <span class="nf">handle_key</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="Widget.handle_key-442"><a href="#Widget.handle_key-442"><span class="linenos">442</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Handles a mouse event, returning its success.</span>
</span><span id="Widget.handle_key-443"><a href="#Widget.handle_key-443"><span class="linenos">443</span></a>
</span><span id="Widget.handle_key-444"><a href="#Widget.handle_key-444"><span class="linenos">444</span></a><span class="sd">        Args:</span>
</span><span id="Widget.handle_key-445"><a href="#Widget.handle_key-445"><span class="linenos">445</span></a><span class="sd">            key: String representation of input string.</span>
</span><span id="Widget.handle_key-446"><a href="#Widget.handle_key-446"><span class="linenos">446</span></a><span class="sd">                The `pytermgui.input.keys` object can be</span>
</span><span id="Widget.handle_key-447"><a href="#Widget.handle_key-447"><span class="linenos">447</span></a><span class="sd">                used to retrieve special keys.</span>
</span><span id="Widget.handle_key-448"><a href="#Widget.handle_key-448"><span class="linenos">448</span></a>
</span><span id="Widget.handle_key-449"><a href="#Widget.handle_key-449"><span class="linenos">449</span></a><span class="sd">        Returns:</span>
</span><span id="Widget.handle_key-450"><a href="#Widget.handle_key-450"><span class="linenos">450</span></a><span class="sd">            A boolean describing whether the key was handled.</span>
</span><span id="Widget.handle_key-451"><a href="#Widget.handle_key-451"><span class="linenos">451</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Widget.handle_key-452"><a href="#Widget.handle_key-452"><span class="linenos">452</span></a>
</span><span id="Widget.handle_key-453"><a href="#Widget.handle_key-453"><span class="linenos">453</span></a>        <span class="k">return</span> <span class="kc">False</span> <span class="ow">and</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Handles a mouse event, returning its success.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>key:</strong>  String representation of input string.
The <code><a href="../input.html#keys">pytermgui.input.keys</a></code> object can be
used to retrieve special keys.</li>
</ul>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>A boolean describing whether the key was handled.</p>
</blockquote>
</div>


                            </div>
                            <div id="Widget.serialize" class="classattr">
                                        <input id="Widget.serialize-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">serialize</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="Widget.serialize-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Widget.serialize"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Widget.serialize-455"><a href="#Widget.serialize-455"><span class="linenos">455</span></a>    <span class="k">def</span> <span class="nf">serialize</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
</span><span id="Widget.serialize-456"><a href="#Widget.serialize-456"><span class="linenos">456</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Serializes a widget.</span>
</span><span id="Widget.serialize-457"><a href="#Widget.serialize-457"><span class="linenos">457</span></a>
</span><span id="Widget.serialize-458"><a href="#Widget.serialize-458"><span class="linenos">458</span></a><span class="sd">        The fields looked at are defined `Widget.serialized`. Note that</span>
</span><span id="Widget.serialize-459"><a href="#Widget.serialize-459"><span class="linenos">459</span></a><span class="sd">        this method is not very commonly used at the moment, so it might</span>
</span><span id="Widget.serialize-460"><a href="#Widget.serialize-460"><span class="linenos">460</span></a><span class="sd">        not have full functionality in non-nuclear widgets.</span>
</span><span id="Widget.serialize-461"><a href="#Widget.serialize-461"><span class="linenos">461</span></a>
</span><span id="Widget.serialize-462"><a href="#Widget.serialize-462"><span class="linenos">462</span></a><span class="sd">        Returns:</span>
</span><span id="Widget.serialize-463"><a href="#Widget.serialize-463"><span class="linenos">463</span></a><span class="sd">            Dictionary of widget attributes. The dictionary will always</span>
</span><span id="Widget.serialize-464"><a href="#Widget.serialize-464"><span class="linenos">464</span></a><span class="sd">            have a `type` field. Any styles are converted into markup</span>
</span><span id="Widget.serialize-465"><a href="#Widget.serialize-465"><span class="linenos">465</span></a><span class="sd">            strings during serialization, so they can be loaded again in</span>
</span><span id="Widget.serialize-466"><a href="#Widget.serialize-466"><span class="linenos">466</span></a><span class="sd">            their original form.</span>
</span><span id="Widget.serialize-467"><a href="#Widget.serialize-467"><span class="linenos">467</span></a>
</span><span id="Widget.serialize-468"><a href="#Widget.serialize-468"><span class="linenos">468</span></a><span class="sd">            Example return:</span>
</span><span id="Widget.serialize-469"><a href="#Widget.serialize-469"><span class="linenos">469</span></a><span class="sd">            ```</span>
</span><span id="Widget.serialize-470"><a href="#Widget.serialize-470"><span class="linenos">470</span></a><span class="sd">                {</span>
</span><span id="Widget.serialize-471"><a href="#Widget.serialize-471"><span class="linenos">471</span></a><span class="sd">                    &quot;type&quot;: &quot;Label&quot;,</span>
</span><span id="Widget.serialize-472"><a href="#Widget.serialize-472"><span class="linenos">472</span></a><span class="sd">                    &quot;value&quot;: &quot;[210 bold]I am a title&quot;,</span>
</span><span id="Widget.serialize-473"><a href="#Widget.serialize-473"><span class="linenos">473</span></a><span class="sd">                    &quot;parent_align&quot;: 0,</span>
</span><span id="Widget.serialize-474"><a href="#Widget.serialize-474"><span class="linenos">474</span></a><span class="sd">                    ...</span>
</span><span id="Widget.serialize-475"><a href="#Widget.serialize-475"><span class="linenos">475</span></a><span class="sd">                }</span>
</span><span id="Widget.serialize-476"><a href="#Widget.serialize-476"><span class="linenos">476</span></a><span class="sd">            ```</span>
</span><span id="Widget.serialize-477"><a href="#Widget.serialize-477"><span class="linenos">477</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Widget.serialize-478"><a href="#Widget.serialize-478"><span class="linenos">478</span></a>
</span><span id="Widget.serialize-479"><a href="#Widget.serialize-479"><span class="linenos">479</span></a>        <span class="n">fields</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_serialized_fields</span>
</span><span id="Widget.serialize-480"><a href="#Widget.serialize-480"><span class="linenos">480</span></a>
</span><span id="Widget.serialize-481"><a href="#Widget.serialize-481"><span class="linenos">481</span></a>        <span class="n">out</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="p">}</span>
</span><span id="Widget.serialize-482"><a href="#Widget.serialize-482"><span class="linenos">482</span></a>        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">fields</span><span class="p">:</span>
</span><span id="Widget.serialize-483"><a href="#Widget.serialize-483"><span class="linenos">483</span></a>            <span class="c1"># Detect styled values</span>
</span><span id="Widget.serialize-484"><a href="#Widget.serialize-484"><span class="linenos">484</span></a>            <span class="k">if</span> <span class="n">key</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;*&quot;</span><span class="p">):</span>
</span><span id="Widget.serialize-485"><a href="#Widget.serialize-485"><span class="linenos">485</span></a>                <span class="n">style</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="Widget.serialize-486"><a href="#Widget.serialize-486"><span class="linenos">486</span></a>                <span class="n">key</span> <span class="o">=</span> <span class="n">key</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
</span><span id="Widget.serialize-487"><a href="#Widget.serialize-487"><span class="linenos">487</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="Widget.serialize-488"><a href="#Widget.serialize-488"><span class="linenos">488</span></a>                <span class="n">style</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="Widget.serialize-489"><a href="#Widget.serialize-489"><span class="linenos">489</span></a>
</span><span id="Widget.serialize-490"><a href="#Widget.serialize-490"><span class="linenos">490</span></a>            <span class="n">value</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span>
</span><span id="Widget.serialize-491"><a href="#Widget.serialize-491"><span class="linenos">491</span></a>
</span><span id="Widget.serialize-492"><a href="#Widget.serialize-492"><span class="linenos">492</span></a>            <span class="c1"># Convert styled value into markup</span>
</span><span id="Widget.serialize-493"><a href="#Widget.serialize-493"><span class="linenos">493</span></a>            <span class="k">if</span> <span class="n">style</span><span class="p">:</span>
</span><span id="Widget.serialize-494"><a href="#Widget.serialize-494"><span class="linenos">494</span></a>                <span class="n">style_call</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_style</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
</span><span id="Widget.serialize-495"><a href="#Widget.serialize-495"><span class="linenos">495</span></a>                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
</span><span id="Widget.serialize-496"><a href="#Widget.serialize-496"><span class="linenos">496</span></a>                    <span class="n">out</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">get_markup</span><span class="p">(</span><span class="n">style_call</span><span class="p">(</span><span class="n">char</span><span class="p">))</span> <span class="k">for</span> <span class="n">char</span> <span class="ow">in</span> <span class="n">value</span><span class="p">]</span>
</span><span id="Widget.serialize-497"><a href="#Widget.serialize-497"><span class="linenos">497</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="Widget.serialize-498"><a href="#Widget.serialize-498"><span class="linenos">498</span></a>                    <span class="n">out</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">get_markup</span><span class="p">(</span><span class="n">style_call</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>
</span><span id="Widget.serialize-499"><a href="#Widget.serialize-499"><span class="linenos">499</span></a>
</span><span id="Widget.serialize-500"><a href="#Widget.serialize-500"><span class="linenos">500</span></a>                <span class="k">continue</span>
</span><span id="Widget.serialize-501"><a href="#Widget.serialize-501"><span class="linenos">501</span></a>
</span><span id="Widget.serialize-502"><a href="#Widget.serialize-502"><span class="linenos">502</span></a>            <span class="n">out</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
</span><span id="Widget.serialize-503"><a href="#Widget.serialize-503"><span class="linenos">503</span></a>
</span><span id="Widget.serialize-504"><a href="#Widget.serialize-504"><span class="linenos">504</span></a>        <span class="c1"># The chars need to be handled separately</span>
</span><span id="Widget.serialize-505"><a href="#Widget.serialize-505"><span class="linenos">505</span></a>        <span class="n">out</span><span class="p">[</span><span class="s2">&quot;chars&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="Widget.serialize-506"><a href="#Widget.serialize-506"><span class="linenos">506</span></a>        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">chars</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="Widget.serialize-507"><a href="#Widget.serialize-507"><span class="linenos">507</span></a>            <span class="n">style_call</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_style</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
</span><span id="Widget.serialize-508"><a href="#Widget.serialize-508"><span class="linenos">508</span></a>
</span><span id="Widget.serialize-509"><a href="#Widget.serialize-509"><span class="linenos">509</span></a>            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
</span><span id="Widget.serialize-510"><a href="#Widget.serialize-510"><span class="linenos">510</span></a>                <span class="n">out</span><span class="p">[</span><span class="s2">&quot;chars&quot;</span><span class="p">][</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">get_markup</span><span class="p">(</span><span class="n">style_call</span><span class="p">(</span><span class="n">char</span><span class="p">))</span> <span class="k">for</span> <span class="n">char</span> <span class="ow">in</span> <span class="n">value</span><span class="p">]</span>
</span><span id="Widget.serialize-511"><a href="#Widget.serialize-511"><span class="linenos">511</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="Widget.serialize-512"><a href="#Widget.serialize-512"><span class="linenos">512</span></a>                <span class="n">out</span><span class="p">[</span><span class="s2">&quot;chars&quot;</span><span class="p">][</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">get_markup</span><span class="p">(</span><span class="n">style_call</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>
</span><span id="Widget.serialize-513"><a href="#Widget.serialize-513"><span class="linenos">513</span></a>
</span><span id="Widget.serialize-514"><a href="#Widget.serialize-514"><span class="linenos">514</span></a>        <span class="k">return</span> <span class="n">out</span>
</span></pre></div>


            <div class="docstring"><p>Serializes a widget.</p>

<p>The fields looked at are defined <code><a href="#Widget.serialized">Widget.serialized</a></code>. Note that
this method is not very commonly used at the moment, so it might
not have full functionality in non-nuclear widgets.</p>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>Dictionary of widget attributes. The dictionary will always
  have a <code>type</code> field. Any styles are converted into markup
  strings during serialization, so they can be loaded again in
  their original form.</p>
  
  <p>Example return:</p>

<pre><code>    {
        "type": "Label",
        "value": "[210 bold]I am a title",
        "parent_align": 0,
        ...
    }
</code></pre>
</blockquote>
</div>


                            </div>
                            <div id="Widget.copy" class="classattr">
                                        <input id="Widget.copy-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">copy</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="n"><a href="#Widget">pytermgui.widgets.base.Widget</a></span>:</span></span>

                <label class="view-source-button" for="Widget.copy-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Widget.copy"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Widget.copy-516"><a href="#Widget.copy-516"><span class="linenos">516</span></a>    <span class="k">def</span> <span class="nf">copy</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Widget</span><span class="p">:</span>
</span><span id="Widget.copy-517"><a href="#Widget.copy-517"><span class="linenos">517</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a deep copy of this widget&quot;&quot;&quot;</span>
</span><span id="Widget.copy-518"><a href="#Widget.copy-518"><span class="linenos">518</span></a>
</span><span id="Widget.copy-519"><a href="#Widget.copy-519"><span class="linenos">519</span></a>        <span class="k">return</span> <span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Creates a deep copy of this widget</p>
</div>


                            </div>
                            <div id="Widget.get_lines" class="classattr">
                                        <input id="Widget.get_lines-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_lines</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="Widget.get_lines-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Widget.get_lines"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Widget.get_lines-564"><a href="#Widget.get_lines-564"><span class="linenos">564</span></a>    <span class="k">def</span> <span class="nf">get_lines</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
</span><span id="Widget.get_lines-565"><a href="#Widget.get_lines-565"><span class="linenos">565</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets lines representing this widget.</span>
</span><span id="Widget.get_lines-566"><a href="#Widget.get_lines-566"><span class="linenos">566</span></a>
</span><span id="Widget.get_lines-567"><a href="#Widget.get_lines-567"><span class="linenos">567</span></a><span class="sd">        These lines have to be equal to the widget in length. All</span>
</span><span id="Widget.get_lines-568"><a href="#Widget.get_lines-568"><span class="linenos">568</span></a><span class="sd">        widgets must provide this method. Make sure to keep it performant,</span>
</span><span id="Widget.get_lines-569"><a href="#Widget.get_lines-569"><span class="linenos">569</span></a><span class="sd">        as it will be called very often, often multiple times per WindowManager frame.</span>
</span><span id="Widget.get_lines-570"><a href="#Widget.get_lines-570"><span class="linenos">570</span></a>
</span><span id="Widget.get_lines-571"><a href="#Widget.get_lines-571"><span class="linenos">571</span></a><span class="sd">        Any longer actions should be done outside of this method, and only their</span>
</span><span id="Widget.get_lines-572"><a href="#Widget.get_lines-572"><span class="linenos">572</span></a><span class="sd">        result should be looked up here.</span>
</span><span id="Widget.get_lines-573"><a href="#Widget.get_lines-573"><span class="linenos">573</span></a>
</span><span id="Widget.get_lines-574"><a href="#Widget.get_lines-574"><span class="linenos">574</span></a><span class="sd">        Returns:</span>
</span><span id="Widget.get_lines-575"><a href="#Widget.get_lines-575"><span class="linenos">575</span></a><span class="sd">            Nothing by default.</span>
</span><span id="Widget.get_lines-576"><a href="#Widget.get_lines-576"><span class="linenos">576</span></a>
</span><span id="Widget.get_lines-577"><a href="#Widget.get_lines-577"><span class="linenos">577</span></a><span class="sd">        Raises:</span>
</span><span id="Widget.get_lines-578"><a href="#Widget.get_lines-578"><span class="linenos">578</span></a><span class="sd">            NotImplementedError: As this method is required for **all** widgets, not</span>
</span><span id="Widget.get_lines-579"><a href="#Widget.get_lines-579"><span class="linenos">579</span></a><span class="sd">                having it defined will raise NotImplementedError.</span>
</span><span id="Widget.get_lines-580"><a href="#Widget.get_lines-580"><span class="linenos">580</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Widget.get_lines-581"><a href="#Widget.get_lines-581"><span class="linenos">581</span></a>
</span><span id="Widget.get_lines-582"><a href="#Widget.get_lines-582"><span class="linenos">582</span></a>        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;get_lines() is not defined for type </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Gets lines representing this widget.</p>

<p>These lines have to be equal to the widget in length. All
widgets must provide this method. Make sure to keep it performant,
as it will be called very often, often multiple times per WindowManager frame.</p>

<p>Any longer actions should be done outside of this method, and only their
result should be looked up here.</p>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>Nothing by default.</p>
</blockquote>

<h6 id="raises">Raises:</h6>

<ul>
<li><strong>NotImplementedError:</strong>  As this method is required for <strong>all</strong> widgets, not
having it defined will raise NotImplementedError.</li>
</ul>
</div>


                            </div>
                            <div id="Widget.move" class="classattr">
                                        <input id="Widget.move-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">move</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">diff_x</span><span class="p">:</span> <span class="nb">int</span>, </span><span class="param"><span class="n">diff_y</span><span class="p">:</span> <span class="nb">int</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="Widget.move-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Widget.move"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Widget.move-584"><a href="#Widget.move-584"><span class="linenos">584</span></a>    <span class="k">def</span> <span class="nf">move</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">diff_x</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">diff_y</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Widget.move-585"><a href="#Widget.move-585"><span class="linenos">585</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Moves the widget by the given x and y changes.&quot;&quot;&quot;</span>
</span><span id="Widget.move-586"><a href="#Widget.move-586"><span class="linenos">586</span></a>
</span><span id="Widget.move-587"><a href="#Widget.move-587"><span class="linenos">587</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">pos</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">diff_x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">diff_y</span><span class="p">)</span>
</span><span id="Widget.move-588"><a href="#Widget.move-588"><span class="linenos">588</span></a>
</span><span id="Widget.move-589"><a href="#Widget.move-589"><span class="linenos">589</span></a>        <span class="n">adjusted</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Widget.move-590"><a href="#Widget.move-590"><span class="linenos">590</span></a>        <span class="k">for</span> <span class="n">pos</span><span class="p">,</span> <span class="n">line</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">positioned_line_buffer</span><span class="p">:</span>
</span><span id="Widget.move-591"><a href="#Widget.move-591"><span class="linenos">591</span></a>            <span class="n">adjusted</span><span class="o">.</span><span class="n">append</span><span class="p">(((</span><span class="n">pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">diff_x</span><span class="p">,</span> <span class="n">pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">diff_y</span><span class="p">),</span> <span class="n">line</span><span class="p">))</span>
</span><span id="Widget.move-592"><a href="#Widget.move-592"><span class="linenos">592</span></a>
</span><span id="Widget.move-593"><a href="#Widget.move-593"><span class="linenos">593</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">positioned_line_buffer</span> <span class="o">=</span> <span class="n">adjusted</span>
</span></pre></div>


            <div class="docstring"><p>Moves the widget by the given x and y changes.</p>
</div>


                            </div>
                            <div id="Widget.bind" class="classattr">
                                        <input id="Widget.bind-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">bind</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">key</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">action</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span>,</span><span class="param">	<span class="n">description</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="Widget.bind-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Widget.bind"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Widget.bind-595"><a href="#Widget.bind-595"><span class="linenos">595</span></a>    <span class="k">def</span> <span class="nf">bind</span><span class="p">(</span>
</span><span id="Widget.bind-596"><a href="#Widget.bind-596"><span class="linenos">596</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">action</span><span class="p">:</span> <span class="n">BoundCallback</span><span class="p">,</span> <span class="n">description</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Widget.bind-597"><a href="#Widget.bind-597"><span class="linenos">597</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Widget.bind-598"><a href="#Widget.bind-598"><span class="linenos">598</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Binds an action to a keypress.</span>
</span><span id="Widget.bind-599"><a href="#Widget.bind-599"><span class="linenos">599</span></a>
</span><span id="Widget.bind-600"><a href="#Widget.bind-600"><span class="linenos">600</span></a><span class="sd">        This function is only called by implementations above this layer. To use this</span>
</span><span id="Widget.bind-601"><a href="#Widget.bind-601"><span class="linenos">601</span></a><span class="sd">        functionality use `pytermgui.window_manager.WindowManager`, or write your own</span>
</span><span id="Widget.bind-602"><a href="#Widget.bind-602"><span class="linenos">602</span></a><span class="sd">        custom layer.</span>
</span><span id="Widget.bind-603"><a href="#Widget.bind-603"><span class="linenos">603</span></a>
</span><span id="Widget.bind-604"><a href="#Widget.bind-604"><span class="linenos">604</span></a><span class="sd">        Special keys:</span>
</span><span id="Widget.bind-605"><a href="#Widget.bind-605"><span class="linenos">605</span></a><span class="sd">        - keys.ANY_KEY: Any and all keypresses execute this binding.</span>
</span><span id="Widget.bind-606"><a href="#Widget.bind-606"><span class="linenos">606</span></a><span class="sd">        - keys.MouseAction: Any and all mouse inputs execute this binding.</span>
</span><span id="Widget.bind-607"><a href="#Widget.bind-607"><span class="linenos">607</span></a>
</span><span id="Widget.bind-608"><a href="#Widget.bind-608"><span class="linenos">608</span></a><span class="sd">        Args:</span>
</span><span id="Widget.bind-609"><a href="#Widget.bind-609"><span class="linenos">609</span></a><span class="sd">            key: The key that the action will be bound to.</span>
</span><span id="Widget.bind-610"><a href="#Widget.bind-610"><span class="linenos">610</span></a><span class="sd">            action: The action executed when the key is pressed.</span>
</span><span id="Widget.bind-611"><a href="#Widget.bind-611"><span class="linenos">611</span></a><span class="sd">            description: An optional description for this binding. It is not really</span>
</span><span id="Widget.bind-612"><a href="#Widget.bind-612"><span class="linenos">612</span></a><span class="sd">                used anywhere, but you can provide a helper menu and display them.</span>
</span><span id="Widget.bind-613"><a href="#Widget.bind-613"><span class="linenos">613</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Widget.bind-614"><a href="#Widget.bind-614"><span class="linenos">614</span></a>
</span><span id="Widget.bind-615"><a href="#Widget.bind-615"><span class="linenos">615</span></a>        <span class="k">if</span> <span class="n">description</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Widget.bind-616"><a href="#Widget.bind-616"><span class="linenos">616</span></a>            <span class="n">description</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Binding of </span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2"> to </span><span class="si">{</span><span class="n">action</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="Widget.bind-617"><a href="#Widget.bind-617"><span class="linenos">617</span></a>
</span><span id="Widget.bind-618"><a href="#Widget.bind-618"><span class="linenos">618</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_bindings</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">action</span><span class="p">,</span> <span class="n">description</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Binds an action to a keypress.</p>

<p>This function is only called by implementations above this layer. To use this
functionality use <code>pytermgui.window_manager.WindowManager</code>, or write your own
custom layer.</p>

<p>Special keys:</p>

<ul>
<li>keys.ANY_KEY: Any and all keypresses execute this binding.</li>
<li>keys.MouseAction: Any and all mouse inputs execute this binding.</li>
</ul>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>key:</strong>  The key that the action will be bound to.</li>
<li><strong>action:</strong>  The action executed when the key is pressed.</li>
<li><strong>description:</strong>  An optional description for this binding. It is not really
used anywhere, but you can provide a helper menu and display them.</li>
</ul>
</div>


                            </div>
                            <div id="Widget.unbind" class="classattr">
                                        <input id="Widget.unbind-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">unbind</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">key</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="Widget.unbind-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Widget.unbind"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Widget.unbind-620"><a href="#Widget.unbind-620"><span class="linenos">620</span></a>    <span class="k">def</span> <span class="nf">unbind</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Widget.unbind-621"><a href="#Widget.unbind-621"><span class="linenos">621</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Unbinds the given key.&quot;&quot;&quot;</span>
</span><span id="Widget.unbind-622"><a href="#Widget.unbind-622"><span class="linenos">622</span></a>
</span><span id="Widget.unbind-623"><a href="#Widget.unbind-623"><span class="linenos">623</span></a>        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">_bindings</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
</span></pre></div>


            <div class="docstring"><p>Unbinds the given key.</p>
</div>


                            </div>
                            <div id="Widget.execute_binding" class="classattr">
                                        <input id="Widget.execute_binding-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">execute_binding</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">key</span><span class="p">:</span> <span class="n">Any</span>, </span><span class="param"><span class="n">ignore_any</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span></span><span class="return-annotation">) -> <span class="nb">bool</span>:</span></span>

                <label class="view-source-button" for="Widget.execute_binding-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Widget.execute_binding"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Widget.execute_binding-625"><a href="#Widget.execute_binding-625"><span class="linenos">625</span></a>    <span class="k">def</span> <span class="nf">execute_binding</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">ignore_any</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="Widget.execute_binding-626"><a href="#Widget.execute_binding-626"><span class="linenos">626</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Executes a binding belonging to key, when present.</span>
</span><span id="Widget.execute_binding-627"><a href="#Widget.execute_binding-627"><span class="linenos">627</span></a>
</span><span id="Widget.execute_binding-628"><a href="#Widget.execute_binding-628"><span class="linenos">628</span></a><span class="sd">        Use this method inside custom widget `handle_keys` methods, or to run a callback</span>
</span><span id="Widget.execute_binding-629"><a href="#Widget.execute_binding-629"><span class="linenos">629</span></a><span class="sd">        without its corresponding key having been pressed.</span>
</span><span id="Widget.execute_binding-630"><a href="#Widget.execute_binding-630"><span class="linenos">630</span></a>
</span><span id="Widget.execute_binding-631"><a href="#Widget.execute_binding-631"><span class="linenos">631</span></a><span class="sd">        Args:</span>
</span><span id="Widget.execute_binding-632"><a href="#Widget.execute_binding-632"><span class="linenos">632</span></a><span class="sd">            key: Usually a string, indexing into the `_bindings` dictionary. These are the</span>
</span><span id="Widget.execute_binding-633"><a href="#Widget.execute_binding-633"><span class="linenos">633</span></a><span class="sd">                same strings as defined in `Widget.bind`.</span>
</span><span id="Widget.execute_binding-634"><a href="#Widget.execute_binding-634"><span class="linenos">634</span></a><span class="sd">            ignore_any: If set, `keys.ANY_KEY` bindings will not be executed.</span>
</span><span id="Widget.execute_binding-635"><a href="#Widget.execute_binding-635"><span class="linenos">635</span></a>
</span><span id="Widget.execute_binding-636"><a href="#Widget.execute_binding-636"><span class="linenos">636</span></a><span class="sd">        Returns:</span>
</span><span id="Widget.execute_binding-637"><a href="#Widget.execute_binding-637"><span class="linenos">637</span></a><span class="sd">            True if the binding was found, False otherwise. Bindings will always be</span>
</span><span id="Widget.execute_binding-638"><a href="#Widget.execute_binding-638"><span class="linenos">638</span></a><span class="sd">                executed if they are found.</span>
</span><span id="Widget.execute_binding-639"><a href="#Widget.execute_binding-639"><span class="linenos">639</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Widget.execute_binding-640"><a href="#Widget.execute_binding-640"><span class="linenos">640</span></a>
</span><span id="Widget.execute_binding-641"><a href="#Widget.execute_binding-641"><span class="linenos">641</span></a>        <span class="c1"># Execute special binding</span>
</span><span id="Widget.execute_binding-642"><a href="#Widget.execute_binding-642"><span class="linenos">642</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">ignore_any</span> <span class="ow">and</span> <span class="n">keys</span><span class="o">.</span><span class="n">ANY_KEY</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_bindings</span><span class="p">:</span>
</span><span id="Widget.execute_binding-643"><a href="#Widget.execute_binding-643"><span class="linenos">643</span></a>            <span class="n">method</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_bindings</span><span class="p">[</span><span class="n">keys</span><span class="o">.</span><span class="n">ANY_KEY</span><span class="p">]</span>
</span><span id="Widget.execute_binding-644"><a href="#Widget.execute_binding-644"><span class="linenos">644</span></a>            <span class="n">method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span>
</span><span id="Widget.execute_binding-645"><a href="#Widget.execute_binding-645"><span class="linenos">645</span></a>
</span><span id="Widget.execute_binding-646"><a href="#Widget.execute_binding-646"><span class="linenos">646</span></a>        <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_bindings</span><span class="p">:</span>
</span><span id="Widget.execute_binding-647"><a href="#Widget.execute_binding-647"><span class="linenos">647</span></a>            <span class="n">method</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_bindings</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
</span><span id="Widget.execute_binding-648"><a href="#Widget.execute_binding-648"><span class="linenos">648</span></a>            <span class="n">method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span>
</span><span id="Widget.execute_binding-649"><a href="#Widget.execute_binding-649"><span class="linenos">649</span></a>
</span><span id="Widget.execute_binding-650"><a href="#Widget.execute_binding-650"><span class="linenos">650</span></a>            <span class="k">return</span> <span class="kc">True</span>
</span><span id="Widget.execute_binding-651"><a href="#Widget.execute_binding-651"><span class="linenos">651</span></a>
</span><span id="Widget.execute_binding-652"><a href="#Widget.execute_binding-652"><span class="linenos">652</span></a>        <span class="k">return</span> <span class="kc">False</span>
</span></pre></div>


            <div class="docstring"><p>Executes a binding belonging to key, when present.</p>

<p>Use this method inside custom widget <code>handle_keys</code> methods, or to run a callback
without its corresponding key having been pressed.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>key:</strong>  Usually a string, indexing into the <code>_bindings</code> dictionary. These are the
same strings as defined in <code><a href="#Widget.bind">Widget.bind</a></code>.</li>
<li><strong>ignore_any:</strong>  If set, <code>keys.ANY_KEY</code> bindings will not be executed.</li>
</ul>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>True if the binding was found, False otherwise. Bindings will always be
      executed if they are found.</p>
</blockquote>
</div>


                            </div>
                            <div id="Widget.select" class="classattr">
                                        <input id="Widget.select-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">select</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">index</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="Widget.select-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Widget.select"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Widget.select-654"><a href="#Widget.select-654"><span class="linenos">654</span></a>    <span class="k">def</span> <span class="nf">select</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Widget.select-655"><a href="#Widget.select-655"><span class="linenos">655</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Selects a part of this Widget.</span>
</span><span id="Widget.select-656"><a href="#Widget.select-656"><span class="linenos">656</span></a>
</span><span id="Widget.select-657"><a href="#Widget.select-657"><span class="linenos">657</span></a><span class="sd">        Args:</span>
</span><span id="Widget.select-658"><a href="#Widget.select-658"><span class="linenos">658</span></a><span class="sd">            index: The index to select.</span>
</span><span id="Widget.select-659"><a href="#Widget.select-659"><span class="linenos">659</span></a>
</span><span id="Widget.select-660"><a href="#Widget.select-660"><span class="linenos">660</span></a><span class="sd">        Raises:</span>
</span><span id="Widget.select-661"><a href="#Widget.select-661"><span class="linenos">661</span></a><span class="sd">            TypeError: This widget has no selectables, i.e. widget.is_selectable == False.</span>
</span><span id="Widget.select-662"><a href="#Widget.select-662"><span class="linenos">662</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Widget.select-663"><a href="#Widget.select-663"><span class="linenos">663</span></a>
</span><span id="Widget.select-664"><a href="#Widget.select-664"><span class="linenos">664</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_selectable</span><span class="p">:</span>
</span><span id="Widget.select-665"><a href="#Widget.select-665"><span class="linenos">665</span></a>            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Object of type </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="si">}</span><span class="s2"> has no selectables.&quot;</span><span class="p">)</span>
</span><span id="Widget.select-666"><a href="#Widget.select-666"><span class="linenos">666</span></a>
</span><span id="Widget.select-667"><a href="#Widget.select-667"><span class="linenos">667</span></a>        <span class="k">if</span> <span class="n">index</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Widget.select-668"><a href="#Widget.select-668"><span class="linenos">668</span></a>            <span class="n">index</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">index</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">selectables_length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
</span><span id="Widget.select-669"><a href="#Widget.select-669"><span class="linenos">669</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">selected_index</span> <span class="o">=</span> <span class="n">index</span>
</span></pre></div>


            <div class="docstring"><p>Selects a part of this Widget.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>index:</strong>  The index to select.</li>
</ul>

<h6 id="raises">Raises:</h6>

<ul>
<li><strong>TypeError:</strong>  This widget has no selectables, i.e. widget.is_selectable == False.</li>
</ul>
</div>


                            </div>
                            <div id="Widget.print" class="classattr">
                                        <input id="Widget.print-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">print</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="Widget.print-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Widget.print"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Widget.print-671"><a href="#Widget.print-671"><span class="linenos">671</span></a>    <span class="k">def</span> <span class="nf">print</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Widget.print-672"><a href="#Widget.print-672"><span class="linenos">672</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Prints this widget&quot;&quot;&quot;</span>
</span><span id="Widget.print-673"><a href="#Widget.print-673"><span class="linenos">673</span></a>
</span><span id="Widget.print-674"><a href="#Widget.print-674"><span class="linenos">674</span></a>        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_lines</span><span class="p">():</span>
</span><span id="Widget.print-675"><a href="#Widget.print-675"><span class="linenos">675</span></a>            <span class="nb">print</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Prints this widget</p>
</div>


                            </div>
                            <div id="Widget.debug" class="classattr">
                                        <input id="Widget.debug-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">debug</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="nb">str</span>:</span></span>

                <label class="view-source-button" for="Widget.debug-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Widget.debug"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Widget.debug-677"><a href="#Widget.debug-677"><span class="linenos">677</span></a>    <span class="k">def</span> <span class="nf">debug</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="Widget.debug-678"><a href="#Widget.debug-678"><span class="linenos">678</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns identifiable information about this widget.</span>
</span><span id="Widget.debug-679"><a href="#Widget.debug-679"><span class="linenos">679</span></a>
</span><span id="Widget.debug-680"><a href="#Widget.debug-680"><span class="linenos">680</span></a><span class="sd">        This method is used to easily differentiate between widgets. By default, all widget&#39;s</span>
</span><span id="Widget.debug-681"><a href="#Widget.debug-681"><span class="linenos">681</span></a><span class="sd">        __repr__ method is an alias to this. The signature of each widget is used to generate</span>
</span><span id="Widget.debug-682"><a href="#Widget.debug-682"><span class="linenos">682</span></a><span class="sd">        the return value.</span>
</span><span id="Widget.debug-683"><a href="#Widget.debug-683"><span class="linenos">683</span></a>
</span><span id="Widget.debug-684"><a href="#Widget.debug-684"><span class="linenos">684</span></a><span class="sd">        Returns:</span>
</span><span id="Widget.debug-685"><a href="#Widget.debug-685"><span class="linenos">685</span></a><span class="sd">            A string almost exactly matching the line of code that could have defined the widget.</span>
</span><span id="Widget.debug-686"><a href="#Widget.debug-686"><span class="linenos">686</span></a>
</span><span id="Widget.debug-687"><a href="#Widget.debug-687"><span class="linenos">687</span></a><span class="sd">            Example return:</span>
</span><span id="Widget.debug-688"><a href="#Widget.debug-688"><span class="linenos">688</span></a>
</span><span id="Widget.debug-689"><a href="#Widget.debug-689"><span class="linenos">689</span></a><span class="sd">            ```</span>
</span><span id="Widget.debug-690"><a href="#Widget.debug-690"><span class="linenos">690</span></a><span class="sd">            Container(Label(value=&quot;This is a label&quot;, padding=0),</span>
</span><span id="Widget.debug-691"><a href="#Widget.debug-691"><span class="linenos">691</span></a><span class="sd">            Button(label=&quot;This is a button&quot;, padding=0), **attrs)</span>
</span><span id="Widget.debug-692"><a href="#Widget.debug-692"><span class="linenos">692</span></a><span class="sd">            ```</span>
</span><span id="Widget.debug-693"><a href="#Widget.debug-693"><span class="linenos">693</span></a>
</span><span id="Widget.debug-694"><a href="#Widget.debug-694"><span class="linenos">694</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Widget.debug-695"><a href="#Widget.debug-695"><span class="linenos">695</span></a>
</span><span id="Widget.debug-696"><a href="#Widget.debug-696"><span class="linenos">696</span></a>        <span class="n">constructor</span> <span class="o">=</span> <span class="s2">&quot;(&quot;</span>
</span><span id="Widget.debug-697"><a href="#Widget.debug-697"><span class="linenos">697</span></a>        <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">signature</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;__init__&quot;</span><span class="p">))</span><span class="o">.</span><span class="n">parameters</span><span class="p">:</span>
</span><span id="Widget.debug-698"><a href="#Widget.debug-698"><span class="linenos">698</span></a>            <span class="n">current</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</span><span id="Widget.debug-699"><a href="#Widget.debug-699"><span class="linenos">699</span></a>            <span class="k">if</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;attrs&quot;</span><span class="p">:</span>
</span><span id="Widget.debug-700"><a href="#Widget.debug-700"><span class="linenos">700</span></a>                <span class="n">current</span> <span class="o">+=</span> <span class="s2">&quot;**attrs&quot;</span>
</span><span id="Widget.debug-701"><a href="#Widget.debug-701"><span class="linenos">701</span></a>                <span class="k">continue</span>
</span><span id="Widget.debug-702"><a href="#Widget.debug-702"><span class="linenos">702</span></a>
</span><span id="Widget.debug-703"><a href="#Widget.debug-703"><span class="linenos">703</span></a>            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">constructor</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="Widget.debug-704"><a href="#Widget.debug-704"><span class="linenos">704</span></a>                <span class="n">current</span> <span class="o">+=</span> <span class="s2">&quot;, &quot;</span>
</span><span id="Widget.debug-705"><a href="#Widget.debug-705"><span class="linenos">705</span></a>
</span><span id="Widget.debug-706"><a href="#Widget.debug-706"><span class="linenos">706</span></a>            <span class="n">current</span> <span class="o">+=</span> <span class="n">name</span>
</span><span id="Widget.debug-707"><a href="#Widget.debug-707"><span class="linenos">707</span></a>
</span><span id="Widget.debug-708"><a href="#Widget.debug-708"><span class="linenos">708</span></a>            <span class="n">attr</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</span><span id="Widget.debug-709"><a href="#Widget.debug-709"><span class="linenos">709</span></a>            <span class="k">if</span> <span class="n">attr</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Widget.debug-710"><a href="#Widget.debug-710"><span class="linenos">710</span></a>                <span class="k">continue</span>
</span><span id="Widget.debug-711"><a href="#Widget.debug-711"><span class="linenos">711</span></a>
</span><span id="Widget.debug-712"><a href="#Widget.debug-712"><span class="linenos">712</span></a>            <span class="n">current</span> <span class="o">+=</span> <span class="s2">&quot;=&quot;</span>
</span><span id="Widget.debug-713"><a href="#Widget.debug-713"><span class="linenos">713</span></a>
</span><span id="Widget.debug-714"><a href="#Widget.debug-714"><span class="linenos">714</span></a>            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">attr</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="Widget.debug-715"><a href="#Widget.debug-715"><span class="linenos">715</span></a>                <span class="n">current</span> <span class="o">+=</span> <span class="sa">f</span><span class="s1">&#39;&quot;</span><span class="si">{</span><span class="n">attr</span><span class="si">}</span><span class="s1">&quot;&#39;</span>
</span><span id="Widget.debug-716"><a href="#Widget.debug-716"><span class="linenos">716</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="Widget.debug-717"><a href="#Widget.debug-717"><span class="linenos">717</span></a>                <span class="n">current</span> <span class="o">+=</span> <span class="nb">str</span><span class="p">(</span><span class="n">attr</span><span class="p">)</span>
</span><span id="Widget.debug-718"><a href="#Widget.debug-718"><span class="linenos">718</span></a>
</span><span id="Widget.debug-719"><a href="#Widget.debug-719"><span class="linenos">719</span></a>            <span class="n">constructor</span> <span class="o">+=</span> <span class="n">current</span>
</span><span id="Widget.debug-720"><a href="#Widget.debug-720"><span class="linenos">720</span></a>
</span><span id="Widget.debug-721"><a href="#Widget.debug-721"><span class="linenos">721</span></a>        <span class="n">constructor</span> <span class="o">+=</span> <span class="s2">&quot;)&quot;</span>
</span><span id="Widget.debug-722"><a href="#Widget.debug-722"><span class="linenos">722</span></a>
</span><span id="Widget.debug-723"><a href="#Widget.debug-723"><span class="linenos">723</span></a>        <span class="k">return</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">+</span> <span class="n">constructor</span>
</span></pre></div>


            <div class="docstring"><p>Returns identifiable information about this widget.</p>

<p>This method is used to easily differentiate between widgets. By default, all widget's
__repr__ method is an alias to this. The signature of each widget is used to generate
the return value.</p>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>A string almost exactly matching the line of code that could have defined the widget.</p>
  
  <p>Example return:</p>

<pre><code>Container(Label(value="This is a label", padding=0),
Button(label="This is a button", padding=0), **attrs)
</code></pre>
</blockquote>
</div>


                            </div>
                </section>
                <section id="Label">
                            <input id="Label-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">Label</span><wbr>(<span class="base"><a href="#Widget">Widget</a></span>):

                <label class="view-source-button" for="Label-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Label"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Label-726"><a href="#Label-726"><span class="linenos">726</span></a><span class="k">class</span> <span class="nc">Label</span><span class="p">(</span><span class="n">Widget</span><span class="p">):</span>
</span><span id="Label-727"><a href="#Label-727"><span class="linenos">727</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;A Widget to display a string</span>
</span><span id="Label-728"><a href="#Label-728"><span class="linenos">728</span></a>
</span><span id="Label-729"><a href="#Label-729"><span class="linenos">729</span></a><span class="sd">    By default, this widget uses `pytermgui.widgets.styles.MARKUP`. This</span>
</span><span id="Label-730"><a href="#Label-730"><span class="linenos">730</span></a><span class="sd">    allows it to house markup text that is parsed before display, such as:</span>
</span><span id="Label-731"><a href="#Label-731"><span class="linenos">731</span></a>
</span><span id="Label-732"><a href="#Label-732"><span class="linenos">732</span></a><span class="sd">    ```termage-svg</span>
</span><span id="Label-733"><a href="#Label-733"><span class="linenos">733</span></a><span class="sd">    print(&quot;hello world&quot;)</span>
</span><span id="Label-734"><a href="#Label-734"><span class="linenos">734</span></a><span class="sd">    ```</span>
</span><span id="Label-735"><a href="#Label-735"><span class="linenos">735</span></a>
</span><span id="Label-736"><a href="#Label-736"><span class="linenos">736</span></a><span class="sd">    ```python3</span>
</span><span id="Label-737"><a href="#Label-737"><span class="linenos">737</span></a><span class="sd">    import pytermgui as ptg</span>
</span><span id="Label-738"><a href="#Label-738"><span class="linenos">738</span></a>
</span><span id="Label-739"><a href="#Label-739"><span class="linenos">739</span></a><span class="sd">    with ptg.alt_buffer():</span>
</span><span id="Label-740"><a href="#Label-740"><span class="linenos">740</span></a><span class="sd">        root = ptg.Container(</span>
</span><span id="Label-741"><a href="#Label-741"><span class="linenos">741</span></a><span class="sd">            ptg.Label(&quot;[italic 141 bold]This is some [green]fancy [white inverse]text!&quot;)</span>
</span><span id="Label-742"><a href="#Label-742"><span class="linenos">742</span></a><span class="sd">        )</span>
</span><span id="Label-743"><a href="#Label-743"><span class="linenos">743</span></a><span class="sd">        root.print()</span>
</span><span id="Label-744"><a href="#Label-744"><span class="linenos">744</span></a><span class="sd">        ptg.getch()</span>
</span><span id="Label-745"><a href="#Label-745"><span class="linenos">745</span></a><span class="sd">    ```</span>
</span><span id="Label-746"><a href="#Label-746"><span class="linenos">746</span></a>
</span><span id="Label-747"><a href="#Label-747"><span class="linenos">747</span></a><span class="sd">    &lt;p style=&quot;text-align: center&quot;&gt;</span>
</span><span id="Label-748"><a href="#Label-748"><span class="linenos">748</span></a><span class="sd">     &lt;img</span>
</span><span id="Label-749"><a href="#Label-749"><span class="linenos">749</span></a><span class="sd">      src=&quot;https://github.com/bczsalba/pytermgui/blob/master/assets/docs/widgets/label.png?raw=true&quot;</span>
</span><span id="Label-750"><a href="#Label-750"><span class="linenos">750</span></a><span class="sd">      width=100%&gt;</span>
</span><span id="Label-751"><a href="#Label-751"><span class="linenos">751</span></a><span class="sd">    &lt;/p&gt;</span>
</span><span id="Label-752"><a href="#Label-752"><span class="linenos">752</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="Label-753"><a href="#Label-753"><span class="linenos">753</span></a>
</span><span id="Label-754"><a href="#Label-754"><span class="linenos">754</span></a>    <span class="n">serialized</span> <span class="o">=</span> <span class="n">Widget</span><span class="o">.</span><span class="n">serialized</span> <span class="o">+</span> <span class="p">[</span><span class="s2">&quot;*value&quot;</span><span class="p">,</span> <span class="s2">&quot;align&quot;</span><span class="p">,</span> <span class="s2">&quot;padding&quot;</span><span class="p">]</span>
</span><span id="Label-755"><a href="#Label-755"><span class="linenos">755</span></a>    <span class="n">styles</span> <span class="o">=</span> <span class="n">w_styles</span><span class="o">.</span><span class="n">StyleManager</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
</span><span id="Label-756"><a href="#Label-756"><span class="linenos">756</span></a>
</span><span id="Label-757"><a href="#Label-757"><span class="linenos">757</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
</span><span id="Label-758"><a href="#Label-758"><span class="linenos">758</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="Label-759"><a href="#Label-759"><span class="linenos">759</span></a>        <span class="n">value</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span id="Label-760"><a href="#Label-760"><span class="linenos">760</span></a>        <span class="n">style</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">w_styles</span><span class="o">.</span><span class="n">StyleValue</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span id="Label-761"><a href="#Label-761"><span class="linenos">761</span></a>        <span class="n">padding</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
</span><span id="Label-762"><a href="#Label-762"><span class="linenos">762</span></a>        <span class="n">non_first_padding</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
</span><span id="Label-763"><a href="#Label-763"><span class="linenos">763</span></a>        <span class="o">**</span><span class="n">attrs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
</span><span id="Label-764"><a href="#Label-764"><span class="linenos">764</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Label-765"><a href="#Label-765"><span class="linenos">765</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Initializes a Label.</span>
</span><span id="Label-766"><a href="#Label-766"><span class="linenos">766</span></a>
</span><span id="Label-767"><a href="#Label-767"><span class="linenos">767</span></a><span class="sd">        Args:</span>
</span><span id="Label-768"><a href="#Label-768"><span class="linenos">768</span></a><span class="sd">            value: The value of this string. Using the default value style</span>
</span><span id="Label-769"><a href="#Label-769"><span class="linenos">769</span></a><span class="sd">                (`pytermgui.widgets.styles.MARKUP`),</span>
</span><span id="Label-770"><a href="#Label-770"><span class="linenos">770</span></a><span class="sd">            style: A pre-set value for self.styles.value.</span>
</span><span id="Label-771"><a href="#Label-771"><span class="linenos">771</span></a><span class="sd">            padding: The number of space (&quot; &quot;) characters to prepend to every line after</span>
</span><span id="Label-772"><a href="#Label-772"><span class="linenos">772</span></a><span class="sd">                line breaking.</span>
</span><span id="Label-773"><a href="#Label-773"><span class="linenos">773</span></a><span class="sd">            non_first_padding: The number of space characters to prepend to every</span>
</span><span id="Label-774"><a href="#Label-774"><span class="linenos">774</span></a><span class="sd">                non-first line of `get_lines`. This is applied on top of `padding`.</span>
</span><span id="Label-775"><a href="#Label-775"><span class="linenos">775</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Label-776"><a href="#Label-776"><span class="linenos">776</span></a>
</span><span id="Label-777"><a href="#Label-777"><span class="linenos">777</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">attrs</span><span class="p">)</span>
</span><span id="Label-778"><a href="#Label-778"><span class="linenos">778</span></a>
</span><span id="Label-779"><a href="#Label-779"><span class="linenos">779</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">value</span>
</span><span id="Label-780"><a href="#Label-780"><span class="linenos">780</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">padding</span> <span class="o">=</span> <span class="n">padding</span>
</span><span id="Label-781"><a href="#Label-781"><span class="linenos">781</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">non_first_padding</span> <span class="o">=</span> <span class="n">non_first_padding</span>
</span><span id="Label-782"><a href="#Label-782"><span class="linenos">782</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="n">real_length</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">padding</span>
</span><span id="Label-783"><a href="#Label-783"><span class="linenos">783</span></a>
</span><span id="Label-784"><a href="#Label-784"><span class="linenos">784</span></a>        <span class="k">if</span> <span class="n">style</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
</span><span id="Label-785"><a href="#Label-785"><span class="linenos">785</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">styles</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">style</span>
</span><span id="Label-786"><a href="#Label-786"><span class="linenos">786</span></a>
</span><span id="Label-787"><a href="#Label-787"><span class="linenos">787</span></a>    <span class="k">def</span> <span class="nf">get_lines</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
</span><span id="Label-788"><a href="#Label-788"><span class="linenos">788</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get lines representing this Label, breaking lines as necessary&quot;&quot;&quot;</span>
</span><span id="Label-789"><a href="#Label-789"><span class="linenos">789</span></a>
</span><span id="Label-790"><a href="#Label-790"><span class="linenos">790</span></a>        <span class="n">lines</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Label-791"><a href="#Label-791"><span class="linenos">791</span></a>        <span class="n">limit</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">padding</span>
</span><span id="Label-792"><a href="#Label-792"><span class="linenos">792</span></a>        <span class="n">broken</span> <span class="o">=</span> <span class="n">break_line</span><span class="p">(</span>
</span><span id="Label-793"><a href="#Label-793"><span class="linenos">793</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">styles</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">value</span><span class="p">),</span>
</span><span id="Label-794"><a href="#Label-794"><span class="linenos">794</span></a>            <span class="n">limit</span><span class="o">=</span><span class="n">limit</span><span class="p">,</span>
</span><span id="Label-795"><a href="#Label-795"><span class="linenos">795</span></a>            <span class="n">non_first_limit</span><span class="o">=</span><span class="n">limit</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">non_first_padding</span><span class="p">,</span>
</span><span id="Label-796"><a href="#Label-796"><span class="linenos">796</span></a>        <span class="p">)</span>
</span><span id="Label-797"><a href="#Label-797"><span class="linenos">797</span></a>
</span><span id="Label-798"><a href="#Label-798"><span class="linenos">798</span></a>        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">line</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">broken</span><span class="p">):</span>
</span><span id="Label-799"><a href="#Label-799"><span class="linenos">799</span></a>            <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="Label-800"><a href="#Label-800"><span class="linenos">800</span></a>                <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">padding</span> <span class="o">*</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="n">line</span><span class="p">)</span>
</span><span id="Label-801"><a href="#Label-801"><span class="linenos">801</span></a>                <span class="k">continue</span>
</span><span id="Label-802"><a href="#Label-802"><span class="linenos">802</span></a>
</span><span id="Label-803"><a href="#Label-803"><span class="linenos">803</span></a>            <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">padding</span> <span class="o">*</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">non_first_padding</span> <span class="o">*</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="n">line</span><span class="p">)</span>
</span><span id="Label-804"><a href="#Label-804"><span class="linenos">804</span></a>
</span><span id="Label-805"><a href="#Label-805"><span class="linenos">805</span></a>        <span class="k">return</span> <span class="n">lines</span> <span class="ow">or</span> <span class="p">[</span><span class="s2">&quot;&quot;</span><span class="p">]</span>
</span></pre></div>


            <div class="docstring"><p>A Widget to display a string</p>

<p>By default, this widget uses <code>pytermgui.widgets.styles.MARKUP</code>. This
allows it to house markup text that is parsed before display, such as:</p>

<pre><code>print("hello world")
</code></pre>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="kn">import</span> <span class="nn">pytermgui</span> <span class="k">as</span> <span class="nn">ptg</span>

<span class="k">with</span> <span class="n">ptg</span><span class="o">.</span><span class="n">alt_buffer</span><span class="p">():</span>
    <span class="n">root</span> <span class="o">=</span> <span class="n">ptg</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span>
        <span class="n">ptg</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="s2">&quot;[italic 141 bold]This is some [green]fancy [white inverse]text!&quot;</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="n">root</span><span class="o">.</span><span class="n">print</span><span class="p">()</span>
    <span class="n">ptg</span><span class="o">.</span><span class="n">getch</span><span class="p">()</span>
</code></pre>
</div>

<p style="text-align: center">
 <img
  src="https://github.com/bczsalba/pytermgui/blob/master/assets/docs/widgets/label.png?raw=true"
  width=100%>
</p>
</div>


                            <div id="Label.__init__" class="classattr">
                                        <input id="Label.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">Label</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">value</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>,</span><span class="param">	<span class="n">style</span><span class="p">:</span> <span class="s1">&#39;str | w_styles.StyleValue&#39;</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>,</span><span class="param">	<span class="n">padding</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span>,</span><span class="param">	<span class="n">non_first_padding</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span>,</span><span class="param">	<span class="o">**</span><span class="n">attrs</span><span class="p">:</span> <span class="n">Any</span></span>)</span>

                <label class="view-source-button" for="Label.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Label.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Label.__init__-757"><a href="#Label.__init__-757"><span class="linenos">757</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
</span><span id="Label.__init__-758"><a href="#Label.__init__-758"><span class="linenos">758</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="Label.__init__-759"><a href="#Label.__init__-759"><span class="linenos">759</span></a>        <span class="n">value</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span id="Label.__init__-760"><a href="#Label.__init__-760"><span class="linenos">760</span></a>        <span class="n">style</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">w_styles</span><span class="o">.</span><span class="n">StyleValue</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span id="Label.__init__-761"><a href="#Label.__init__-761"><span class="linenos">761</span></a>        <span class="n">padding</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
</span><span id="Label.__init__-762"><a href="#Label.__init__-762"><span class="linenos">762</span></a>        <span class="n">non_first_padding</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
</span><span id="Label.__init__-763"><a href="#Label.__init__-763"><span class="linenos">763</span></a>        <span class="o">**</span><span class="n">attrs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
</span><span id="Label.__init__-764"><a href="#Label.__init__-764"><span class="linenos">764</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Label.__init__-765"><a href="#Label.__init__-765"><span class="linenos">765</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Initializes a Label.</span>
</span><span id="Label.__init__-766"><a href="#Label.__init__-766"><span class="linenos">766</span></a>
</span><span id="Label.__init__-767"><a href="#Label.__init__-767"><span class="linenos">767</span></a><span class="sd">        Args:</span>
</span><span id="Label.__init__-768"><a href="#Label.__init__-768"><span class="linenos">768</span></a><span class="sd">            value: The value of this string. Using the default value style</span>
</span><span id="Label.__init__-769"><a href="#Label.__init__-769"><span class="linenos">769</span></a><span class="sd">                (`pytermgui.widgets.styles.MARKUP`),</span>
</span><span id="Label.__init__-770"><a href="#Label.__init__-770"><span class="linenos">770</span></a><span class="sd">            style: A pre-set value for self.styles.value.</span>
</span><span id="Label.__init__-771"><a href="#Label.__init__-771"><span class="linenos">771</span></a><span class="sd">            padding: The number of space (&quot; &quot;) characters to prepend to every line after</span>
</span><span id="Label.__init__-772"><a href="#Label.__init__-772"><span class="linenos">772</span></a><span class="sd">                line breaking.</span>
</span><span id="Label.__init__-773"><a href="#Label.__init__-773"><span class="linenos">773</span></a><span class="sd">            non_first_padding: The number of space characters to prepend to every</span>
</span><span id="Label.__init__-774"><a href="#Label.__init__-774"><span class="linenos">774</span></a><span class="sd">                non-first line of `get_lines`. This is applied on top of `padding`.</span>
</span><span id="Label.__init__-775"><a href="#Label.__init__-775"><span class="linenos">775</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Label.__init__-776"><a href="#Label.__init__-776"><span class="linenos">776</span></a>
</span><span id="Label.__init__-777"><a href="#Label.__init__-777"><span class="linenos">777</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">attrs</span><span class="p">)</span>
</span><span id="Label.__init__-778"><a href="#Label.__init__-778"><span class="linenos">778</span></a>
</span><span id="Label.__init__-779"><a href="#Label.__init__-779"><span class="linenos">779</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">value</span>
</span><span id="Label.__init__-780"><a href="#Label.__init__-780"><span class="linenos">780</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">padding</span> <span class="o">=</span> <span class="n">padding</span>
</span><span id="Label.__init__-781"><a href="#Label.__init__-781"><span class="linenos">781</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">non_first_padding</span> <span class="o">=</span> <span class="n">non_first_padding</span>
</span><span id="Label.__init__-782"><a href="#Label.__init__-782"><span class="linenos">782</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="n">real_length</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">padding</span>
</span><span id="Label.__init__-783"><a href="#Label.__init__-783"><span class="linenos">783</span></a>
</span><span id="Label.__init__-784"><a href="#Label.__init__-784"><span class="linenos">784</span></a>        <span class="k">if</span> <span class="n">style</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
</span><span id="Label.__init__-785"><a href="#Label.__init__-785"><span class="linenos">785</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">styles</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">style</span>
</span></pre></div>


            <div class="docstring"><p>Initializes a Label.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>value:</strong>  The value of this string. Using the default value style
(<code>pytermgui.widgets.styles.MARKUP</code>),</li>
<li><strong>style:</strong>  A pre-set value for self.styles.value.</li>
<li><strong>padding:</strong>  The number of space (" ") characters to prepend to every line after
line breaking.</li>
<li><strong>non_first_padding:</strong>  The number of space characters to prepend to every
non-first line of <code><a href="#Label.get_lines">get_lines</a></code>. This is applied on top of <code>padding</code>.</li>
</ul>
</div>


                            </div>
                            <div id="Label.serialized" class="classattr">
                                <div class="attr variable">
            <span class="name">serialized</span>        =
<input id="Label.serialized-view-value" class="view-value-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
            <label class="view-value-button pdoc-button" for="Label.serialized-view-value"></label><span class="default_value">[&#39;id&#39;, &#39;pos&#39;, &#39;depth&#39;, &#39;width&#39;, &#39;height&#39;, &#39;selected_index&#39;, &#39;selectables_length&#39;, &#39;*value&#39;, &#39;align&#39;, &#39;padding&#39;]</span>

        
    </div>
    <a class="headerlink" href="#Label.serialized"></a>
    
            <div class="docstring"><p>Fields of widget that shall be serialized by <code>pytermgui.serializer.Serializer</code></p>
</div>


                            </div>
                            <div id="Label.styles" class="classattr">
                                <div class="attr variable">
            <span class="name">styles</span>        =
<input id="Label.styles-view-value" class="view-value-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
            <label class="view-value-button pdoc-button" for="Label.styles-view-value"></label><span class="default_value">{&#39;value&#39;: StyleCall(obj=None, method=MarkupFormatter(markup=&#39;{item}&#39;, ensure_strip=False, _markup_cache={}))}</span>

        
    </div>
    <a class="headerlink" href="#Label.styles"></a>
    
            <div class="docstring"><p>Default styles for this class</p>
</div>


                            </div>
                            <div id="Label.get_lines" class="classattr">
                                        <input id="Label.get_lines-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_lines</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="Label.get_lines-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Label.get_lines"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Label.get_lines-787"><a href="#Label.get_lines-787"><span class="linenos">787</span></a>    <span class="k">def</span> <span class="nf">get_lines</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
</span><span id="Label.get_lines-788"><a href="#Label.get_lines-788"><span class="linenos">788</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get lines representing this Label, breaking lines as necessary&quot;&quot;&quot;</span>
</span><span id="Label.get_lines-789"><a href="#Label.get_lines-789"><span class="linenos">789</span></a>
</span><span id="Label.get_lines-790"><a href="#Label.get_lines-790"><span class="linenos">790</span></a>        <span class="n">lines</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Label.get_lines-791"><a href="#Label.get_lines-791"><span class="linenos">791</span></a>        <span class="n">limit</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">padding</span>
</span><span id="Label.get_lines-792"><a href="#Label.get_lines-792"><span class="linenos">792</span></a>        <span class="n">broken</span> <span class="o">=</span> <span class="n">break_line</span><span class="p">(</span>
</span><span id="Label.get_lines-793"><a href="#Label.get_lines-793"><span class="linenos">793</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">styles</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">value</span><span class="p">),</span>
</span><span id="Label.get_lines-794"><a href="#Label.get_lines-794"><span class="linenos">794</span></a>            <span class="n">limit</span><span class="o">=</span><span class="n">limit</span><span class="p">,</span>
</span><span id="Label.get_lines-795"><a href="#Label.get_lines-795"><span class="linenos">795</span></a>            <span class="n">non_first_limit</span><span class="o">=</span><span class="n">limit</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">non_first_padding</span><span class="p">,</span>
</span><span id="Label.get_lines-796"><a href="#Label.get_lines-796"><span class="linenos">796</span></a>        <span class="p">)</span>
</span><span id="Label.get_lines-797"><a href="#Label.get_lines-797"><span class="linenos">797</span></a>
</span><span id="Label.get_lines-798"><a href="#Label.get_lines-798"><span class="linenos">798</span></a>        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">line</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">broken</span><span class="p">):</span>
</span><span id="Label.get_lines-799"><a href="#Label.get_lines-799"><span class="linenos">799</span></a>            <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="Label.get_lines-800"><a href="#Label.get_lines-800"><span class="linenos">800</span></a>                <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">padding</span> <span class="o">*</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="n">line</span><span class="p">)</span>
</span><span id="Label.get_lines-801"><a href="#Label.get_lines-801"><span class="linenos">801</span></a>                <span class="k">continue</span>
</span><span id="Label.get_lines-802"><a href="#Label.get_lines-802"><span class="linenos">802</span></a>
</span><span id="Label.get_lines-803"><a href="#Label.get_lines-803"><span class="linenos">803</span></a>            <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">padding</span> <span class="o">*</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">non_first_padding</span> <span class="o">*</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="n">line</span><span class="p">)</span>
</span><span id="Label.get_lines-804"><a href="#Label.get_lines-804"><span class="linenos">804</span></a>
</span><span id="Label.get_lines-805"><a href="#Label.get_lines-805"><span class="linenos">805</span></a>        <span class="k">return</span> <span class="n">lines</span> <span class="ow">or</span> <span class="p">[</span><span class="s2">&quot;&quot;</span><span class="p">]</span>
</span></pre></div>


            <div class="docstring"><p>Get lines representing this Label, breaking lines as necessary</p>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt><a href="#Widget">Widget</a></dt>
                                <dd id="Label.set_style" class="function"><a href="#Widget.set_style">set_style</a></dd>
                <dd id="Label.set_char" class="function"><a href="#Widget.set_char">set_char</a></dd>
                <dd id="Label.chars" class="variable"><a href="#Widget.chars">chars</a></dd>
                <dd id="Label.keys" class="variable"><a href="#Widget.keys">keys</a></dd>
                <dd id="Label.size_policy" class="variable"><a href="#Widget.size_policy">size_policy</a></dd>
                <dd id="Label.parent_align" class="variable"><a href="#Widget.parent_align">parent_align</a></dd>
                <dd id="Label.from_data" class="function"><a href="#Widget.from_data">from_data</a></dd>
                <dd id="Label.bindings" class="variable"><a href="#Widget.bindings">bindings</a></dd>
                <dd id="Label.id" class="variable"><a href="#Widget.id">id</a></dd>
                <dd id="Label.selectables_length" class="variable"><a href="#Widget.selectables_length">selectables_length</a></dd>
                <dd id="Label.selectables" class="variable"><a href="#Widget.selectables">selectables</a></dd>
                <dd id="Label.is_selectable" class="variable"><a href="#Widget.is_selectable">is_selectable</a></dd>
                <dd id="Label.static_width" class="variable"><a href="#Widget.static_width">static_width</a></dd>
                <dd id="Label.relative_width" class="variable"><a href="#Widget.relative_width">relative_width</a></dd>
                <dd id="Label.terminal" class="variable"><a href="#Widget.terminal">terminal</a></dd>
                <dd id="Label.get_change" class="function"><a href="#Widget.get_change">get_change</a></dd>
                <dd id="Label.contains" class="function"><a href="#Widget.contains">contains</a></dd>
                <dd id="Label.handle_mouse" class="function"><a href="#Widget.handle_mouse">handle_mouse</a></dd>
                <dd id="Label.handle_key" class="function"><a href="#Widget.handle_key">handle_key</a></dd>
                <dd id="Label.serialize" class="function"><a href="#Widget.serialize">serialize</a></dd>
                <dd id="Label.copy" class="function"><a href="#Widget.copy">copy</a></dd>
                <dd id="Label.move" class="function"><a href="#Widget.move">move</a></dd>
                <dd id="Label.bind" class="function"><a href="#Widget.bind">bind</a></dd>
                <dd id="Label.unbind" class="function"><a href="#Widget.unbind">unbind</a></dd>
                <dd id="Label.execute_binding" class="function"><a href="#Widget.execute_binding">execute_binding</a></dd>
                <dd id="Label.select" class="function"><a href="#Widget.select">select</a></dd>
                <dd id="Label.print" class="function"><a href="#Widget.print">print</a></dd>
                <dd id="Label.debug" class="function"><a href="#Widget.debug">debug</a></dd>

            </div>
                                </dl>
                            </div>
                </section>
    </main>
<script>
    function escapeHTML(html) {
        return document.createElement('div').appendChild(document.createTextNode(html)).parentNode.innerHTML;
    }

    const originalContent = document.querySelector("main.pdoc");
    let currentContent = originalContent;

    function setContent(innerHTML) {
        let elem;
        if (innerHTML) {
            elem = document.createElement("main");
            elem.classList.add("pdoc");
            elem.innerHTML = innerHTML;
        } else {
            elem = originalContent;
        }
        if (currentContent !== elem) {
            currentContent.replaceWith(elem);
            currentContent = elem;
        }
    }

    function getSearchTerm() {
        return (new URL(window.location)).searchParams.get("search");
    }

    const searchBox = document.querySelector(".pdoc input[type=search]");
    searchBox.addEventListener("input", function () {
        let url = new URL(window.location);
        if (searchBox.value.trim()) {
            url.hash = "";
            url.searchParams.set("search", searchBox.value);
        } else {
            url.searchParams.delete("search");
        }
        history.replaceState("", "", url.toString());
        onInput();
    });
    window.addEventListener("popstate", onInput);


    let search, searchErr;

    async function initialize() {
        try {
            search = await new Promise((resolve, reject) => {
                const script = document.createElement("script");
                script.type = "text/javascript";
                script.async = true;
                script.onload = () => resolve(window.pdocSearch);
                script.onerror = (e) => reject(e);
                script.src = "../../search.js";
                document.getElementsByTagName("head")[0].appendChild(script);
            });
        } catch (e) {
            console.error("Cannot fetch pdoc search index");
            searchErr = "Cannot fetch search index.";
        }
        onInput();

        document.querySelector("nav.pdoc").addEventListener("click", e => {
            if (e.target.hash) {
                searchBox.value = "";
                searchBox.dispatchEvent(new Event("input"));
            }
        });
    }

    function onInput() {
        setContent((() => {
            const term = getSearchTerm();
            if (!term) {
                return null
            }
            if (searchErr) {
                return `<h3>Error: ${searchErr}</h3>`
            }
            if (!search) {
                return "<h3>Searching...</h3>"
            }

            window.scrollTo({top: 0, left: 0, behavior: 'auto'});

            const results = search(term);

            let html;
            if (results.length === 0) {
                html = `No search results for '${escapeHTML(term)}'.`
            } else {
                html = `<h4>${results.length} search result${results.length > 1 ? "s" : ""} for '${escapeHTML(term)}'.</h4>`;
            }
            for (let result of results.slice(0, 10)) {
                let doc = result.doc;
                let url = `../../${doc.modulename.replaceAll(".", "/")}.html`;
                if (doc.qualname) {
                    url += `#${doc.qualname}`;
                }

                let heading;
                switch (result.doc.kind) {
                    case "function":
                        if (doc.fullname.endsWith(".__init__")) {
                            heading = `<span class="name">${doc.fullname.replace(/\.__init__$/, "")}</span>${doc.signature}`;
                        } else {
                            heading = `<span class="def">${doc.funcdef}</span> <span class="name">${doc.fullname}</span>${doc.signature}`;
                        }
                        break;
                    case "class":
                        heading = `<span class="def">class</span> <span class="name">${doc.fullname}</span>`;
                        if (doc.bases)
                            heading += `<wbr>(<span class="base">${doc.bases}</span>)`;
                        heading += `:`;
                        break;
                    case "variable":
                        heading = `<span class="name">${doc.fullname}</span>`;
                        if (doc.annotation)
                            heading += `<span class="annotation">${doc.annotation}</span>`;
                        if (doc.default_value)
                            heading += `<span class="default_value"> = ${doc.default_value}</span>`;
                        break;
                    default:
                        heading = `<span class="name">${doc.fullname}</span>`;
                        break;
                }
                html += `
                        <section class="search-result">
                        <a href="${url}" class="attr ${doc.kind}">${heading}</a>
                        <div class="docstring">${doc.doc}</div>
                        </section>
                    `;

            }
            return html;
        })());
    }

    if (getSearchTerm()) {
        initialize();
        searchBox.value = getSearchTerm();
        onInput();
    } else {
        searchBox.addEventListener("focus", initialize, {once: true});
    }

    searchBox.addEventListener("keydown", e => {
        if (["ArrowDown", "ArrowUp", "Enter"].includes(e.key)) {
            let focused = currentContent.querySelector(".search-result.focused");
            if (!focused) {
                currentContent.querySelector(".search-result").classList.add("focused");
            } else if (
                e.key === "ArrowDown"
                && focused.nextElementSibling
                && focused.nextElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.nextElementSibling.classList.add("focused");
                focused.nextElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "ArrowUp"
                && focused.previousElementSibling
                && focused.previousElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.previousElementSibling.classList.add("focused");
                focused.previousElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "Enter"
            ) {
                focused.querySelector("a").click();
            }
        }
    });
</script></body>
</html>